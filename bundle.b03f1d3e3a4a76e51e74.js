/*! For license information please see bundle.b03f1d3e3a4a76e51e74.js.LICENSE.txt */
(self.webpackChunkpapelaria_sis=self.webpackChunkpapelaria_sis||[]).push([[792],{343:(e,t,n)=>{"use strict";var r=n(5072),o=n.n(r),a=n(7825),i=n.n(a),c=n(7659),s=n.n(c),d=n(5056),l=n.n(d),u=n(540),p=n.n(u),m=n(1113),f=n.n(m),h=n(8961),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals;var v=n(6054),y={};y.styleTagTransform=f(),y.setAttributes=l(),y.insert=s().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=p(),o()(v.A,y),v.A&&v.A.locals&&v.A.locals,n(9331),(0,n(2795).AB)()},6795:(e,t,n)=>{"use strict";n.d(t,{fZ:()=>g,nm:()=>v,gr:()=>y,$I:()=>b});var r=n(1676);const o=n.p+"assets/logo-transparente.png";var a=n(8246);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};l(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,c,s){var d=p(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==i(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=p(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),l(I,d,"Generator"),l(I,c,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}var g='\n<div id="cabecalho" class="bg-gray-100 p-4 pt-1 space-y-2 rounded-bl-[14px] rounded-br-[14px]">\n    \x3c!-- <div class="text-center text-2xl font-bold text-[#348D79]">\n        Papelaria Criativa\n    </div> --\x3e\n\n    <div class="flex justify-center">\n        <img src="'.concat(o,'" alt="Logo da empresa" class="h-32">\n    </div>\n\n    <div class="flex justify-between items-center" style="margin-top: -1.5rem;">\n        \x3c!-- Menu hambúrguer visível apenas em telas pequenas --\x3e\n        <span class="md:hidden">\n            <i id="menu-toggle" class="fas fa-bars text-xl cursor-pointer"></i>\n        </span>\n\n        \x3c!-- Menu horizontal visível apenas em telas médias e grandes --\x3e\n        <nav id="menu-horizontal" class="hidden md:flex md:items-center md:space-x-4">\n            <a href="/" class="text-gray-800 hover:text-green-600">Início</a>\n            \x3c!-- Skeleton loading para nav-config --\x3e\n            <span id="nav-config-skeleton" class="h-4 w-24 bg-gray-300 rounded animate-pulse"></span>\n            <a id="nav-config" href="/" class="text-gray-800 hover:text-green-600 hidden">Administração</a>\n            <a id="nav-login" href="/login" class="text-gray-800 hover:text-green-600">Entrar</a>\n            <a id="nav-logout" href="#/logout" class="text-red-600 hover:text-red-800 hidden">Sair</a>\n        </nav>\n\n        <i id="menu-carrinho-toggle" class="fas fa-shopping-cart text-xl cursor-pointer"></i>\n    </div>\n\n    <div>\n        <input \n        id="filtro-produtos"\n        type="text" \n        placeholder="Pesquisar produtos..." \n        class="w-full p-2 border border-gray-300 rounded text-black"\n        >\n    </div>\n</div>\n\n\x3c!-- Menu lateral para telas pequenas --\x3e\n<div id="menu-home" class="fixed z-10 top-0 left-0 p-6 w-64 h-full text-white transform -translate-x-full transition-transform duration-300">\n    <div class="flex justify-end">\n        <i id="menu-close" class="fas fa-times text-xl cursor-pointer"></i>\n    </div>\n\n    <div id="user-info" class="mb-4 hidden">\n        <p id="user-name" class="text-lg font-semibold text-white"></p>\n        <img id="user-photo" class="w-12 h-12 rounded-full mt-2" src="" alt="Foto do usuário" referrerpolicy="no-referrer">\n    </div>\n\n    <ul class="space-y-2">\n        <li id="liLogin"><a href="/login" class="block text-lg text-white">Entrar</a></li>\n        <li id="aConfig-skeleton" class="h-6 w-32 bg-gray-700 rounded animate-pulse"></li>\n        <li><a id="aConfig" href="/" class="block text-lg text-white"></a></li>\n        <li id="liLogout"><a href="#/logout" class="block text-lg text-red-600">Sair</a></li>\n    </ul>\n</div>\n\n<div id="menu-carrinho" class="fixed z-10 top-0 right-0 p-6 pr-0 w-[25rem] h-full text-white transform translate-x-[100%] transition-transform duration-300">\n    <div class="flex justify-end pr-6">\n        <i id="menu-carrinho-close" class="fas fa-times text-xl cursor-pointer"></i>\n    </div>\n\n    <h2 class="text-lg font-semibold mb-4">Carrinho</h2>\n\n    <ul id="itens-carrinho" class="space-y-4 max-h-[30rem] overflow-y-auto pr-4">\n    </ul>\n\n    <div class="flex justify-between items-center mt-4 px-6 lg:px-4">\n          <span class="font-bold text-lg">Total da Compra:</span>\n          <span id="total-carrinho" class="text-xl font-bold">R$ 0,00</span>\n      </div>\n\n    <div class="mt-4 pr-6">\n        <button id="btn-finalizar-carrinho" class="w-full bg-green-500 text-white py-2 rounded hover:bg-green-600">Finalizar Compra</button>\n    </div>\n</div>\n');function v(){var e=(0,r.xI)();(0,r.hg)(e,function(){var e=h(m().mark((function e(t){var n,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onAuthStateChanged Cabecalho.js"),!document.getElementById("menu-home")){e.next=25;break}if(!t){e.next=18;break}return n=(0,r.H9)(r.kA,"usuarios",t.uid),e.next=6,(0,r.x7)(n);case 6:o=e.sent,document.getElementById("user-info").classList.remove("hidden"),document.getElementById("user-name").textContent="Olá, ".concat(t.displayName),o.exists()&&(localStorage.removeItem("user"),a=o.data(),document.getElementById("user-photo").src=t.photoURL||a.fotoPerfil,"cliente"===a.tipo?(document.getElementById("aConfig").style.display="none",document.getElementById("aConfig").innerHTML="Configurações",document.getElementById("aConfig").href="/",document.getElementById("nav-config").classList.add("hidden"),document.getElementById("nav-config").innerHTML="Configurações",document.getElementById("nav-config").href="/"):(document.getElementById("aConfig").style.display="",document.getElementById("aConfig").innerHTML="Administração",document.getElementById("aConfig").href="/app",console.log("Usuário logado é adm"),console.log(document.getElementById("nav-config")),document.getElementById("nav-config").classList.remove("hidden"),document.getElementById("nav-config").innerHTML="Administração",document.getElementById("nav-config").href="/app")),document.getElementById("nav-config-skeleton").classList.add("hidden"),document.getElementById("aConfig-skeleton").classList.add("hidden"),document.getElementById("liLogin").style.display="none",document.getElementById("liLogout").style.display="",document.getElementById("nav-login").classList.add("hidden"),document.getElementById("nav-logout").classList.remove("hidden"),e.next=25;break;case 18:document.getElementById("nav-config-skeleton").classList.add("hidden"),document.getElementById("aConfig-skeleton").classList.add("hidden"),document.getElementById("liLogin").style.display="",document.getElementById("liLogout").style.display="none",document.getElementById("nav-login").classList.remove("hidden"),document.getElementById("nav-logout").classList.add("hidden"),document.getElementById("nav-config").classList.add("hidden");case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t=document.getElementById("menu-toggle"),n=document.getElementById("menu-home"),o=document.getElementById("menu-close"),a=document.getElementById("menu-carrinho-toggle"),i=document.getElementById("menu-carrinho"),c=document.getElementById("menu-carrinho-close");function s(){var e=document.getElementById("menu-horizontal");window.innerWidth>=768?e&&(e.classList.remove("hidden"),e.classList.add("flex")):e&&(e.classList.add("hidden"),e.classList.remove("flex"))}t.addEventListener("click",(function(){n.classList.toggle("-translate-x-full"),n.classList.toggle("translate-x-0")})),o.addEventListener("click",(function(){n.classList.add("-translate-x-full"),n.classList.remove("translate-x-0")})),a.addEventListener("click",(function(){!function(){var e=document.getElementById("menu-carrinho");e.classList.toggle("translate-x-[100%]"),e.classList.toggle("translate-x-0")}()})),c.addEventListener("click",(function(){i.classList.add("translate-x-[100%]"),i.classList.remove("translate-x-0")})),b(),document.getElementById("btn-finalizar-carrinho").addEventListener("click",h(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.hash="/carrinho";case 1:case"end":return e.stop()}}),e)})))),s(),window.addEventListener("resize",s)}function y(){var e=document.getElementById("menu-carrinho");e.classList.remove("translate-x-[100%]"),e.classList.add("translate-x-0")}function b(){return x.apply(this,arguments)}function x(){return x=h(m().mark((function e(){var t,n,o,i,s,l,f,g,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("itens-carrinho")).innerHTML="",e.next=4,(0,a.VA)();case 4:if((n=e.sent)&&(!n||0!==n.length)){e.next=10;break}return t.innerHTML='<p class="text-gray-500">O carrinho está vazio.</p>',e.abrupt("return");case 10:return o=function(){var e=h(m().mark((function e(t,n){var o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.map(function(){var e=h(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.x7)((0,r.H9)(r.kA,t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(o);case 3:return a=e.sent,e.abrupt("return",a.filter((function(e){return e.exists()})).map((function(e){return d({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=n.map((function(e){return e.id})),y=new Set(i),s=function(e){if(Array.isArray(e))return p(e)}(y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||u(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e.next=15,o("produtos",s);case 15:l=e.sent,f=c(n),e.prev=17,v=m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=g.value).id&&(n=l.find((function(e){return e.id===t.id})))&&(t.descricao=n.descricao,t.precoVenda=n.precoVenda,t.imagem=n.imagem);case 2:case"end":return e.stop()}}),e)})),f.s();case 20:if((g=f.n()).done){e.next=24;break}return e.delegateYield(v(),"t0",22);case 22:e.next=20;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(17),f.e(e.t1);case 29:return e.prev=29,f.f(),e.finish(29);case 32:n.forEach((function(e){var n=document.createElement("li");n.classList.add("flex","items-center","space-x-4");var r=e.precoVenda*e.quantidade;n.innerHTML='\n        <img src="'.concat(e.imagem||"https://dummyimage.com/50",'" loading="lazy" alt="Produto" class="w-12 h-12 rounded">\n\n        <div class="flex-1">\n            <h3 class="text-sm font-semibold">').concat(e.descricao,'</h3>\n            <div class="flex items-center space-x-2 mt-2">\n                <label for="quantidade" class="text-sm">Qtd:</label>\n                <input type="number" value="').concat(e.quantidade,'" min="1" id="quantidade" data-id="').concat(e.id,'"\n                    class="carrinho-quantidade-input w-12 text-center bg-gray-700 text-white border border-gray-600 rounded">\n            </div>\n        </div>\n\n        <div class="flex flex-col items-end">\n            <span id="subtotal-carrinho-').concat(e.id,'" class="subtotal-carrinho text-sm font-semibold">R$ ').concat(r.toFixed(2).replace(".",","),'</span>\n            <button data-id="').concat(e.id,'" class="btn-remover-carrinho bg-red-500 text-white py-1 px-2 mt-1 rounded">\n                <i class="fas fa-trash"></i>\n            </button>\n        </div>\n        '),t.appendChild(n)})),document.querySelectorAll(".carrinho-quantidade-input").forEach((function(e){e.addEventListener("change",function(){var e=h(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.dataset.id,r=parseInt(t.target.value),(0,a.wx)(n,r),w(n,r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.querySelectorAll(".btn-remover-carrinho").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest("button.btn-remover-carrinho").getAttribute("data-id");(0,a.Ww)(t),b(),L()}))})),L();case 37:case"end":return e.stop()}var y}),e,null,[[17,26,29,32]])}))),x.apply(this,arguments)}function w(e,t){return E.apply(this,arguments)}function E(){return(E=h(m().mark((function e(t,n){var o,a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.x7)((0,r.H9)(r.kA,"produtos",t));case 2:o=e.sent,a=d({id:o},o.data()),i=a.precoVenda*n,document.getElementById("subtotal-carrinho-".concat(t)).textContent="R$ ".concat(i.toFixed(2).replace(".",",")),L();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){var e=document.getElementById("itens-carrinho"),t=0;e.querySelectorAll(".subtotal-carrinho").forEach((function(e){var n=parseFloat(e.textContent.replace("R$ ","").replace(",","."));t+=n})),document.getElementById("total-carrinho").textContent="R$ ".concat(t.toFixed(2).replace(".",","))}},2127:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>S});var r=n(1676),o=n(4541),a=n(2758),i=(n(8466),n(620)),c=n.n(i);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var d=m(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==s(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(s(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,i,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}var g=[],v=new Map,y=null,b=!1,x="environment";function w(){return new Promise((function(e){try{b&&(c().stop(),b=!1),"function"==typeof c().offDetected&&c().offDetected(),"function"==typeof c().offProcessed&&c().offProcessed();var t=document.querySelector("#interactive");t&&(t.innerHTML=""),setTimeout(e,500)}catch(t){console.log("Aviso: Erro ao limpar o scanner:",t),e()}}))}function E(){return L.apply(this,arguments)}function L(){return(L=h(d().mark((function e(){var t,n,r,o,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return(t=document.querySelector("#interactive"))&&(t.innerHTML=""),n={inputStream:{name:"Live",type:"LiveStream",target:t,constraints:{facingMode:{exact:x},aspectRatio:{min:1,max:2},width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"}},decoder:{readers:["ean_reader"],multiple:!1,debug:{drawBoundingBox:!0,showFrequency:!0,drawScanline:!0,showPattern:!0}},locator:{patchSize:"medium",halfSample:!0},frequency:10},e.prev=5,r=function(e){if(13!==e.length)return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n])*(n%2==0?1:3);return(10-t%10)%10===parseInt(e[12])},e.next=9,new Promise((function(e,t){c().init(n,(function(r){if(r)return console.error("Erro ao inicializar com câmera ".concat(x,":"),r),x="environment"===x?"user":"environment",n.inputStream.constraints.facingMode={exact:x},void c().init(n,(function(n){if(n)return console.error("Erro ao inicializar com câmera alternativa:",n),void t(n);e()}));e()}))}));case 9:console.log("Quagga inicializado com sucesso!"),b=!0,c().start(),o=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t.style.transform=o&&"user"!==x?"scaleX(1)":"scaleX(-1)",a=null,i=0,c().onDetected((function(e){var t=e.codeResult.code;r(t)?t===a?++i>=2&&y&&(v.set(y.id,t),B(),new Audio("https://www.soundjay.com/buttons/sounds/button-09.mp3").play(),I()):(a=t,i=1):console.log("Código inválido:",t)})),c().onProcessed((function(e){var t=c().canvas.ctx.overlay,n=c().canvas.dom.overlay;e&&(t.clearRect(0,0,parseInt(n.getAttribute("width")),parseInt(n.getAttribute("height"))),e.boxes&&e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){c().ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})})),e.box&&c().ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"blue",lineWidth:2}),e.codeResult&&e.codeResult.code&&c().ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))})),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(5),console.error("Erro ao inicializar o scanner:",e.t0),Swal.fire({icon:"error",title:"Erro ao acessar a câmera",text:"Não foi possível acessar a câmera. Verifique se você deu permissão de acesso.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 25:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)}function k(e){y=e,document.getElementById("produto-atual").innerHTML='\n        <div class="flex items-center gap-4">\n            '.concat(y.imagem?'<img src="'.concat(y.imagem,'" alt="').concat(y.descricao,'" class="w-16 h-16 object-cover rounded">'):'<div class="w-16 h-16 bg-gray-200 rounded"></div>','\n            <div>\n                <div class="font-medium text-lg">').concat(y.descricao,'</div>\n                <div class="text-sm text-gray-500">Cod: ').concat(y.cod,"</div>\n            </div>\n        </div>\n    "),w().then((function(){E()}))}function I(){var e=g.filter((function(e){return!e.codbar}));0!==e.length?k(e[Math.floor(Math.random()*e.length)]):Swal.fire({icon:"info",title:"Todos os produtos têm código de barras!",text:"Não há mais produtos para atualizar.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}function B(){var e=document.getElementById("lista-produtos"),t=document.getElementById("total-produtos");e.innerHTML="",t.textContent="".concat(v.size," produtos");var n,r=u(v);try{var o=function(){var t=l(n.value,2),r=t[0],o=t[1],a=g.find((function(e){return e.id===r}));if(a){var i=document.createElement("div");i.className="flex items-center justify-between p-1.5 bg-gray-50 rounded",i.innerHTML='\n                <div class="flex items-center gap-2">\n                    '.concat(a.imagem?'<img src="'.concat(a.imagem,'" alt="').concat(a.descricao,'" class="w-8 h-8 object-cover rounded">'):'<div class="w-8 h-8 bg-gray-200 rounded"></div>','\n                    <div>\n                        <div class="font-medium text-sm">').concat(a.descricao,'</div>\n                        <div class="text-xs text-gray-500">Cod: ').concat(a.cod,'</div>\n                        <div class="text-xs text-primary">Código de Barras: ').concat(o,'</div>\n                    </div>\n                </div>\n                <button \n                    class="text-red-500 hover:text-red-700 p-1"\n                    data-id="').concat(a.id,'">\n                    <i class="fas fa-times"></i>\n                </button>\n            '),i.querySelector("button").addEventListener("click",(function(){v.delete(a.id),B()})),e.appendChild(i)}};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}}function S(){return j.apply(this,arguments)}function j(){return(j=h(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AtualizacaoLote init inicio"),t=document.getElementById("content-dashboard"),e.prev=2,e.next=5,(0,o.k)();case 5:if(n=e.sent,r=l(n,2),i=r[0],r[1],!i){e.next=12;break}return window.location.hash=i,e.abrupt("return");case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 18:return t.innerHTML='\n        <div class="p-2">\n            <div class="flex justify-between items-center mb-2">\n                <h1 class="text-xl font-bold text-gray-800">Atualização de Códigos de Barras</h1>\n                <div class="flex gap-1">\n                    <button \n                        id="buscar-produto"\n                        class="bg-blue-500 text-white px-3 py-1.5 rounded-lg flex items-center gap-1">\n                        <i class="fas fa-search"></i>\n                        <span class="hidden md:inline">Buscar Produto</span>\n                    </button>\n                    <button \n                        id="proximo-produto"\n                        class="bg-primary text-white px-3 py-1.5 rounded-lg flex items-center gap-1">\n                        <i class="fas fa-random"></i>\n                        <span class="hidden md:inline">Próximo Produto</span>\n                    </button>\n                </div>\n            </div>\n\n            <div class="bg-white rounded-lg shadow-lg p-2 mb-2">\n                <div id="produto-atual" class="flex items-center gap-2 p-2 bg-gray-50 rounded">\n                    \x3c!-- Produto atual será preenchido aqui --\x3e\n                </div>\n            </div>\n\n            \x3c!-- Modal de Busca --\x3e\n            <div \n                id="busca-modal" \n                class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-20">\n                <div class="bg-white p-4 rounded-lg shadow-lg w-96 max-w-full mx-4">\n                    <h2 class="text-lg font-bold mb-2">Buscar Produto</h2>\n                    <div class="relative mb-2">\n                        <input \n                            type="text" \n                            id="busca-input"\n                            class="w-full p-2 border rounded-lg pr-10 focus:outline-none focus:ring-2 focus:ring-primary"\n                            placeholder="Digite para pesquisar..."\n                        >\n                        <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>\n                    </div>\n                    <div id="resultados-busca" class="max-h-48 overflow-y-auto mb-2">\n                        \x3c!-- Resultados serão inseridos aqui --\x3e\n                    </div>\n                    <div class="flex justify-end gap-2">\n                        <button \n                            id="fechar-busca"\n                            class="bg-gray-500 text-white px-3 py-1.5 rounded hover:bg-gray-600">\n                            Cancelar\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div class="bg-white rounded-lg shadow-lg p-2 mb-2">\n                <div class="flex justify-between items-center mb-2">\n                    <h2 class="text-lg font-semibold">Scanner</h2>\n                    <div class="flex gap-1">\n                        <button \n                            type="button" \n                            id="switch-camera" \n                            class="bg-blue-500 text-white px-3 py-1.5 rounded hover:bg-blue-600">\n                            <i class="fas fa-camera-rotate"></i>\n                        </button>\n                        <button \n                            type="button" \n                            id="restart-scanner" \n                            class="bg-yellow-500 text-white px-3 py-1.5 rounded hover:bg-yellow-600">\n                            <i class="fas fa-redo"></i>\n                        </button>\n                    </div>\n                </div>\n                <div id="interactive" class="viewport scanner-viewport" style="max-height: 35vh;"></div>\n            </div>\n\n            <div class="bg-white rounded-lg shadow-lg p-2">\n                <div class="flex items-center justify-between mb-2">\n                    <h2 class="text-lg font-semibold">Produtos Escaneados</h2>\n                    <span id="total-produtos" class="bg-primary text-white px-2 py-0.5 rounded-full text-sm">\n                        0 produtos\n                    </span>\n                </div>\n\n                <div id="lista-produtos" class="space-y-1 max-h-[25vh] overflow-y-auto">\n                    \x3c!-- Lista de produtos será preenchida aqui --\x3e\n                </div>\n\n                <div class="flex justify-end mt-2">\n                    <button \n                        id="atualizar-produtos"\n                        class="bg-primary text-white px-3 py-1.5 rounded hover:bg-primary-dark">\n                        Atualizar Produtos Escaneados\n                    </button>\n                </div>\n            </div>\n        </div>\n    ',e.next=21,(0,a.d)("./pages/AtualizacaoLote.js",(function(e){g=e,I()}));case 21:C();case 22:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function C(){var e=document.getElementById("proximo-produto"),t=document.getElementById("switch-camera"),n=document.getElementById("restart-scanner"),o=document.getElementById("atualizar-produtos"),a=document.getElementById("buscar-produto"),i=document.getElementById("busca-modal"),c=document.getElementById("fechar-busca"),s=document.getElementById("busca-input"),p=document.getElementById("resultados-busca"),m=null;a.addEventListener("click",(function(){i.classList.remove("hidden"),s.focus(),s.value="",p.innerHTML=""})),c.addEventListener("click",(function(){i.classList.add("hidden")})),s.addEventListener("input",(function(){m&&clearTimeout(m),m=setTimeout((function(){var e=s.value.toLowerCase();if(e.length<2)p.innerHTML='<div class="text-gray-500 text-center py-2">Digite pelo menos 2 caracteres...</div>';else{var t=g.filter((function(t){return!t.codbar&&t.descricao.toLowerCase().includes(e)}));0!==t.length?(p.innerHTML=t.map((function(e){return'\n                    <div class="flex items-center gap-2 p-2 hover:bg-gray-100 cursor-pointer rounded" data-id="'.concat(e.id,'">\n                        ').concat(e.imagem?'<img src="'.concat(e.imagem,'" alt="').concat(e.descricao,'" class="w-10 h-10 object-cover rounded">'):'<div class="w-10 h-10 bg-gray-200 rounded"></div>','\n                        <div>\n                            <div class="font-medium">').concat(e.descricao,'</div>\n                            <div class="text-sm text-gray-500">Cod: ').concat(e.cod,"</div>\n                        </div>\n                    </div>\n                ")})).join(""),p.querySelectorAll("div[data-id]").forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.id;k(g.find((function(e){return e.id===t}))),i.classList.add("hidden")}))}))):p.innerHTML='<div class="text-gray-500 text-center py-2">Nenhum produto encontrado...</div>'}}),300)})),e.addEventListener("click",(function(){I()})),t.addEventListener("click",h(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x="environment"===x?"user":"environment",e.next=3,E();case 3:case"end":return e.stop()}}),e)})))),n.addEventListener("click",h(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:setTimeout((function(){E()}),500);case 3:case"end":return e.stop()}}),e)})))),o.addEventListener("click",h(d().mark((function e(){var t,n,o,a,i,c,s,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==v.size){e.next=3;break}return Swal.fire({icon:"warning",title:"Nenhum produto escaneado!",text:"Escaneie pelo menos um produto antes de atualizar.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 3:return e.prev=3,e.next=6,Swal.fire({icon:"info",title:"Iniciando atualização...",text:"Produtos a serem atualizados: ".concat(v.size),showConfirmButton:!1,timer:2e3});case 6:t=(0,r.wP)(r.kA),n=0,o=u(v),e.prev=9,o.s();case 11:if((a=o.n()).done){e.next=26;break}i=l(a.value,2),c=i[0],s=i[1],e.prev=13,p=(0,r.H9)(r.kA,"produtos",c),t.update(p,{codbar:s}),n++,e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(13),e.next=23,Swal.fire({icon:"error",title:"Erro ao processar produto",text:"Erro ao processar produto ".concat(c,": ").concat(e.t0.message),showConfirmButton:!0});case 23:throw new Error("Erro ao processar produto ".concat(c,": ").concat(e.t0.message));case 24:e.next=11;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(9),o.e(e.t1);case 31:return e.prev=31,o.f(),e.finish(31);case 34:return e.next=36,Swal.fire({icon:"info",title:"Executando atualização...",text:"Total de ".concat(n," produtos no lote"),showConfirmButton:!1,timer:2e3});case 36:return e.next=38,t.commit();case 38:return e.next=40,Swal.fire({icon:"success",title:"Produtos atualizados!",text:"Os códigos de barras foram atualizados com sucesso.",showConfirmButton:!1,timer:2e3,timerProgressBar:!0});case 40:v.clear(),B(),I(),e.next=49;break;case 45:return e.prev=45,e.t2=e.catch(3),e.next=49,Swal.fire({icon:"error",title:"Erro ao atualizar!",text:"Ocorreu um erro ao atualizar os produtos: ".concat(e.t2.message),showConfirmButton:!0});case 49:case"end":return e.stop()}}),e,null,[[3,45],[9,28,31,34],[13,19]])}))))}},9232:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>c});var r=n(1676);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(){document.getElementById("content-router").innerHTML='\n        <div id="register" class="flex justify-center items-center h-screen bg-gray-100">\n            <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md space-y-6">\n                <h1 class="text-2xl font-bold text-center text-gray-800">Cadastro</h1>\n                <form id="register-form" class="space-y-4">\n                    \x3c!-- Foto de Perfil --\x3e\n                    <div class="flex justify-center">\n                        <label for="profile-pic" class="relative cursor-pointer">\n                            <img \n                                id="profile-preview" \n                                src="https://dummyimage.com/150" \n                                alt="Foto de perfil" \n                                class="w-32 h-32 rounded-full object-cover border-2 border-gray-300"\n                            />\n                            <input \n                                type="file" \n                                id="profile-pic" \n                                accept="image/*" \n                                class="hidden"\n                            />\n                            <div class="absolute bottom-0 right-0 bg-gray-300 p-1 rounded-full">\n                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="20" height="20">\n                                    <path d="M5 4h4l1-1h4l1 1h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm7 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-1.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm6 12H6v-1.5h12V17.5z"/>\n                                </svg>\n                            </div>\n                        </label>\n                    </div>\n\n                    \x3c!-- Nome --\x3e\n                    <input \n                        type="text" \n                        id="name" \n                        placeholder="Nome completo" \n                        required \n                        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n                    />\n\n                    \x3c!-- Email --\x3e\n                    <input \n                        type="email" \n                        id="email" \n                        placeholder="Email" \n                        required \n                        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n                    />\n\n                    \x3c!-- Senha --\x3e\n                    <input \n                        type="password" \n                        id="password" \n                        placeholder="Senha" \n                        required \n                        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n                    />\n\n                    <hr class="my-4">\n\n                    <h2 class="text-lg font-semibold">Dados para pedidos (opcional)</h2>\n\n                    \x3c!-- Telefone --\x3e\n                    <input \n                        type="tel" \n                        id="telefone" \n                        placeholder="Telefone" \n                        class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary-color"\n                    />\n\n                    \x3c!-- Endereço --\x3e\n                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">\n                        <div>\n                            <input \n                                type="text" \n                                id="cep" \n                                placeholder="CEP" \n                                class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary-color"\n                            />\n                        </div>\n                        <div>\n                            <input \n                                type="text" \n                                id="endereco" \n                                placeholder="Endereço" \n                                class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary-color"\n                            />\n                        </div>\n                    </div>\n\n                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">\n                        <div>\n                            <input \n                                type="text" \n                                id="numero" \n                                placeholder="Número" \n                                class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary-color"\n                            />\n                        </div>\n                        <div>\n                            <input \n                                type="text" \n                                id="complemento" \n                                placeholder="Complemento" \n                                class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary-color"\n                            />\n                        </div>\n                    </div>\n\n                    \x3c!-- Referência --\x3e\n                    <div>\n                        <input \n                            type="text" \n                            id="referencia" \n                            placeholder="Ponto de referência" \n                            class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary-color"\n                        />\n                    </div>\n\n                    \x3c!-- Botão de cadastro --\x3e\n                    <button \n                        type="submit" \n                        class="w-full py-3 bg-primary text-white font-semibold rounded-lg transition duration-300"\n                    >\n                        Cadastrar\n                    </button>\n                </form>\n\n                \x3c!-- Link para login --\x3e\n                <div class="text-center text-gray-600">\n                    <span>Já tem uma conta? </span>\n                    <a href="/login" id="login-link" class="text-primary font-semibold hover:underline">\n                        Entre aqui\n                    </a>\n                </div>\n            </div>\n        </div>\n    ';var e=JSON.parse(localStorage.getItem("user"));function t(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}console.log(e),e&&(document.getElementById("name").value=e.displayName,document.getElementById("email").value=e.email,document.getElementById("password").style.display="none",document.getElementById("password").removeAttribute("required"),document.getElementById("profile-preview").src=e.photoURL),document.getElementById("register-form").addEventListener("submit",function(){var n,o=(n=a().mark((function n(o){var i,c,s,d,l,u,p,m,f,h,g,v,y,b;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.preventDefault(),i=document.getElementById("name").value,c=document.getElementById("email").value,s=document.getElementById("password").value,d=document.getElementById("telefone").value,l=document.getElementById("cep").value,u=document.getElementById("endereco").value,p=document.getElementById("numero").value,m=document.getElementById("complemento").value,f=document.getElementById("referencia").value,h=document.getElementById("profile-pic").files[0],g=null,!h){n.next=22;break}return n.prev=13,n.next=16,t(h);case 16:g=n.sent,n.next=22;break;case 19:n.prev=19,n.t0=n.catch(13),console.error("Erro ao converter a imagem:",n.t0);case 22:if(v=(0,r.xI)(),n.prev=23,e){n.next=33;break}return n.next=27,(0,r.eJ)(v,c,s);case 27:return b=n.sent,y=b.user.uid,n.next=31,(0,r.r7)(b.user,{displayName:i});case 31:n.next=37;break;case 33:if(e.displayName===i){n.next=36;break}return n.next=36,(0,r.r7)(v.currentUser,{displayName:i});case 36:y=e.uid;case 37:return n.next=39,(0,r.BN)((0,r.H9)(r.kA,"usuarios",y),{nome:i,email:c,telefone:d,endereco:{cep:l,endereco:u,numero:p,complemento:m,referencia:f},fotoPerfil:g,tipo:"cliente",criadoEm:new Date});case 39:console.log("Usuário cadastrado e dados gravados no Firestore com sucesso!"),localStorage.removeItem("user"),window.location.hash="/login",n.next=48;break;case 44:n.prev=44,n.t1=n.catch(23),console.error("Erro ao cadastrar usuário:",n.t1),Swal.fire({icon:"error",title:"Erro ao cadastrar usuário!",text:"Erro ao realizar cadastro. Verifique os dados e tente novamente.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0});case 48:case"end":return n.stop()}}),n,null,[[13,19],[23,44]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))});return function(e){return o.apply(this,arguments)}}()),document.getElementById("profile-pic").addEventListener("change",(function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){document.getElementById("profile-preview").src=n.result},n.readAsDataURL(t)}}))}},8447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{abrirCaixa:()=>ne,activeButtonBadge:()=>z,addProductToRegister:()=>N,calculateTotal:()=>F,calculateTroco:()=>G,calculateTrocoIfDinheiroUnico:()=>$,cleanup:()=>le,compartilharOrcamento:()=>we,getProductsFromListDiv:()=>R,getTipoLayoutCaixa:()=>de,imprimirRecibo:()=>be,init:()=>ue,limpaVenda:()=>ye,loadProducts:()=>S,removeProductFromRegister:()=>T,renderProductsSearch:()=>D,searchProducts:()=>A,setTipoLayoutCaixa:()=>se,subtrairQuantidadeEstoqueProdutos:()=>me,unselectButtonBadge:()=>q,verificarCaixaAberto:()=>ee,verificarCaixasAbertosAnteriores:()=>X});var r=n(1676),o=n(6115),a=n(2758),i=n(620),c=n.n(i),s=(n(8466),["imagem","descricao","precoVenda"]),d=["imagem"];function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(){b=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",h="executing",g="completed",v={};function y(){}function x(){}function w(){}var E={};d(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=y.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==l(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){d.value=e,i(d)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var d=p(t,n,r);if("normal"===d.type){if(o=r.done?g:f,d.arg===v)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=g,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=d(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),d(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),d(I,s,"Generator"),d(I,i,(function(){return this})),d(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function x(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){x(a,r,o,i,c,"next",e)}function c(e){x(a,r,o,i,c,"throw",e)}i(void 0)}))}}var E=!1,L=[],k=!1,I=!1,B="horizontal";function S(){return j.apply(this,arguments)}function j(){return(j=w(b().mark((function e(){var t,n,r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=document.getElementById("carregando-produtos"),n=document.getElementById("erro-carregamento"),t&&n&&(t.classList.remove("hidden"),n.classList.add("hidden")),e.next=6,(0,a.d)("./pages/Caixa.js",C);case 6:e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Erro ao carregar produtos:",e.t0),r=document.getElementById("carregando-produtos"),o=document.getElementById("erro-carregamento"),r&&o&&(r.classList.add("hidden"),o.classList.remove("hidden"));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=w(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(L=t),k||((n=document.getElementById("carregando-produtos"))&&n.classList.add("hidden"),A(document.getElementById("produto-pesquisa").value),k=!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return O.apply(this,arguments)}function O(){return(O=w(b().mark((function e(t){var n,r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0?(document.getElementById("resultado-pesquisa").classList.remove("hidden"),n=g(document.querySelectorAll(".div-produto-caixa")).map((function(e){return e.dataset.id})),r=t.toLowerCase(),(o=L.filter((function(e){return(e.descricao.toLowerCase().includes(r)||e.cod&&e.cod.toString().includes(r))&&!n.includes(e.id)&&Number(e.qtde)>0})).map((function(e){var t=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=e.descricao.replace(new RegExp("(".concat(t,")"),"gi"),'<span class="bg-yellow-200 font-bold">$1</span>'),o=e.cod.toString().replace(new RegExp("(".concat(t,")"),"gi"),'<span class="bg-yellow-200 font-bold">$1</span>');return f(f({},e),{},{highlightedDescricao:n,highlightedCod:o})}))).sort((function(e,t){return e.descricao.localeCompare(t.descricao)})),D(o)):document.getElementById("resultado-pesquisa").classList.add("hidden");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t=document.getElementById("resultado-pesquisa");t&&(t.innerHTML="",e.forEach((function(e){var n=document.createElement("div");n.classList.add("btn-add-produto-caixa","p-2","border-b","last:border-0","hover:bg-gray-200","cursor-pointer"),n.setAttribute("data-id",e.id);var r;r=e.imagem&&void 0!==e.imagem?'<img src="'.concat(e.imagem,'" alt="').concat(e.descricao,'" loading="lazy" class="w-5 h-5 object-cover rounded-lg mb-4 float-left mr-4">'):'<div class="w-5 h-5 object-cover rounded-lg mb-4 float-left mr-4 bg-gray-200"></div>',n.innerHTML='\n        <div class="p-2 border-b last:border-0 hover:bg-gray-200 cursor-pointer">\n          '.concat(r,'\n          <span class="font-small text-gray-500">Cód.').concat(e.highlightedCod,'</span>\n          <span class="font-medium">').concat(e.highlightedDescricao,'</span>\n          <span class="text-gray-500 float-right">R$ ').concat(e.precoVenda.toFixed(2).replace(".",","),"</span>\n        </div>\n      "),t.appendChild(n)})),t.querySelectorAll("div[data-id].btn-add-produto-caixa").forEach((function(e){e.addEventListener("click",function(){var e=w(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t.target.closest("div[data-id].btn-add-produto-caixa").getAttribute("data-id")),document.getElementById("produto-pesquisa").value="",document.getElementById("produto-pesquisa").dispatchEvent(new Event("input"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})))}function N(e){return M.apply(this,arguments)}function M(){return(M=w(b().mark((function e(t){var n,r,o,a,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=document.getElementById("lista-produtos"))){e.next=23;break}if(!(r=L.find((function(e){return e.id==t})))){e.next=23;break}if(!(document.querySelectorAll('.div-produto-caixa[data-id="'+r.id+'"]').length>0)){e.next=7;break}return Swal.fire({icon:"info",title:"Já adicionado!",text:"".concat(r.descricao," já está no carrinho."),showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),e.abrupt("return");case 7:(o=document.createElement("div")).classList.add("div-produto-caixa","flex","justify-between","items-center","p-2","pb-0","border","rounded","mb-2","bg-gray-50"),o.setAttribute("data-id",r.id),"",a=r.imagem&&void 0!==r.imagem?'<img src="'.concat(r.imagem,'" alt="').concat(r.descricao,'" loading="lazy" class="w-10 h-10 object-cover rounded-lg mb-4 float-left mr-4">'):'<div class="w-10 h-10 object-cover rounded-lg mb-4 float-left mr-4 bg-gray-200"></div>',o.innerHTML='\n        <div class="pr-1">\n          '.concat(a,'\n          <span id="nome-produto" class="font-medium">').concat(r.descricao,'</span>\n        </div>\n        <div class="flex items-center space-x-2">\n          <input\n            id="quantidade-produto-').concat(r.id,'"\n            type="number"\n            class="input-quantidade-produto w-16 p-1 border rounded"\n            min="1"\n            value="1"\n            data-id="').concat(r.id,'"\n          />\n          <span> x </span>\n          <span id="valor-produto" class="font-medium">R$ ').concat(r.precoVenda.toFixed(2).replace(".",","),'</span>\n          <span> = </span>\n          <span id="subtotal-produto-').concat(r.id,'" class="subtotal-produto font-medium">R$ ').concat(r.precoVenda.toFixed(2).replace(".",","),'</span>\n          <button class="btn-remover-produto-caixa bg-red-500 text-white py-1 px-2 rounded" data-id="').concat(r.id,'">\n            <i class="fas fa-trash"></i>\n          </button>\n        </div>\n      '),n.appendChild(o),F(),$(),n.querySelectorAll("input[data-id].input-quantidade-produto").forEach((function(e){e.addEventListener("input",(function(e){var t=e.target,n=t.getAttribute("data-id"),r=""==t.value?0:parseFloat(t.value),o=L.find((function(e){return e.id==n})),a=o.qtde;""===t.value?r=0:isNaN(parseFloat(t.value))?(Swal.fire({icon:"error",title:"Valor da quantidade incorreta!",text:"Insira um número válido.",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),t.value=0):r<0?(t.value=0,t.blur()):r>a&&(Swal.fire({icon:"error",title:"Quantidade máxima!",text:"A quantidade máxima para ".concat(o.descricao," é ").concat(a,"."),showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),t.value=a),r=""==t.value?0:parseFloat(t.value);var i=o.precoVenda*r;document.getElementById("subtotal-produto-".concat(o.id)).textContent="R$ ".concat(i.toFixed(2).replace(".",",")),F(),$(),Q(),U()})),e.addEventListener("blur",(function(e){1==E&&(E=!1,document.getElementById("produto-pesquisa").focus())}))})),n.querySelectorAll("button.btn-remover-produto-caixa").forEach((function(e){e.addEventListener("click",(function(e){T(e.target.closest("button.btn-remover-produto-caixa").getAttribute("data-id"))}))})),document.getElementById("quantidade-produto-".concat(r.id)).focus(),i=document.getElementById("quantidade-produto-".concat(r.id)).value,document.getElementById("quantidade-produto-".concat(r.id)).value="",document.getElementById("quantidade-produto-".concat(r.id)).value=i,E=!0;case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=document.getElementById("lista-produtos");if(t){var n=t.querySelector('div.div-produto-caixa[data-id="'.concat(e,'"]'));n&&(t.removeChild(n),F(),$())}}function F(){var e=document.getElementById("lista-produtos"),t=0;e.querySelectorAll(".subtotal-produto").forEach((function(e){var n=parseFloat(e.textContent.replace("R$ ","").replace(",","."));t+=n})),document.getElementById("total-compra").textContent="R$ ".concat(t.toFixed(2).replace(".",","))}function q(e){document.querySelectorAll("".concat(e," button.rounded-full")).forEach((function(e){e.classList.remove("bg-primary","text-white"),e.classList.add("text-primary")}))}function z(e,t){q(e),t.classList.add("bg-primary","text-white"),t.classList.remove("text-primary")}function R(){return _.apply(this,arguments)}function _(){return(_=w(b().mark((function e(){var t,n,r,o,a,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=document.getElementById("lista-produtos"),r=n.querySelectorAll("input[data-id].input-quantidade-produto"),o=p(r),e.prev=4,i=b().mark((function e(){var n,r,o,i,c,s,d,l;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.value,r=n.getAttribute("data-id"),o=parseInt(n.value),i=L.find((function(e){return e.id==r})),c=i.imagem,s=i.descricao,d=i.precoVenda,l=d*o,t.push({id:r,quantidade:o,subtotal:l,precoVenda:d,descricao:s,imagem:c});case 9:case"end":return e.stop()}}),e)})),o.s();case 7:if((a=o.n()).done){e.next=11;break}return e.delegateYield(i(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),o.e(e.t1);case 16:return e.prev=16,o.f(),e.finish(16);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})))).apply(this,arguments)}function G(){return H.apply(this,arguments)}function H(){return(H=w(b().mark((function e(){var t,n,r,a,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseFloat(document.getElementById("dinheiro-unico").value),e.next=3,R();case 3:n=e.sent,r=n.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),a=""==document.getElementById("desconto").value?0:parseFloat(document.getElementById("desconto").value),t>(i=r-a)?(document.getElementById("troco-div").innerHTML="Troco: R$ ".concat((t-i).toFixed(2).replace(".",",")),document.getElementById("troco-div").classList.remove("hidden","text-red-500"),document.getElementById("troco-div").classList.add("text-green-500")):t<i?(document.getElementById("troco-div").innerHTML="Falta: R$ ".concat((i-t).toFixed(2).replace(".",",")),document.getElementById("troco-div").classList.remove("hidden","text-green-500"),document.getElementById("troco-div").classList.add("text-red-500")):document.getElementById("troco-div").classList.add("hidden");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){var e=document.querySelector("#tipo-metodo button.rounded-full.bg-primary.text-white");if(null!==e&&"Único"==e.textContent.trim()){var t=document.querySelector("#metodo-unico button.rounded-full.bg-primary.text-white");null!==t&&"Dinheiro"==t.textContent.trim()&&G()}}var V={credito:{1:3.86,2:9.86,3:11.24,4:12.59,5:13.92,6:15.22,7:16.5,8:17.76,9:18.99,10:20.19,11:20.39,12:20.39}};function U(){return Y.apply(this,arguments)}function Y(){return(Y=w(b().mark((function e(){var t,n,r,a,i,c,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=document.getElementById("parcelas-unico").value)){e.next=7;break}return document.getElementById("valor-taxa-compra").parentElement.classList.add("hidden"),document.getElementById("valor-taxa-compra").textContent="R$ 0,00",document.getElementById("valor-com-taxa-compra").parentElement.classList.add("hidden"),document.getElementById("valor-com-taxa-compra").textContent="R$ 0,00",e.abrupt("return");case 7:if(void 0!==(n=V.credito[t])){e.next=14;break}return document.getElementById("valor-taxa-compra").parentElement.classList.add("hidden"),document.getElementById("valor-taxa-compra").textContent="R$ 0,00",document.getElementById("valor-com-taxa-compra").parentElement.classList.add("hidden"),document.getElementById("valor-com-taxa-compra").textContent="R$ 0,00",e.abrupt("return");case 14:return e.next=16,R();case 16:r=e.sent,a=r.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),i=""!=document.getElementById("desconto").value?parseFloat(document.getElementById("desconto").value):0,c=n/100*(a-i),document.getElementById("valor-taxa-compra").parentElement.classList.remove("hidden"),document.getElementById("valor-taxa-compra").textContent="R$ ".concat(c.toFixed(2).replace(".",",")),s=a-i+c,document.getElementById("valor-com-taxa-compra").parentElement.classList.remove("hidden"),document.getElementById("valor-com-taxa-compra").textContent="R$ ".concat(s.toFixed(2).replace(".",","));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return J.apply(this,arguments)}function J(){return(J=w(b().mark((function e(){var t,n,r,a,i,c,s,d,l,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,R();case 4:if(t=e.sent,n=t.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),r=""!=document.getElementById("desconto").value?parseFloat(document.getElementById("desconto").value):0,i=a=n-r,(c=document.querySelector("#metodo-unico button.rounded-full.bg-primary.text-white"))&&"crédito"===c.textContent.trim().toLowerCase()&&""!==(s=document.getElementById("parcelas-unico").value)&&void 0!==V.credito[s]&&(d=V.credito[s],i=a+a*(d/100)),!(i>=100)){e.next=17;break}return l=Math.floor(i/100),u=1===l?"cupom":"cupons",e.next=16,Swal.fire({icon:"info",title:"🎉 Sorteio Disponível!",html:'\n        <p style="font-size: 1.1em; margin-bottom: 1em;">\n          <strong>Valor da compra: R$ '.concat(i.toFixed(2).replace(".",","),'</strong>\n        </p>\n        <p style="margin-bottom: 1em;">\n          Este cliente tem direito a <strong style="color: #10b981; font-size: 1.2em;">').concat(l," ").concat(u,'</strong> para participar do sorteio!\n        </p>\n        <p style="color: #6b7280; font-size: 0.9em;">\n          <strong>Lembre-se:</strong> Ofereça ao cliente participar do sorteio e preencher o(s) cupom(ns).\n        </p>\n      '),confirmButtonText:"Entendi",confirmButtonColor:"#10b981",width:"500px"});case 16:I=!0;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return W.apply(this,arguments)}function W(){return(W=w(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=""!=document.getElementById("desconto").value?parseFloat(document.getElementById("desconto").value):0)>0)){e.next=16;break}if(n=parseFloat(document.getElementById("total-compra").textContent.replace("R$ ","").replace(",",".")),r=n-t,!(t>n)){e.next=8;break}return Swal.fire({icon:"warning",title:"Desconto maior que o valor da compra!",text:"Insira um desconto menor ou igual ao valor da compra.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("desconto").value=ae||0,e.abrupt("return");case 8:document.getElementById("desconto-compra").parentElement.classList.remove("hidden"),document.getElementById("total-liquido-compra").parentElement.classList.remove("hidden"),document.getElementById("total-compra").classList.remove("text-green-500"),document.getElementById("total-compra").classList.add("text-black"),document.getElementById("desconto-compra").textContent="R$ ".concat(t.toFixed(2).replace(".",",")),document.getElementById("total-liquido-compra").textContent="R$ ".concat(r.toFixed(2).replace(".",",")),e.next=20;break;case 16:document.getElementById("desconto-compra").parentElement.classList.add("hidden"),document.getElementById("total-liquido-compra").parentElement.classList.add("hidden"),document.getElementById("total-compra").classList.remove("text-black"),document.getElementById("total-compra").classList.add("text-green-500");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return K.apply(this,arguments)}function K(){return(K=w(b().mark((function e(){var t,n,o,a,i,c,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=(0,r.xI)(),n=t.currentUser){e.next=6;break}return console.error("Usuário não está logado"),e.abrupt("return",[]);case 6:return o=(0,r.rJ)(r.kA,"caixas"),(a=new Date).setHours(0,0,0,0),i=(0,r.P)(o,(0,r._M)("usuarioId","==",n.uid),(0,r._M)("dataAbertura","<",a),(0,r.My)("dataAbertura","desc")),e.next=12,(0,r.GG)(i);case 12:if(!(c=e.sent).empty){e.next=15;break}return e.abrupt("return",[]);case 15:return s=c.docs.map((function(e){return f({id:e.id},e.data())})).filter((function(e){var t=e.status,n=void 0!==e.dataFechamento&&null!==e.dataFechamento;return"aberto"===t||null==t&&!n})),e.abrupt("return",s);case 19:return e.prev=19,e.t0=e.catch(0),console.error("Erro ao verificar caixas abertos anteriores:",e.t0),e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=w(b().mark((function e(){var t,n,o,a,i,c,s,d;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=(0,r.xI)(),n=t.currentUser){e.next=6;break}return console.error("Usuário não está logado"),e.abrupt("return",null);case 6:return o=(0,r.rJ)(r.kA,"caixas"),(a=new Date).setHours(0,0,0,0),(i=new Date(a)).setDate(i.getDate()+1),c=(0,r.P)(o,(0,r._M)("usuarioId","==",n.uid),(0,r._M)("dataAbertura",">=",a),(0,r._M)("dataAbertura","<",i),(0,r.My)("dataAbertura","desc")),e.next=14,(0,r.GG)(c);case 14:if(!(s=e.sent).empty){e.next=17;break}return e.abrupt("return",null);case 17:if(0!==(d=s.docs.map((function(e){return f({id:e.id},e.data())})).filter((function(e){var t=e.status,n=void 0!==e.dataFechamento&&null!==e.dataFechamento;return"aberto"===t||null==t&&!n}))).length){e.next=20;break}return e.abrupt("return",null);case 20:return e.abrupt("return",d[0]);case 23:return e.prev=23,e.t0=e.catch(0),console.error("Erro ao verificar caixa aberto:",e.t0),e.abrupt("return",null);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=w(b().mark((function e(t){var n,o,a,i,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=(0,r.xI)(),o=n.currentUser){e.next=5;break}throw new Error("Usuário não está logado");case 5:return e.next=7,X();case 7:if(!(e.sent.length>0)){e.next=10;break}return e.abrupt("return",{success:!1,message:"Existem caixas abertos de dias anteriores. Por favor, feche-os antes de abrir um novo caixa."});case 10:return e.next=12,ee();case 12:if(!e.sent){e.next=15;break}return e.abrupt("return",{success:!1,message:"Já existe um caixa aberto para hoje"});case 15:return a=(0,r.rJ)(r.kA,"caixas"),i={usuarioId:o.uid,dataAbertura:(0,r.O5)(),valorInicial:parseFloat(t),valorFinal:parseFloat(t),totalVendas:0,totalDinheiro:0,totalPix:0,totalCredito:0,totalDebito:0,totalCrediario:0,status:"aberto"},e.next=19,(0,r.gS)(a,i);case 19:return c=e.sent,e.abrupt("return",{success:!0,message:"Caixa aberto com sucesso",caixa:f({id:c.id},i)});case 23:return e.prev=23,e.t0=e.catch(0),console.error("Erro ao abrir caixa:",e.t0),e.abrupt("return",{success:!1,message:e.t0.message});case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}var oe=null,ae=null,ie=null;function ce(){var e=document.getElementById("container-pesquisa-lista"),t=document.getElementById("area-pesquisa"),n=document.getElementById("area-lista-produtos"),r=document.getElementById("resultado-pesquisa"),o=document.getElementById("lista-produtos");e&&t&&n&&("horizontal"===B?(e.className="flex flex-row gap-4",e.style.height="600px",e.style.minHeight="300px",e.style.maxHeight="1200px",e.style.resize="vertical",e.style.overflow="hidden",t.className="w-1/2 flex flex-col",t.style.minWidth="300px",t.style.maxWidth="80%",t.style.resize="horizontal",t.style.overflow="hidden",t.style.border="1px solid #e5e7eb",t.style.borderRadius="0.375rem",t.style.padding="0.5rem",t.style.height="100%",n.className="w-1/2 flex flex-col",n.style.height="100%",r&&(r.style.maxHeight="",r.style.minHeight="",r.className="flex-1 border rounded bg-gray-50 overflow-y-auto hidden min-h-0"),o&&(o.style.height="100%",o.style.minHeight="",o.style.maxHeight="",o.style.resize="",o.classList.remove("mb-4"))):(e.className="flex flex-col",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.resize="",e.style.overflow="",t.className="w-full flex flex-col",t.style.minWidth="",t.style.maxWidth="",t.style.resize="vertical",t.style.overflow="hidden",t.style.minHeight="200px",t.style.maxHeight="600px",t.style.height="",t.style.border="1px solid #e5e7eb",t.style.borderRadius="0.375rem",t.style.padding="0.5rem",n.className="w-full",n.style.height="",r&&(r.style.maxHeight="",r.style.minHeight="",r.className="flex-1 border rounded bg-gray-50 overflow-y-auto hidden min-h-0"),o&&(o.style.height="400px",o.style.minHeight="200px",o.style.maxHeight="800px",o.style.resize="vertical",o.classList.add("mb-4"))))}function se(e){"vertical"===e||"horizontal"===e?(B=e,ce()):console.warn('Tipo de layout inválido. Use "vertical" ou "horizontal"')}function de(){return B}function le(){ie&&(ie(),ie=null)}function ue(){return pe.apply(this,arguments)}function pe(){return pe=w(b().mark((function e(){var t,n,a,i,d,p,m,f,h,v,y,x,E;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E=function(){return(E=w(b().mark((function e(){var t,n,r,o,a,i,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return(t=document.querySelector("#interactive-caixa"))&&(t.innerHTML=""),n={inputStream:{name:"Live",type:"LiveStream",target:t,constraints:{facingMode:{exact:v},aspectRatio:{min:1,max:2},width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"}},decoder:{readers:["ean_reader"],multiple:!1,debug:{drawBoundingBox:!0,showFrequency:!0,drawScanline:!0,showPattern:!0,showCanvas:!0,showPatches:!0,showFoundPatches:!0,showSkeleton:!0,showLabels:!0,showPatchLabels:!0,showRemainingPatchLabels:!0,boxFromPatches:{showTransformed:!0,showTransformedBox:!0,showBB:!0}}},locator:{patchSize:"medium",halfSample:!0},frequency:10},e.prev=5,r=function(e){if(13!==e.length)return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n])*(n%2==0?1:3);return(10-t%10)%10===parseInt(e[12])},e.next=9,new Promise((function(e,t){c().init(n,(function(r){if(r)return console.error("Erro ao inicializar com câmera ".concat(v,":"),r),v="environment"===v?"user":"environment",n.inputStream.constraints.facingMode={exact:v},void c().init(n,(function(n){if(n)return console.error("Erro ao inicializar com câmera alternativa:",n),void t(n);e()}));e()}))}));case 9:console.log("Quagga inicializado com sucesso!"),h=!0,c().start(),(o=t.querySelector("video"))&&(a=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),o.style.transform=a&&"user"!==v?"scaleX(1)":"scaleX(-1)"),i=null,s=0,c().onDetected((function(e){var t=e.codeResult.code;if(r(t))if(t===i){if(++s>=2){var n=L.find((function(e){return e.codbar===t}));n?(N(n.id),y().then((function(){document.getElementById("scanner-modal-caixa").classList.add("hidden"),new Audio("https://www.soundjay.com/buttons/sounds/button-09.mp3").play()}))):Swal.fire({icon:"warning",title:"Produto não encontrado!",text:"Não foi encontrado nenhum produto com este código de barras.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}}else i=t,s=1;else console.log("Código inválido:",t)})),c().onProcessed((function(e){var t=c().canvas.ctx.overlay,n=c().canvas.dom.overlay;e&&(t.clearRect(0,0,parseInt(n.getAttribute("width")),parseInt(n.getAttribute("height"))),e.boxes&&e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){c().ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})})),e.box&&c().ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"blue",lineWidth:2}),e.codeResult&&e.codeResult.code&&c().ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))})),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),console.error("Erro ao inicializar o scanner:",e.t0),Swal.fire({icon:"error",title:"Erro ao acessar a câmera",text:"Não foi possível acessar a câmera. Verifique se você deu permissão de acesso.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("scanner-modal-caixa").classList.add("hidden");case 26:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)},x=function(){return E.apply(this,arguments)},y=function(){return new Promise((function(e){try{h&&(c().stop(),h=!1),"function"==typeof c().offDetected&&c().offDetected(),"function"==typeof c().offProcessed&&c().offProcessed();var t=document.querySelector("#interactive-caixa");t&&(t.innerHTML=""),setTimeout(e,500)}catch(t){console.log("Aviso: Erro ao limpar o scanner, mas isso não afeta o funcionamento:",t),e()}}))},m=function(){document.getElementById("desconto-div").classList.remove("hidden")},k=!1,L=[],I=!1;try{t=(0,r.xI)(),(n=t.currentUser)&&(a=(0,r.H9)(r.kA,"usuarios",n.uid),ie&&ie(),ie=(0,r.aQ)(a,(function(e){if(e.exists()){var t=e.data();"vertical"!==t.layoutCaixa&&"horizontal"!==t.layoutCaixa||B!==t.layoutCaixa&&(B=t.layoutCaixa,ce())}}),(function(e){console.error("Erro ao observar preferência de layout:",e)})))}catch(e){console.error("Erro ao configurar listener de layout:",e)}i="horizontal"===B?"flex flex-row gap-4":"flex flex-col",d="horizontal"===B?"w-1/2":"w-full",p="horizontal"===B?"w-1/2":"w-full",document.getElementById("content-dashboard").innerHTML='\n    <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n      <h1 class="text-2xl font-bold text-gray-800 mb-4">Caixa</h1>\n\n      <div id="container-pesquisa-lista" class="'.concat(i,'" style="').concat("horizontal"===B?"height: 600px; min-height: 300px; max-height: 1200px; resize: vertical; overflow: hidden;":"",'">\n        \x3c!-- Área de Pesquisa --\x3e\n        <div id="area-pesquisa" class="').concat(d,' flex flex-col" style="').concat("horizontal"===B?"min-width: 300px; max-width: 80%; resize: horizontal; overflow: hidden; height: 100%;":"min-height: 200px; max-height: 600px; resize: vertical; overflow: hidden;",' border: 1px solid #e5e7eb; border-radius: 0.375rem; padding: 0.5rem;">\n          <div class="flex-shrink-0 mb-2">\n            <div class="flex gap-2">\n              <div class="flex-grow">\n                <input \n                  type="text" \n                  id="produto-pesquisa" \n                  class="w-full p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-primary" \n                  placeholder="Pesquise um produto..."\n                  autocomplete="off"\n                />\n              </div>\n              <button \n                id="open-scanner-modal-caixa"\n                class="bg-primary text-white px-4 rounded-r hover:bg-primary-dark flex items-center">\n                <i class="fas fa-barcode"></i>\n              </button>\n            </div>\n            <div id="carregando-produtos" class="mt-2 px-2 hidden">\n              <div class="flex items-center justify-center space-x-2">\n                <i class="fas fa-spinner fa-spin text-primary"></i>\n                <span>Carregando produtos...</span>\n              </div>\n            </div>\n            <div id="erro-carregamento" class="mt-2 px-2 hidden">\n              <div class="flex items-center justify-center space-x-2 text-red-500">\n                <i class="fas fa-exclamation-circle"></i>\n                <span>Erro ao carregar produtos. Tente novamente.</span>\n              </div>\n            </div>\n          </div>\n          <div id="resultado-pesquisa" class="flex-1 border rounded bg-gray-50 overflow-y-auto hidden min-h-0">\n          </div>\n        </div>\n\n        \x3c!-- Área de Itens Selecionados --\x3e\n        <div id="area-lista-produtos" class="').concat(p,'">\n          <div id="lista-produtos" class="space-y-2 ').concat("horizontal"===B?"":"mb-4",' lg:px-4 overflow-y-auto" style="height: ').concat("horizontal"===B?"100%":"400px","; ").concat("horizontal"===B?"":"min-height: 200px; max-height: 800px; resize: vertical;",' border: 1px solid #e5e7eb; border-radius: 0.375rem; padding: 0.5rem;">\n          </div>\n        </div>\n      </div>\n\n      <div id="scanner-modal-caixa" \n          class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-10">\n          <div class="bg-white p-6 rounded w-[40rem] shadow-lg">\n              <h2 class="text-xl font-bold mb-4">Escanear Código de Barras</h2>\n              <div id="interactive-caixa" class="viewport scanner-viewport"></div>\n              <div class="flex justify-end space-x-2 mt-4">\n                  <button \n                      type="button" \n                      id="switch-camera-caixa" \n                      class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">\n                      <i class="fas fa-camera-rotate"></i>\n                  </button>\n                  <button \n                      type="button" \n                      id="restart-scanner-caixa" \n                      class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">\n                      <i class="fas fa-sync-alt mr-2"></i>\n                      Reiniciar Câmera\n                  </button>\n                  <button \n                      type="button" \n                      id="close-scanner-modal-caixa" \n                      class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                      Fechar\n                  </button>\n              </div>\n          </div>\n      </div>\n\n      <div class="flex justify-between items-center mt-4 lg:px-4">\n          <span class="font-bold text-lg lg:ml-auto">Total da Compra:</span>\n          <span id="total-compra" class="text-xl font-bold text-green-500 lg:ml-4">R$ 0,00</span>\n      </div>\n      <div class="flex justify-between items-center lg:px-4 hidden">\n          <span class="font-bold text-lg text-red-500 lg:ml-auto">Desconto:</span>\n          <span id="desconto-compra" class="text-xl font-bold text-red-500 lg:ml-4">R$ 0,00</span>\n      </div>\n      <div class="flex justify-between items-center lg:px-4 hidden">\n          <span class="font-bold text-lg text-green-500 lg:ml-auto">Valor final:</span>\n          <span id="total-liquido-compra" class="text-xl font-bold text-green-500 lg:ml-4">R$ 0,00</span>\n      </div>\n      <div class="flex justify-between items-center lg:px-4 hidden">\n          <span class="font-bold text-lg text-green-500 lg:ml-auto">Valor taxa:</span>\n          <span id="valor-taxa-compra" class="text-xl font-bold text-green-500 lg:ml-4">R$ 0,00</span>\n      </div>\n      <div class="flex justify-between items-center lg:px-4 hidden">\n        <span class="font-bold text-lg text-green-500 lg:ml-auto">Valor com taxa:</span>\n        <span id="valor-com-taxa-compra" class="text-xl font-bold text-green-500 lg:ml-4">R$ 0,00</span>\n      </div>\n\n      <div class="mt-6 lg:mt-0">\n        <h2 class="text-lg font-semibold mb-2">Método de Pagamento</h2>\n\n        <div id="tipo-metodo" class="flex gap-4 mb-4 mb-2">\n          <button \n            id="metodo-unico-btn"\n            class="py-2 px-4 rounded-full border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Único\n          </button>\n          <button \n            id="metodo-multiplo-btn"\n            class="py-2 px-4 rounded-full border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Múltiplo\n          </button>\n        </div>\n\n        <div id="metodo-unico" class="flex flex-wrap gap-4 mb-4 hidden">\n          <button \n            id="metodo-pix-btn"\n            class="py-2 rounded-full w-[calc(50%-0.5rem)] sm:w-[calc(20%-0.5rem)] md:w-auto md:px-4 border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Pix\n          </button>\n          <button \n            id="metodo-credito-btn"\n            class="py-2 rounded-full w-[calc(50%-0.5rem)] sm:w-[calc(20%-0.5rem)] md:w-auto md:px-4 border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Crédito\n          </button>\n          <button \n            class="py-2 rounded-full w-[calc(50%-0.5rem)] sm:w-[calc(20%-0.5rem)] md:w-auto md:px-4 border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Débito\n          </button>\n          <button \n            id="metodo-dinheiro-btn"\n            class="py-2 rounded-full w-[calc(50%-0.5rem)] sm:w-[calc(20%-0.5rem)] md:w-auto md:px-4 border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Dinheiro\n          </button>\n          <button \n            id="metodo-crediario-btn"\n            class="py-2 rounded-full w-[calc(50%-0.5rem)] sm:w-[calc(20%-0.5rem)] md:w-auto md:px-4 border border-primary text-primary hover:bg-[#386c6f] hover:text-white transition">\n            Crediário\n          </button>\n\n          <div id="dinheiro-unico-div" class="relative w-full lg:w-1/6 hidden">\n            <input \n              type="number" \n              id="dinheiro-unico" \n              class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n              placeholder=" " \n              min="0" \n              step="0.01"\n            />\n            <label for="dinheiro-unico" \n              class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n              Dinheiro (R$)\n            </label>\n          </div>\n\n          <div id="parcelas-unico-div" class="relative w-full lg:w-1/6 hidden">\n            <input \n              type="number" \n              id="parcelas-unico" \n              class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n              placeholder=" " \n              min="0"\n              max="12" \n              step="1"\n            />\n            <label for="parcelas-unico" \n              class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n              Parcelas\n            </label>\n          </div>\n\n          <div id="cliente-crediario-unico-div" class="relative w-full lg:w-1/6 hidden">\n            <input \n              type="text" \n              id="cliente-crediario-unico" \n              class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n              placeholder=" " \n            />\n            <label for="cliente-crediario-unico" \n              class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n              Nome do Cliente\n            </label>\n          </div>\n\n          <div id="troco-div" class="relative w-full lg:w-1/6 text-xl font-bold flex items-center justify-center hidden">\n          </div>\n        </div>\n\n\n        <div id="metodo-multiplo" class="flex flex-wrap gap-2 mb-4 hidden">\n          <div class="relative w-full lg:w-1/5">\n            <input \n              type="number" \n              id="pix" \n              class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n              placeholder=" " \n              min="0" \n              step="0.01"\n            />\n            <label for="pix" \n              class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n              Pix (R$)\n            </label>\n          </div>\n\n          <div class="flex w-full lg:w-1/5 gap-2">\n            <div class="relative w-full">\n              <input \n                type="number" \n                id="credito" \n                class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                placeholder=" " \n                min="0" \n                step="0.01"\n              />\n              <label for="credito" \n                class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                Crédito (R$)\n              </label>\n            </div>\n            <div class="relative w-1/2">\n              <input \n                type="number" \n                id="parcelas" \n                class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                placeholder=" " \n                min="1"\n              />\n              <label for="parcelas" \n                class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                Parcelas\n              </label>\n            </div>\n          </div>\n\n          <div class="relative w-full lg:w-1/5">\n            <input \n              type="number" \n              id="debito" \n              class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n              placeholder=" " \n              min="0" \n              step="0.01"\n            />\n            <label for="debito" \n              class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n              Débito (R$)\n            </label>\n          </div>\n\n          <div class="relative w-full lg:w-1/5">\n            <input \n              type="number" \n              id="dinheiro" \n              class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n              placeholder=" " \n              min="0" \n              step="0.01"\n            />\n            <label for="dinheiro" \n              class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n              Dinheiro (R$)\n            </label>\n          </div>\n        </div>\n\n        <div id="desconto-div" class="relative w-full lg:w-1/6 hidden">\n          <input \n            type="number" \n            id="desconto" \n            class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n            placeholder=" " \n            min="0" \n            step="0.01"\n          />\n          <label for="desconto" \n            class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n            Desconto (R$)\n          </label>\n        </div>\n      </div>\n\n      <div class="flex gap-2 mt-4">\n        <button id="limpar-venda" class="flex-1 bg-red-500 hover:bg-red-400 text-white p-2 rounded focus:outline-none">\n          Limpar\n        </button>\n        <button id="finalizar-venda" class="flex-1 bg-primary text-white p-2 rounded focus:outline-none">\n          Finalizar Venda\n        </button>\n      </div>\n\n      <div class="flex gap-3 mt-4">\n        <button id="imprimir-venda" class="flex-1 items-center bg-primary text-white p-2 rounded focus:outline-none">\n          <i class="fas fa-print mr-2"></i>\n          Imprimir Recibo\n        </button>\n\n        <button id="compartilhar-orcamento" class="flex-1 items-center bg-primary text-white p-2 rounded focus:outline-none">\n          <i class="fas fa-share-alt mr-2"></i>\n          Usar como orçamento\n        </button>\n\n        <button id="adicionar-produtos-orcamento" class="flex-1 items-center bg-primary text-white p-2 rounded focus:outline-none">\n          <i class="fas fa-plus mr-2"></i>\n          Adicionar produtos de um orçamento\n        </button>\n      </div>\n\n      <div id="orcamento" class="lg:w-2/4 mt-4 space-y-6 hidden">\n      </div>\n\n      \x3c!-- Modal de seleção de orçamento --\x3e\n      <div id="modal-selecionar-orcamento" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">\n        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col">\n          <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">\n            <h2 class="text-xl font-bold text-gray-800">Selecione um Orçamento</h2>\n            <button id="close-modal-selecionar-orcamento" class="text-gray-500 hover:text-gray-700 text-2xl">\n              <i class="fas fa-times"></i>\n            </button>\n          </div>\n          <div class="p-6 overflow-y-auto flex-1">\n            <div id="orcamentos-lista" class="grid grid-cols-1 md:grid-cols-2 gap-4">\n              \x3c!-- Orçamentos serão inseridos aqui --\x3e\n            </div>\n            <div id="orcamentos-loading" class="text-center py-8">\n              <i class="fas fa-spinner fa-spin text-primary text-3xl mb-4"></i>\n              <p class="text-gray-600">Carregando orçamentos...</p>\n            </div>\n            <div id="orcamentos-empty" class="hidden text-center py-8">\n              <i class="fas fa-file-invoice text-gray-400 text-6xl mb-4"></i>\n              <p class="text-gray-500 text-lg">Nenhum orçamento encontrado</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Adicione o modal de abertura de caixa --\x3e\n      <div id="modal-abertura-caixa" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">\n        <div class="bg-white rounded-lg p-6 w-full max-w-md">\n          <h2 class="text-xl font-bold mb-4">Abertura de Caixa</h2>\n          <p class="mb-4">Não há um caixa aberto para hoje. Por favor, informe o valor inicial do caixa:</p>\n          \n          <div class="mb-4">\n            <label for="valor-inicial-caixa" class="block text-sm font-medium text-gray-700 mb-1">Valor Inicial (R$)</label>\n            <input \n              type="number" \n              id="valor-inicial-caixa" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              min="0" \n              step="0.01"\n              placeholder="0,00"\n            />\n          </div>\n          \n          <div class="flex justify-end space-x-3">\n            <button \n              id="cancelar-abertura-caixa" \n              class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"\n            >\n              Cancelar\n            </button>\n            <button \n              id="confirmar-abertura-caixa" \n              class="px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark"\n            >\n              Abrir Caixa\n            </button>\n          </div>\n        </div>\n      </div>\n  </div>\n  '),w(b().mark((function e(){var t,n,r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:if(!((t=e.sent).length>0)){e.next=11;break}return n=function(e){return e&&e.toDate?e.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"Data não disponível"},r=t.map((function(e){var t=n(e.dataAbertura);return"• ".concat(t," - Valor inicial: R$ ").concat((e.valorInicial||0).toFixed(2).replace(".",","))})).join("<br>"),e.next=8,Swal.fire({icon:"error",title:"Caixas Abertos Anteriores",html:'\n          <div class="text-left">\n            <p class="mb-3">Você possui <strong>'.concat(t.length,"</strong> ").concat(1===t.length?"caixa aberto":"caixas abertos",' de dias anteriores:</p>\n            <div class="bg-gray-100 p-3 rounded text-sm max-h-60 overflow-y-auto">\n              ').concat(r,'\n            </div>\n            <p class="mt-3 text-sm text-red-600 font-semibold">\n              <i class="fas fa-exclamation-triangle"></i> \n              Você precisa fechar esses caixas antes de abrir um novo.\n            </p>\n          </div>\n        '),confirmButtonText:"Entendi",confirmButtonColor:"#10b981",width:"500px"});case 8:return((o=e.sent).isConfirmed||o.dismiss)&&(window.location.hash="#/app"),e.abrupt("return");case 11:return e.next=13,ee();case 13:e.sent||(document.getElementById("modal-abertura-caixa").classList.remove("hidden"),document.getElementById("valor-inicial-caixa").focus());case 15:case"end":return e.stop()}}),e)})))(),S(),0==k?document.getElementById("carregando-produtos").classList.remove("hidden"):document.getElementById("carregando-produtos").classList.add("hidden"),document.getElementById("cancelar-abertura-caixa").addEventListener("click",(function(){document.getElementById("modal-abertura-caixa").classList.add("hidden"),window.location.hash="#/app"})),document.getElementById("confirmar-abertura-caixa").addEventListener("click",w(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t=document.getElementById("valor-inicial-caixa").value)||isNaN(parseFloat(t))||parseFloat(t)<0)){e.next=4;break}return Swal.fire({icon:"error",title:"Valor inválido",text:"Por favor, informe um valor válido para a abertura do caixa.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 4:return Swal.fire({title:"Abrindo caixa...",text:"Por favor, aguarde.",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),e.next=7,ne(t);case 7:(n=e.sent).success?(document.getElementById("modal-abertura-caixa").classList.add("hidden"),Swal.fire({icon:"success",title:"Caixa aberto com sucesso!",text:"Agora você pode realizar vendas.",showConfirmButton:!1,timer:2e3,timerProgressBar:!0})):Swal.fire({icon:"error",title:"Erro ao abrir caixa",text:n.message,showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 9:case"end":return e.stop()}}),e)})))),document.getElementById("metodo-multiplo-btn").addEventListener("click",function(){var e=w(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z("#tipo-metodo",t.target),document.getElementById("metodo-unico").classList.add("hidden"),document.getElementById("metodo-multiplo").classList.remove("hidden"),document.getElementById("pix").focus(),m(),e.next=7,Z();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("metodo-unico-btn").addEventListener("click",function(){var e=w(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z("#tipo-metodo",t.target),document.getElementById("metodo-unico").classList.remove("hidden"),document.getElementById("metodo-multiplo").classList.add("hidden"),document.getElementById("metodo-pix-btn").focus(),m(),e.next=7,Z();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.querySelectorAll("#metodo-unico button.rounded-full").forEach((function(e){e.addEventListener("click",function(){var e=w(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("dinheiro-unico-div").classList.add("hidden"),document.getElementById("troco-div").classList.add("hidden"),document.getElementById("parcelas-unico-div").classList.add("hidden"),document.getElementById("cliente-crediario-unico-div").classList.add("hidden"),document.getElementById("dinheiro-unico").value="",document.getElementById("parcelas-unico").value="",U(),z("#metodo-unico",t.target),e.next=10,Z();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.getElementById("metodo-dinheiro-btn").addEventListener("click",w(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("dinheiro-unico-div").classList.remove("hidden"),document.getElementById("dinheiro-unico").focus(),e.next=4,R();case 4:t=e.sent,n=t.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),document.getElementById("dinheiro-unico").value=n;case 7:case"end":return e.stop()}}),e)})))),document.getElementById("metodo-credito-btn").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("parcelas-unico-div").classList.remove("hidden"),document.getElementById("parcelas-unico").focus();case 2:case"end":return e.stop()}}),e)})))),document.getElementById("metodo-crediario-btn").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("cliente-crediario-unico-div").classList.remove("hidden"),document.getElementById("cliente-crediario-unico").focus();case 2:case"end":return e.stop()}}),e)})))),document.getElementById("parcelas-unico").addEventListener("input",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(),e.next=3,Z();case 3:case"end":return e.stop()}}),e)})))),document.getElementById("credito").addEventListener("input",w(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("credito").value,(null==oe||0==parseFloat(oe)||""==oe)&&""!==t&&parseFloat(t)>0?document.getElementById("parcelas").value="1":0!=parseFloat(t)&&""!=t||(document.getElementById("parcelas").value=""),oe=document.getElementById("credito").value;case 3:case"end":return e.stop()}}),e)})))),document.getElementById("desconto").addEventListener("input",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),U(),ae=desconto,e.next=5,Z();case 5:case"end":return e.stop()}}),e)})))),document.getElementById("dinheiro-unico").addEventListener("input",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G();case 1:case"end":return e.stop()}}),e)})))),document.getElementById("produto-pesquisa").addEventListener("input",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){A(document.getElementById("produto-pesquisa").value)}),2);case 1:case"end":return e.stop()}}),e)})))),f=null,document.addEventListener("mousedown",(function(e){f=e.target})),document.getElementById("produto-pesquisa").addEventListener("blur",function(){var e=w(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||!f.closest(".btn-add-produto-caixa")){e.next=2;break}return e.abrupt("return");case 2:document.getElementById("metodo-unico-btn").focus();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("imprimir-venda").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be();case 1:case"end":return e.stop()}}),e)})))),document.getElementById("compartilhar-orcamento").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we();case 1:case"end":return e.stop()}}),e)})))),document.getElementById("adicionar-produtos-orcamento").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:case"end":return e.stop()}}),e)})))),document.getElementById("limpar-venda").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Swal.fire({title:"Tem certeza?",text:"Esta ação limpará a venda atual.",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim, limpar",cancelButtonText:"Cancelar"});case 2:e.sent.isConfirmed&&ye();case 4:case"end":return e.stop()}}),e)})))),document.getElementById("finalizar-venda").addEventListener("click",w(b().mark((function e(){var t,n,a,i,c,d,p,m,f,h,v,y,x,w,E,L,k,I,B,S,j,C,P,A,O,D,N;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("finalizar-venda").disabled=!0,t=document.getElementById("lista-produtos"),n=t.querySelectorAll("input[data-id].input-quantidade-produto"),""!=t.innerHTML.trim()&&0!=n.length){e.next=7;break}return Swal.fire({icon:"warning",title:"Nenhum item no caixa!",text:"Adicione ao menos um item antes de finalizar a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 7:if(!g(n).some((function(e){return""==e.value||0==e.value}))){e.next=11;break}return Swal.fire({icon:"warning",title:"Produtos sem quantidade!",text:"Existem produtos sem quantidade definida. Por favor, verifique antes de finalizar.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 11:return e.next=13,R();case 13:if(a=(a=e.sent).map((function(e){return e.imagem,e.descricao,e.precoVenda,u(e,s)})),i=a.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),c=""==document.getElementById("desconto").value?0:parseFloat(document.getElementById("desconto").value),d=i-c,p=document.querySelector("#tipo-metodo button.rounded-full.bg-primary.text-white"),m=null,null!==p&&(m=p.textContent.trim()),null!=m){e.next=25;break}return Swal.fire({icon:"warning",title:"Método de pagamento não selecionado!",text:"Selecione um método de pagamento antes de finalizar a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 25:if(f=null,"Único"!=m){e.next=51;break}if(null===(h=document.querySelector("#metodo-unico button.rounded-full.bg-primary.text-white"))){e.next=45;break}if(v=h.textContent.trim(),f=v,"Dinheiro"!=v){e.next=39;break}if(""!=document.getElementById("dinheiro-unico").value){e.next=36;break}return Swal.fire({icon:"warning",title:"Valor não informado!",text:"Informe o valor recebido antes de finalizar a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 36:f={dinheiro:{valor:parseFloat(document.getElementById("dinheiro-unico").value),troco:parseFloat(document.getElementById("dinheiro-unico").value)-i}},e.next=45;break;case 39:if("Crediário"!=v){e.next=45;break}if(""!=document.getElementById("cliente-crediario-unico").value){e.next=44;break}return Swal.fire({icon:"warning",title:"Cliente não informado!",text:"Informe o cliente antes de finalizar a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 44:f={crediario:{cliente:document.getElementById("cliente-crediario-unico").value}};case 45:if(null!=f){e.next=49;break}return Swal.fire({icon:"warning",title:"Método de pagamento não selecionado!",text:"Selecione uma opção de pagamento antes de finalizar a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 49:e.next=62;break;case 51:if("Múltiplo"!=m){e.next=62;break}if(y=parseFloat(document.getElementById("pix").value),x=parseFloat(document.getElementById("credito").value),w=parseFloat(document.getElementById("debito").value),E=parseFloat(document.getElementById("dinheiro").value),L=parseInt(document.getElementById("parcelas").value),f={pix:y,credito:x,debito:w,dinheiro:E,parcelas:L},!Object.values(f).every((function(e){return 0===e||isNaN(e)}))){e.next=62;break}return Swal.fire({icon:"warning",title:"Opções de pagamento não selecionadas!",text:"Insira o valor em algumas das opções de pagamento antes de finalizar a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 62:return I={produtos:a,metodoPagamento:k={tipo:m,opcaoEscolhida:f},total:i,desconto:c,totalLiquido:d,criadoEm:new Date},B=(0,r.xI)(),(S=B.currentUser)&&(I.operador=S.uid),j=(0,r.rJ)(r.kA,"vendas"),e.prev=68,e.next=71,ee();case 71:if(C=e.sent){e.next=76;break}return Swal.fire({icon:"error",title:"Caixa fechado!",text:"Não há um caixa aberto para registrar a venda. Por favor, abra o caixa primeiro.",showConfirmButton:!0}),document.getElementById("finalizar-venda").disabled=!1,e.abrupt("return");case 76:return I.caixaId=C.id,P=(0,r.wP)(r.kA),A=(0,r.H9)(r.kA,"caixas",C.id),P.update(A,{totalVendas:(0,r.GV)(d)}),"Único"==m?"object"===l(f)?f.dinheiro?P.update(A,{totalDinheiro:(0,r.GV)(d)}):f.crediario&&P.update(A,{totalCrediario:(0,r.GV)(d)}):"pix"===(O=f.toLowerCase())?P.update(A,{totalPix:(0,r.GV)(d)}):"crédito"===O||"credito"===O?P.update(A,{totalCredito:(0,r.GV)(d)}):"débito"!==O&&"debito"!==O||P.update(A,{totalDebito:(0,r.GV)(d)}):"Múltiplo"==m&&((D=f).dinheiro&&!isNaN(D.dinheiro)&&P.update(A,{totalDinheiro:(0,r.GV)(parseFloat(D.dinheiro))}),D.pix&&!isNaN(D.pix)&&P.update(A,{totalPix:(0,r.GV)(parseFloat(D.pix))}),D.credito&&!isNaN(D.credito)&&P.update(A,{totalCredito:(0,r.GV)(parseFloat(D.credito))}),D.debito&&!isNaN(D.debito)&&P.update(A,{totalDebito:(0,r.GV)(parseFloat(D.debito))})),e.next=83,(0,r.gS)(j,I);case 83:return e.next=85,P.commit();case 85:return me(a),e.next=88,R();case 88:return N=e.sent,e.next=91,ge(N,d,k);case 91:Swal.fire({icon:"success",title:"Venda finalizada!",text:"A venda foi concluída com sucesso. Obrigado!",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),ye(),e.next=99;break;case 95:e.prev=95,e.t0=e.catch(68),console.log("Erro ao cadastrar venda: "+e.t0.message),Swal.fire({icon:"error",title:"Ocorreu um erro na venda!",text:"Não foi possível concluir a venda.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 99:return e.prev=99,document.getElementById("finalizar-venda").disabled=!1,e.finish(99);case 102:case"end":return e.stop()}}),e,null,[[68,95,99,102]])})))),h=!1,v="environment",document.getElementById("open-scanner-modal-caixa").addEventListener("click",(function(){document.getElementById("scanner-modal-caixa").classList.remove("hidden"),setTimeout((function(){x()}),500)})),document.getElementById("close-scanner-modal-caixa").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:document.getElementById("scanner-modal-caixa").classList.add("hidden");case 3:case"end":return e.stop()}}),e)})))),document.getElementById("restart-scanner-caixa").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:setTimeout((function(){x()}),500);case 3:case"end":return e.stop()}}),e)})))),document.getElementById("switch-camera-caixa").addEventListener("click",w(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v="environment"===v?"user":"environment",e.next=3,x();case 3:case"end":return e.stop()}}),e)})))),setTimeout((function(){ce();var e=document.getElementById("produto-pesquisa");e&&e.focus()}),0);case 45:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function me(e){return fe.apply(this,arguments)}function fe(){return(fe=w(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.wP)(r.kA),e.prev=1,t.forEach((function(e){var t=(0,r.H9)(r.kA,"produtos",e.id);n.update(t,{qtde:(0,r.GV)(-e.quantidade)})})),e.next=5,n.commit();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Erro ao atualizar o estoque:",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function he(e){if(!e)return"Não informado";var t=e.tipo,n=e.opcaoEscolhida;if("Único"===t){if("string"==typeof n)return n;if(n.dinheiro){var r=n.dinheiro.troco;return r>0?"Dinheiro (Troco: R$ ".concat(r.toFixed(2).replace(".",","),")"):"Dinheiro"}if(n.crediario)return"Crediário (Cliente: ".concat(n.crediario.cliente,")")}else if("Múltiplo"===t){var o=[];if(n.pix>0&&o.push("Pix: R$ ".concat(n.pix.toFixed(2).replace(".",","))),n.credito>0){var a=n.parcelas?" (".concat(n.parcelas,"x)"):"";o.push("Crédito".concat(a,": R$ ").concat(n.credito.toFixed(2).replace(".",",")))}return n.debito>0&&o.push("Débito: R$ ".concat(n.debito.toFixed(2).replace(".",","))),n.dinheiro>0&&o.push("Dinheiro: R$ ".concat(n.dinheiro.toFixed(2).replace(".",","))),o.join(" | ")}return"Não informado"}function ge(e,t,n){return ve.apply(this,arguments)}function ve(){return(ve=w(b().mark((function e(t,n,o){var a,i,c,s,d,l,u,p,m,f,h,g,v;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=(0,r.xI)(),i=a.currentUser){e.next=6;break}return console.error("Usuário não está logado"),e.abrupt("return");case 6:return c=(0,r.H9)(r.kA,"usuarios",i.uid),e.next=9,(0,r.x7)(c);case 9:if((s=e.sent).exists()){e.next=13;break}return console.error("Documento do usuário não encontrado"),e.abrupt("return");case 13:if(d=s.data(),l="5573998067672",u=d.nome||i.displayName||"Operador",l){e.next=19;break}return console.warn("Telefone do usuário não encontrado. Notificação não será enviada."),e.abrupt("return");case 19:return p=t.map((function(e){return"".concat(e.quantidade,"x ").concat(e.descricao," - R$ ").concat(e.subtotal.toFixed(2).replace(".",","))})).join("\n"),m=he(o),f="Nova venda realizada!\n\nOperador: ".concat(u,"\nMétodo de Pagamento: ").concat(m,"\nTotal: R$ ").concat(n.toFixed(2).replace(".",","),"\n\nProdutos:\n").concat(p),h=encodeURIComponent(f),g="https://wa.me/".concat(l,"?text=").concat(h),e.next=27,fetch("https://ntfy.sh/".concat("viniceosmgithubio-papelaria-sis-nova-venda"),{method:"POST",headers:{Title:"Nova Venda Realizada",Message:"Total: R$ ".concat(n.toFixed(2).replace(".",",")),Click:g,Priority:"default",Tags:"money_with_wings,shopping_cart"},body:f});case 27:(v=e.sent).ok||console.error("Erro ao enviar notificação:",v.statusText),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0),console.error("Erro ao enviar notificação de venda:",e.t0);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})))).apply(this,arguments)}function ye(){document.getElementById("lista-produtos").innerHTML="",document.getElementById("pix").value="",document.getElementById("total-compra").textContent="R$ 0,00",document.getElementById("credito").value="",document.getElementById("debito").value="",document.getElementById("dinheiro").value="",document.getElementById("parcelas").value="",document.getElementById("dinheiro-unico").value="",document.getElementById("dinheiro-unico-div").classList.add("hidden"),document.getElementById("troco-div").classList.add("hidden"),q("#metodo-unico"),document.getElementById("desconto-div").classList.add("hidden"),document.getElementById("desconto").value=0,document.getElementById("desconto-compra").parentElement.classList.add("hidden"),document.getElementById("total-liquido-compra").parentElement.classList.add("hidden"),I=!1}function be(){return xe.apply(this,arguments)}function xe(){return(xe=w(b().mark((function e(){var t,n,r,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,(n=window.open("","_blank")).document.open(),r="",t.forEach((function(e){r+='\n      <div class="flex items-center justify-between border-b py-2">\n        <img src="'.concat(e.imagem,'" alt="').concat(e.descricao,'" class="w-12 h-12 object-cover">\n        <div class="flex-1 ml-3">\n          <p class="font-semibold">').concat(e.descricao,'</p>\n          <p class="text-gray-500 text-xs">Quantidade: ').concat(e.quantidade,'</p>\n        </div>\n        <div class="text-right">\n          <p class="text-gray-700">R$ ').concat(e.precoVenda.toFixed(2).replace(".",","),'</p>\n          <p class="text-gray-500 text-xs">Subtotal: R$ ').concat(e.subtotal.toFixed(2).replace(".",","),"</p>\n        </div>\n      </div>\n    ")})),a=t.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),""==document.getElementById("desconto").value?0:parseFloat(document.getElementById("desconto").value),n.document.write('\n    <html>\n    <head>\n      <title>Impressão</title>\n      \x3c!-- Importa o Tailwind CSS via CDN --\x3e\n      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">\n      <style>\n      body {\n        margin: 0;\n      }\n      </style>\n    </head>\n    <body>\n      <div id="cupom" class="p-4 max-w-sm mx-auto bg-white border border-gray-300 rounded shadow-md text-sm">\n        <h1 class="text-center font-bold text-lg mb-4">Recibo</h1>\n        <p class="text-center text-gray-600 mb-2">Papelaria Criativa</p>\n        <p class="text-center text-gray-600 text-xs mb-4">CNPJ: 12.345.678/0001-99</p>\n\n        <hr class="my-2 border-gray-300" />\n\n        \x3c!-- Produtos --\x3e\n        <div class="mb-4">\n          '.concat(r,'\n        </div>\n\n        \x3c!-- Totais --\x3e\n        <div class="text-right border-t pt-2">\n          <p class="text-gray-700 font-bold">Total: R$ ').concat(a.toFixed(2).replace(".",","),'</p>\n          \x3c!-- <p class="text-gray-500 text-xs">Pago: R$ 20,00</p>\n          <p class="text-gray-500 text-xs">Troco: R$ 7,00</p> --\x3e\n        </div>\n\n        <hr class="my-4 border-gray-300" />\n\n        \x3c!-- Rodapé --\x3e\n        <p class="text-center text-xs text-gray-500">Obrigado por comprar conosco!</p>\n        <p class="text-center text-xs text-gray-500">Data: ').concat((new Date).toLocaleString("pt-BR").split(", ")[0],"</p>\n      </div>\n    </body>\n    </html>\n  ")),n.document.close(),n.onload=function(){n.print(),n.close()};case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return Ee.apply(this,arguments)}function Ee(){return Ee=w(b().mark((function e(){var t,n,a,i,c,s,l,p,m,f,h,g,v,y,x,E;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("lista-produtos"),n=t.querySelectorAll("input[data-id].input-quantidade-produto"),""!=t.innerHTML.trim()&&0!=n.length){e.next=5;break}return Swal.fire({icon:"warning",title:"Nenhum item no caixa!",text:"Adicione ao menos um item para compartilhar orçamento.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 5:return e.next=7,Swal.fire({title:"Salvar orçamento?",text:"Deseja salvar este orçamento antes de compartilhar?",icon:"question",showCancelButton:!0,confirmButtonText:"Sim, salvar",cancelButtonText:"Não, apenas compartilhar",confirmButtonColor:"#10b981"});case 7:if(!e.sent.isConfirmed){e.next=36;break}return e.next=11,Swal.fire({title:"Descrição do orçamento",input:"text",inputLabel:"Digite uma descrição para identificar este orçamento",inputPlaceholder:"Ex: Cliente João, Pedido especial, etc.",inputValidator:function(e){if(!e||""===e.trim())return"Por favor, digite uma descrição!"},showCancelButton:!0,confirmButtonText:"Salvar",cancelButtonText:"Cancelar",confirmButtonColor:"#10b981"});case 11:if(a=e.sent,!(i=a.value)){e.next=36;break}return e.prev=14,e.next=17,R();case 17:return c=e.sent,s=c.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),l=""==document.getElementById("desconto").value?0:parseFloat(document.getElementById("desconto").value),p=s-l,m=(0,r.xI)(),f=m.currentUser,h={descricao:i.trim(),produtos:c.map((function(e){return e.imagem,u(e,d)})),total:s,desconto:l,totalLiquido:p,criadoEm:(0,r.O5)(),operador:f?f.uid:null},g=(0,r.rJ)(r.kA,"orcamentos"),e.next=27,(0,r.gS)(g,h);case 27:Swal.fire({icon:"success",title:"Orçamento salvo!",text:"O orçamento foi salvo com sucesso.",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(14),console.error("Erro ao salvar orçamento:",e.t0),Swal.fire({icon:"error",title:"Erro ao salvar",text:"Não foi possível salvar o orçamento. Tente novamente.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 34:e.next=36;break;case 36:return e.next=38,R();case 38:v=e.sent,y=document.getElementById("orcamento"),x="",v.forEach((function(e){x+='\n      <li class="flex justify-between">\n        <span>'.concat(e.quantidade," ").concat(e.descricao,'</span>\n        <span class="text-gray-600 whitespace-nowrap">R$ ').concat(e.subtotal.toFixed(2).replace(".",","),"</span>\n      </li>\n    ")})),E=v.reduce((function(e,t){return e+(0,o.xu)(t.subtotal,2)}),0),""==document.getElementById("desconto").value?0:parseFloat(document.getElementById("desconto").value),y.innerHTML='\n  <div class="bg-white shadow rounded-lg p-4">\n    <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">Orçamento '.concat((new Date).toLocaleString("pt-BR").split(", ")[0],'</h2>\n    <div class="space-y-4">\n      <div class="border-b pb-4">\n        <ul class="space-y-2">\n          ').concat(x,'\n        </ul>\n        \n        <div class="flex justify-between mt-4 font-semibold">\n          <span class="lg:ml-auto lg:mr-4">Total:</span>\n          <span class="text-green-500">R$ ').concat(E.toFixed(2).replace(".",","),"</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  "),y.classList.remove("hidden"),html2canvas(document.getElementById("orcamento")).then((function(e){e.toBlob(function(){var e=w(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[new File([t],"orcamento.png",{type:t.type})],r={files:n},!navigator.canShare(r)){e.next=16;break}return e.prev=3,e.next=6,navigator.share(r);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),"AbortError"!==e.t0.name&&console.error(e.t0.name,e.t0.message);case 11:return e.prev=11,y.classList.add("hidden"),e.finish(11);case 14:e.next=18;break;case 16:Swal.fire({icon:"error",title:"Orçamento não pode ser compartilhado!",text:"O seu navegador não suporta a função de compartilhamento.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),console.warn("Sharing not supported",r);case 18:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())}));case 48:case"end":return e.stop()}}),e,null,[[14,30]])}))),Ee.apply(this,arguments)}function Le(){return ke.apply(this,arguments)}function ke(){return ke=w(b().mark((function e(){var t,n,o,a,i,c,s,d;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("modal-selecionar-orcamento"),n=document.getElementById("orcamentos-lista"),o=document.getElementById("orcamentos-loading"),a=document.getElementById("orcamentos-empty"),t.classList.remove("hidden"),n.classList.add("hidden"),a.classList.add("hidden"),o.classList.remove("hidden"),e.prev=8,i=(0,r.rJ)(r.kA,"orcamentos"),c=(0,r.P)(i,(0,r.My)("criadoEm","desc")),e.next=13,(0,r.GG)(c);case 13:if(s=e.sent,d=s.docs.map((function(e){return f({id:e.id},e.data())})),o.classList.add("hidden"),0!==d.length){e.next=19;break}return a.classList.remove("hidden"),e.abrupt("return");case 19:n.innerHTML=d.map((function(e){var t,n,r,o=null!==(t=e.criadoEm)&&void 0!==t&&t.toDate?e.criadoEm.toDate().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data não disponível",a=e.totalLiquido?e.totalLiquido.toFixed(2).replace(".",","):(null===(n=e.total)||void 0===n?void 0:n.toFixed(2).replace(".",","))||"0,00",i=(null===(r=e.produtos)||void 0===r?void 0:r.length)||0,c=e.descricao||"Sem descrição";return'\n        <div \n          class="orcamento-card bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-primary hover:shadow-lg transition-all cursor-pointer"\n          data-orcamento-id="'.concat(e.id,'"\n        >\n          <div class="flex justify-between items-start mb-3">\n            <h3 class="text-lg font-semibold text-gray-800 flex-1">').concat(c,'</h3>\n            <span class="text-2xl font-bold text-primary ml-2">R$ ').concat(a,'</span>\n          </div>\n          \n          <div class="space-y-2 text-sm text-gray-600">\n            <div class="flex items-center">\n              <i class="fas fa-box mr-2 text-primary"></i>\n              <span>').concat(i," ").concat(1===i?"item":"itens",'</span>\n            </div>\n            <div class="flex items-center">\n              <i class="fas fa-calendar mr-2 text-primary"></i>\n              <span>').concat(o,"</span>\n            </div>\n            ").concat(e.desconto>0?'\n              <div class="flex items-center text-red-600">\n                <i class="fas fa-tag mr-2"></i>\n                <span>Desconto: R$ '.concat(e.desconto.toFixed(2).replace(".",","),"</span>\n              </div>\n            "):"",'\n          </div>\n          \n          <div class="mt-4 pt-3 border-t border-gray-200">\n            <button \n              class="w-full bg-primary text-white py-2 px-4 rounded hover:bg-primary-dark transition-colors font-medium"\n              data-orcamento-id="').concat(e.id,'"\n            >\n              <i class="fas fa-plus mr-2"></i>\n              Adicionar ao Caixa\n            </button>\n          </div>\n        </div>\n      ')})).join(""),n.classList.remove("hidden"),n.querySelectorAll(".orcamento-card, button[data-orcamento-id]").forEach((function(e){e.addEventListener("click",function(){var n=w(b().mark((function n(r){var o,a;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.stopPropagation(),o=e.getAttribute("data-orcamento-id"),!(a=d.find((function(e){return e.id===o})))||!a.produtos){n.next=7;break}return t.classList.add("hidden"),n.next=7,Ie(a.produtos);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),document.getElementById("close-modal-selecionar-orcamento").addEventListener("click",(function(){t.classList.add("hidden")})),t.addEventListener("click",(function(e){e.target===t&&t.classList.add("hidden")})),e.next=32;break;case 26:e.prev=26,e.t0=e.catch(8),console.error("Erro ao carregar orçamentos:",e.t0),o.classList.add("hidden"),Swal.fire({icon:"error",title:"Erro ao carregar",text:"Não foi possível carregar os orçamentos.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),t.classList.add("hidden");case 32:case"end":return e.stop()}}),e,null,[[8,26]])}))),ke.apply(this,arguments)}function Ie(e){return Be.apply(this,arguments)}function Be(){return(Be=w(b().mark((function e(t){var n,o,a,i,c,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("lista-produtos")){e.next=3;break}return e.abrupt("return");case 3:o=0,a=[],i=p(t),e.prev=6,s=b().mark((function e(){var t,i,s,d,l,u,p,m,h,g,v,y,x,w;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.value,(i=L.find((function(e){return e.id===t.id})))||!t.id){e.next=14;break}return e.prev=3,s=(0,r.H9)(r.kA,"produtos",t.id),e.next=7,(0,r.x7)(s);case 7:(d=e.sent).exists()&&(i=f({id:d.id},d.data()),L.push(i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Erro ao buscar produto ".concat(t.id,":"),e.t0);case 14:i?document.querySelectorAll('.div-produto-caixa[data-id="'.concat(i.id,'"]')).length>0?(l=document.getElementById("quantidade-produto-".concat(i.id)))&&(u=parseFloat(l.value)||0,p=t.quantidade||1,l.value=u+p,l.dispatchEvent(new Event("input"))):((m=document.createElement("div")).classList.add("div-produto-caixa","flex","justify-between","items-center","p-2","pb-0","border","rounded","mb-2","bg-gray-50"),m.setAttribute("data-id",i.id),"",h=i.imagem&&void 0!==i.imagem?'<img src="'.concat(i.imagem,'" alt="').concat(i.descricao,'" loading="lazy" class="w-10 h-10 object-cover rounded-lg mb-4 float-left mr-4">'):'<div class="w-10 h-10 object-cover rounded-lg mb-4 float-left mr-4 bg-gray-200"></div>',g=t.quantidade||1,v=t.precoVenda||i.precoVenda||0,y=v*g,m.innerHTML='\n          <div class="pr-1">\n            '.concat(h,'\n            <span id="nome-produto" class="font-medium">').concat(t.descricao||i.descricao,'</span>\n          </div>\n          <div class="flex items-center space-x-2">\n            <input\n              id="quantidade-produto-').concat(i.id,'"\n              type="number"\n              class="input-quantidade-produto w-16 p-1 border rounded"\n              min="1"\n              value="').concat(g,'"\n              data-id="').concat(i.id,'"\n            />\n            <span> x </span>\n            <span id="valor-produto" class="font-medium">R$ ').concat(v.toFixed(2).replace(".",","),'</span>\n            <span> = </span>\n            <span id="subtotal-produto-').concat(i.id,'" class="subtotal-produto font-medium">R$ ').concat(y.toFixed(2).replace(".",","),'</span>\n            <button class="btn-remover-produto-caixa bg-red-500 text-white py-1 px-2 rounded" data-id="').concat(i.id,'">\n              <i class="fas fa-trash"></i>\n            </button>\n          </div>\n        '),n.appendChild(m),(x=m.querySelector('input[data-id="'.concat(i.id,'"].input-quantidade-produto')))&&x.addEventListener("input",(function(e){var t=e.target,n=t.getAttribute("data-id"),r=""==t.value?0:parseFloat(t.value),o=L.find((function(e){return e.id==n}));if(o){var a=o.qtde;""===t.value?r=0:isNaN(parseFloat(t.value))?(Swal.fire({icon:"error",title:"Valor da quantidade incorreta!",text:"Insira um número válido.",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),t.value=0):r<0?(t.value=0,t.blur()):r>a&&(Swal.fire({icon:"error",title:"Quantidade máxima!",text:"A quantidade máxima para ".concat(o.descricao," é ").concat(a,"."),showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),t.value=a),r=""==t.value?0:parseFloat(t.value);var i=o.precoVenda*r;document.getElementById("subtotal-produto-".concat(o.id)).textContent="R$ ".concat(i.toFixed(2).replace(".",",")),F(),$(),Q(),U()}})),(w=m.querySelector("button.btn-remover-produto-caixa"))&&w.addEventListener("click",(function(e){T(e.target.closest("button.btn-remover-produto-caixa").getAttribute("data-id"))})),o++):a.push(t.descricao||"Produto ID: ".concat(t.id));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),i.s();case 9:if((c=i.n()).done){e.next=13;break}return e.delegateYield(s(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),i.e(e.t1);case 18:return e.prev=18,i.f(),e.finish(18);case 21:F(),$(),Q(),U(),a.length>0?Swal.fire({icon:"warning",title:"Alguns produtos não foram encontrados",html:"\n        <p>".concat(o,' produto(s) adicionado(s) com sucesso.</p>\n        <p class="mt-2">Produtos não encontrados:</p>\n        <ul class="list-disc list-inside mt-2">\n          ').concat(a.map((function(e){return"<li>".concat(e,"</li>")})).join(""),"\n        </ul>\n      "),confirmButtonText:"OK",confirmButtonColor:"#10b981"}):Swal.fire({icon:"success",title:"Produtos adicionados!",text:"".concat(o," produto(s) adicionado(s) ao caixa."),showConfirmButton:!1,timer:2e3,timerProgressBar:!0});case 26:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})))).apply(this,arguments)}},3709:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>c});var r=n(6795);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(){return s.apply(this,arguments)}function s(){var e;return e=a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("content-router").innerHTML='\n    <div class="bg-[#f0f0f0]">\n        '.concat(r.fZ,'\n\n        <div class="container mx-auto p-6">\n            <div id="login-prompt" class="bg-white shadow-md p-6 rounded-lg space-y-4 text-center">\n                <h1 class="text-2xl font-semibold text-gray-800">\n                    É necessário estar logado para finalizar a compra\n                </h1>\n                <p class="text-gray-600">\n                    Não se preocupe, seu carrinho será salvo para que você continue de onde parou.\n                </p>\n                <div class="flex justify-center space-x-4">\n                    <a href="/login" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">\n                        Fazer Login\n                    </a>\n                    <a href="/cadastro" class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600">\n                        Criar Conta\n                    </a>\n                </div>\n            </div>\n\n            <div class="hidden">\n                \x3c!-- Breadcrumb --\x3e\n                <nav class="flex items-center space-x-4 mb-8">\n                    <div class="breadcrumb-step flex items-center cursor-pointer">\n                        <div class="step-circle w-8 h-8 flex justify-center items-center bg-blue-500 text-white rounded-full">1</div>\n                        <span class="step-text ml-2 text-gray-700">Produtos</span>\n                    </div>\n                    <div class="h-px w-8 bg-gray-300"></div>\n                    <div class="breadcrumb-step flex items-center cursor-pointer">\n                        <div class="step-circle w-8 h-8 flex justify-center items-center bg-gray-300 text-gray-500 rounded-full">2</div>\n                        <span class="step-text ml-2 text-gray-500">Entrega/Retirada</span>\n                    </div>\n                    <div class="h-px w-8 bg-gray-300"></div>\n                    <div class="breadcrumb-step flex items-center cursor-pointer">\n                        <div class="step-circle w-8 h-8 flex justify-center items-center bg-gray-300 text-gray-500 rounded-full">3</div>\n                        <span class="step-text ml-2 text-gray-500">Pedido</span>\n                    </div>\n                </nav>\n\n                \x3c!-- Etapa 1: Lista de Produtos e Método de Pagamento --\x3e\n                <section class="space-y-6">\n                    <h2 class="text-xl font-bold text-gray-800">1. Lista de Produtos</h2>\n                    <div class="space-y-4">\n                    \x3c!-- Produto --\x3e\n                    <div class="flex items-center justify-between border-b pb-2">\n                        <span class="text-gray-700">Produto A</span>\n                        <span class="text-gray-800 font-semibold">R$ 50,00</span>\n                    </div>\n                    <div class="flex items-center justify-between border-b pb-2">\n                        <span class="text-gray-700">Produto B</span>\n                        <span class="text-gray-800 font-semibold">R$ 30,00</span>\n                    </div>\n                    \x3c!-- Total --\x3e\n                    <div class="flex justify-between text-lg font-bold text-gray-800">\n                        <span>Total</span>\n                        <span>R$ 80,00</span>\n                    </div>\n                    </div>\n\n                    \x3c!-- Método de Pagamento --\x3e\n                    <div>\n                    <h3 class="text-lg font-bold text-gray-800 mb-2">Escolha o Método de Pagamento</h3>\n                    <select class="w-full p-2 border border-gray-300 rounded-md">\n                        <option>Cartão de Crédito</option>\n                        <option>Pix</option>\n                        <option>Boleto Bancário</option>\n                    </select>\n                    </div>\n                </section>\n\n                \x3c!-- Etapa 2: Entrega ou Retirada --\x3e\n                <section class="mt-8 space-y-6 hidden">\n                    <h2 class="text-xl font-bold text-gray-800">2. Entrega ou Retirada</h2>\n                    <div>\n                    <label class="flex items-center space-x-4">\n                        <input type="radio" name="deliveryOption" value="retirada" class="h-4 w-4 text-blue-500">\n                        <span>Retirar na loja</span>\n                    </label>\n                    <label class="flex items-center space-x-4 mt-2">\n                        <input type="radio" name="deliveryOption" value="entrega" class="h-4 w-4 text-blue-500">\n                        <span>Entregar no endereço cadastrado</span>\n                    </label>\n                    </div>\n                    <div class="mt-4 border p-4 rounded-md bg-gray-100 hidden">\n                    <h3 class="text-lg font-bold">Endereço Cadastrado</h3>\n                    <p>Rua Exemplo, 123, Bairro, Cidade, Estado</p>\n                    <button class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">\n                        Alterar Endereço\n                    </button>\n                    </div>\n                </section>\n\n                \x3c!-- Etapa 3: Número do Pedido e Rastreamento --\x3e\n                <section class="mt-8 space-y-6 hidden">\n                    <h2 class="text-xl font-bold text-gray-800">3. Pedido Concluído</h2>\n                    <div class="p-4 border rounded-md bg-green-100">\n                    <h3 class="text-lg font-bold text-green-800">Número do Pedido: #12345</h3>\n                    <p class="text-green-700">Acompanhe o status do seu pedido:</p>\n                    <ol class="mt-4 space-y-2">\n                        <li class="flex items-center">\n                        <div class="w-4 h-4 bg-green-500 rounded-full"></div>\n                        <span class="ml-2 text-green-800">Pedido Criado</span>\n                        </li>\n                        <li class="flex items-center">\n                        <div class="w-4 h-4 bg-gray-300 rounded-full"></div>\n                        <span class="ml-2 text-gray-500">Preparando o pedido</span>\n                        </li>\n                        <li class="flex items-center">\n                        <div class="w-4 h-4 bg-gray-300 rounded-full"></div>\n                        <span class="ml-2 text-gray-500">Em trânsito</span>\n                        </li>\n                        <li class="flex items-center">\n                        <div class="w-4 h-4 bg-gray-300 rounded-full"></div>\n                        <span class="ml-2 text-gray-500">Entregue</span>\n                        </li>\n                    </ol>\n                    </div>\n                </section>\n            </div>\n        </div>\n    </div>\n    '),(0,r.nm)(),document.getElementById("filtro-produtos").parentElement.classList.add("hidden"),t=document.querySelectorAll(".breadcrumb-step"),n=document.querySelectorAll("section"),t.forEach((function(e,r){e.addEventListener("click",(function(){t.forEach((function(e,t){var n=e.querySelector(".step-circle"),o=e.querySelector(".step-text");t<=r?(n.classList.add("bg-blue-500","text-white"),n.classList.remove("bg-gray-300","text-gray-500"),o.classList.add("text-gray-700"),o.classList.remove("text-gray-500")):(n.classList.add("bg-gray-300","text-gray-500"),n.classList.remove("bg-blue-500","text-white"),o.classList.add("text-gray-500"),o.classList.remove("text-gray-700"))})),n.forEach((function(e,t){e.classList.toggle("hidden",t!==r)}))}))}));case 7:case"end":return e.stop()}}),e)})),s=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))},s.apply(this,arguments)}},5457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>m});var r=n(1676),o=n(6115);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(){var e=document.getElementById("content-dashboard"),t='<td class="border p-2 bg-gray-100 h-8"></td>'.repeat(4),n='\n    <tr class="animate-pulse">\n        '.concat(t,"\n    </tr>\n    ").repeat(7);e.innerHTML='\n      <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Cliente</h1>\n\n        <form id="form-cliente" class="space-y-4">\n          <div class="grid grid-cols-1 gap-4">\n            <input \n              type="text" \n              id="nome-completo" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Nome Completo *" \n              required\n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="text" \n              id="endereco" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Endereço *" \n              required\n            />\n          \n            <input \n              type="number" \n              id="numero" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n              placeholder="Número *"\n              required \n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="tel" \n              id="telefone" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Telefone *" \n              required\n            />\n          </div>\n          <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n            Salvar Registro\n          </button>\n        </form>\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Filtrar Cliente\n        </button>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Filtrar Cliente</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs"></div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div id="clientes-list" class="mt-4">\n            <div class="max-h-[25rem] overflow-y-auto rounded-lg">\n                <table id="clientes-table" class="w-full border-collapse">\n                    <thead class="sticky bg-primary text-white z-5" style="top: -1px;">\n                        <tr>\n                            <th class="border p-2">Nome completo</th>\n                            <th class="border p-2">Endereço</th>\n                            <th class="border p-2">Número</th>\n                            <th class="border p-2">Telefone</th>\n                            <th class="border p-2">Ações</th>\n                        </tr>\n                    </thead>\n                    <tbody id="clientes-table-body">\n                        '.concat(n,'\n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n        <div id="total-registros-clientes" class="text-center text-gray-500 text-sm mt-2">Total de registros: <span id="total-registros-clientes-valor">0</span> <span id="registros-clientes-filtrado">(Filtrados: <span id="registros-clientes-filtrado-valor">0</span>)</span></div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-96">\n                <h2 class="text-xl font-bold mb-4">Editar Conta Fixas</h2>\n                <form id="edit-form" class="space-y-4">\n                    <input \n                      type="text" \n                      id="edit-nome-completo" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Nome Completo *" \n                      required\n                    />\n                   <input \n                      type="text" \n                      id="edit-endereco" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n                      placeholder="Endereço *"\n                      required \n                    />\n                    <input \n                      type="number" \n                      id="edit-numero" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Número *" \n                      required\n                    />\n                    <input \n                      type="tel" \n                      id="edit-telefone" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Telefone *" \n                      required\n                    />\n\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    ');var a=document.getElementById("form-cliente"),c=document.getElementById("clientes-table"),u=document.getElementById("clientes-table-body"),m=(0,r.rJ)(r.kA,"clientes"),f=document.getElementById("edit-modal"),h=document.getElementById("close-edit-modal"),g=document.getElementById("edit-form"),v=document.getElementById("filter-modal"),y=document.getElementById("open-filter-modal"),b=document.getElementById("close-filter-modal"),x=document.getElementById("filter-form"),w=document.getElementById("filter-inputs");function E(e){document.getElementById("edit-nome-completo").value=e.nomeCompleto,document.getElementById("edit-endereco").value=e.endereco,document.getElementById("edit-numero").value=e.numero,document.getElementById("edit-telefone").value=e.telefone,f.classList.remove("hidden"),f.setAttribute("data-id",e.id)}h.addEventListener("click",(function(){f.classList.add("hidden")})),g.addEventListener("submit",function(){var e=p(d().mark((function e(t){var n,o,a,i,c,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("edit-modal").dataset.id,o=document.getElementById("edit-nome-completo").value,a=document.getElementById("edit-endereco").value,i=document.getElementById("edit-numero").value,c=document.getElementById("edit-telefone").value,s=(0,r.H9)(r.kA,"clientes",n),u=l(l(l({nomeCompleto:o,endereco:a},"endereco",a),"numero",i),"telefone",c),e.next=10,(0,r.mZ)(s,u);case 10:g.reset(),f.classList.add("hidden"),I();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y.addEventListener("click",(function(){v.classList.remove("hidden");var e=w.querySelectorAll("input");e.length>0&&e[0].focus()})),b.addEventListener("click",(function(){v.classList.add("hidden")}));var L=document.getElementById("registros-clientes-filtrado"),k=document.getElementById("registros-clientes-filtrado-valor");function I(){return B.apply(this,arguments)}function B(){return B=p(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.GG)(m);case 2:t=e.sent,u.innerHTML="",(n=t.docs.map((function(e){return s({id:e.id},e.data())}))).forEach((function(e){var t,n=document.createElement("tr");n.innerHTML='\n                <td class="border p-2">'.concat(e.nomeCompleto,'</td>\n                <td class="border p-2">').concat(e.endereco,'</td>\n                <td class="border p-2">').concat(e.numero,'</td>\n                <td class="border p-2">').concat(e.telefone,'</td>\n                <td class="border p-2 text-center">\n                    <button \n                        class="btn-editar-cliente bg-yellow-500 text-white py-1 px-2 rounded" \n                        data-id="').concat(e.id,'"\n                        data-nome-completo="').concat(e.nomeCompleto,'"\n                        data-endereco="').concat(e.endereco,'"\n                        data-numero="').concat(e.numero,'"\n                        data-telefone="').concat(e.telefone,'">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button data-id="').concat(e.id,'" class="btn-remover-cliente bg-red-500 text-white py-1 px-2 rounded">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            '),u.appendChild(n),(t=u.querySelectorAll("#content-dashboard button[data-id].btn-editar-cliente"),function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.addEventListener("click",(function(){E(e.dataset)}))}))})),document.getElementById("total-registros-clientes-valor").innerText=n.length,u.querySelectorAll("#content-dashboard button[data-id].btn-remover-cliente").forEach((function(e){e.addEventListener("click",function(){var e=p(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.closest("button[data-id].btn-remover-cliente").getAttribute("data-id"),e.next=3,(0,r.kd)((0,r.H9)(r.kA,"clientes",n));case 3:I();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}(0,o.bi)(x,w,c,v,L,k),a.addEventListener("submit",function(){var e=p(d().mark((function e(t){var n,o,i,c,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=a.querySelector('#content-dashboard button[type="submit"]')).disabled=!0,o=document.getElementById("nome-completo").value,i=document.getElementById("endereco").value,c=document.getElementById("numero").value,s=document.getElementById("telefone").value,e.prev=7,u=l(l(l({nomeCompleto:o,endereco:i},"endereco",i),"numero",c),"telefone",s),e.next=11,(0,r.gS)(m,u);case 11:I(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("Erro ao cadastrar cliente: "+e.t0.message);case 17:return e.prev=17,n.disabled=!1,a.reset(),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[7,14,17,21]])})));return function(t){return e.apply(this,arguments)}}()),I(),(0,o.E4)(c,w,[2])}},1502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>m});var r=n(1676),o=n(6115);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,d,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(){document.getElementById("content-dashboard").innerHTML='\n      <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Conta fixa</h1>\n\n        <form id="form-conta-fixa" class="space-y-4">\n          <div class="grid grid-cols-1 gap-4">\n            <input \n              type="text" \n              id="descricao" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Descrição *" \n              required\n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="number" \n              id="dia-vencimento" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n              placeholder="Dia do vencimento *"\n              required \n            />\n            <input \n              type="number" \n              step="0.01" \n              id="valor" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Valor (R$) *" \n              required\n            />\n          </div>\n          <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n            Salvar Registro\n          </button>\n        </form>\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Filtrar Conta fixa\n        </button>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Filtrar Conta Fixa</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs"></div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div id="contas-fixas-list" class="mt-4">\n            <div class="max-h-[25rem] overflow-y-auto rounded-lg">\n                <table id="contas-fixas-table" class="w-full border-collapse">\n                    <thead class="sticky bg-primary text-white z-5" style="top: -1px;">\n                        <tr>\n                            <th class="border p-2">Descrição</th>\n                            <th class="border p-2">Dia Vencimento</th>\n                            <th class="border p-2">Valor</th>\n                            <th class="border p-2">Ações</th>\n                        </tr>\n                    </thead>\n                    <tbody id="contas-fixas-table-body">\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                    </tbody>\n                    <tfoot class="sticky bg-primary text-white z-5" style="bottom: -1px;">\n                        <tr>\n                            <td class="border p-2" colspan="2">Total</td>\n                            <td class="border p-2" id="total-valor">0</td>\n                            <td class="border p-2"></td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-96">\n                <h2 class="text-xl font-bold mb-4">Editar Conta Fixas</h2>\n                <form id="edit-form" class="space-y-4">\n                    <input \n                      type="text" \n                      id="edit-descricao" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Descrição *" \n                      required\n                    />\n                   <input \n                      type="number" \n                      id="edit-dia-vencimento" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n                      placeholder="Dia do vencimento *"\n                      required \n                    />\n                    <input \n                      type="number" \n                      step="0.01" \n                      id="edit-valor" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Valor (R$) *" \n                      required\n                    />\n\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    ';var e=document.getElementById("form-conta-fixa"),t=document.getElementById("contas-fixas-table"),n=document.getElementById("contas-fixas-table-body"),a=(0,r.rJ)(r.kA,"contasFixas"),c=document.getElementById("edit-modal"),d=document.getElementById("close-edit-modal"),u=document.getElementById("edit-form"),m=document.getElementById("filter-modal"),f=document.getElementById("open-filter-modal"),h=document.getElementById("close-filter-modal"),g=document.getElementById("filter-form"),v=document.getElementById("filter-inputs");function y(){var e=n.querySelectorAll("tr"),t=0;e.forEach((function(e){var n=parseFloat(e.querySelector("td:nth-child(3)").innerText.replace("R$ ","").replace(",","."))||0;t+=n})),document.getElementById("total-valor").innerText="R$ ".concat(t.toFixed(2).replace(".",","))}function b(){return x.apply(this,arguments)}function x(){return x=p(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.GG)(a);case 2:t=e.sent,n.innerHTML="",t.docs.map((function(e){return s({id:e.id},e.data())})).forEach((function(e){var t,r=document.createElement("tr");r.innerHTML='\n                <td class="border p-2">'.concat(e.descricao,'</td>\n                <td class="border p-2">').concat(e.diaVencimento,'</td>\n                <td class="border p-2">R$ ').concat(e.valor.toFixed(2).replace(".",","),'</td>\n                <td class="border p-2 text-center">\n                    <button \n                        class="btn-editar-conta-fixa bg-yellow-500 text-white py-1 px-2 rounded" \n                        data-id="').concat(e.id,'"\n                        data-descricao="').concat(e.descricao,'"\n                        data-dia-vencimento="').concat(e.diaVencimento,'"\n                        data-valor="').concat(e.valor,'">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button data-id="').concat(e.id,'" class="btn-remover-conta-fixa bg-red-500 text-white py-1 px-2 rounded">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            '),n.appendChild(r),(t=n.querySelectorAll("#content-dashboard button[data-id].btn-editar-conta-fixa"),function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.addEventListener("click",(function(){var t;t=e.dataset,document.getElementById("edit-descricao").value=t.descricao,document.getElementById("edit-dia-vencimento").value=t.diaVencimento,document.getElementById("edit-valor").value=t.valor,c.classList.remove("hidden"),c.setAttribute("data-id",t.id)}))}))})),y(),n.querySelectorAll("#content-dashboard button[data-id].btn-remover-conta-fixa").forEach((function(e){e.addEventListener("click",function(){var e=p(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.closest("button[data-id].btn-remover-conta-fixa").getAttribute("data-id"),e.next=3,(0,r.kd)((0,r.H9)(r.kA,"contasFixas",n));case 3:b();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}d.addEventListener("click",(function(){c.classList.add("hidden")})),u.addEventListener("submit",function(){var e=p(l().mark((function e(t){var n,o,a,i,s,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("edit-modal").dataset.id,o=document.getElementById("edit-descricao").value,a=document.getElementById("edit-dia-vencimento").value,i=parseFloat(document.getElementById("edit-valor").value),s=(0,r.H9)(r.kA,"contasFixas",n),d={descricao:o,diaVencimento:a,valor:i},e.next=9,(0,r.mZ)(s,d);case 9:u.reset(),c.classList.add("hidden"),b();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.addEventListener("click",(function(){m.classList.remove("hidden");var e=v.querySelectorAll("input");e.length>0&&e[0].focus()})),h.addEventListener("click",(function(){m.classList.add("hidden")})),(0,o.bi)(g,v,t,m),e.addEventListener("submit",function(){var t=p(l().mark((function t(n){var o,i,c,s,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(o=e.querySelector('#content-dashboard button[type="submit"]')).disabled=!0,i=document.getElementById("descricao").value,c=document.getElementById("dia-vencimento").value,s=parseFloat(document.getElementById("valor").value),t.prev=6,d={descricao:i,diaVencimento:c,valor:s},t.next=10,(0,r.gS)(a,d);case 10:b(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log("Erro ao cadastrar conta fixa: "+t.t0.message);case 16:return t.prev=16,o.disabled=!1,e.reset(),t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[6,13,16,20]])})));return function(e){return t.apply(this,arguments)}}()),b(),(0,o.E4)(t,v,[2])}},1873:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>m});var r=n(1676),o=n(6115);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,d,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(){document.getElementById("content-dashboard").innerHTML='\n      <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Conta parcelada</h1>\n\n        <form id="form-conta-parcelada" class="space-y-4">\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="text" \n              id="descricao" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Descrição *" \n              required\n            />\n            <input \n              type="date" \n              id="data-inicio" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n              required \n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="number" \n              step="0.01" \n              id="valor" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Valor (R$) *" \n              required\n            />\n            <input \n              type="number" \n              id="parcelas" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Parcelas *" \n              required\n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="text" \n              id="fornecedor" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Fornecedor *"\n              required \n            />\n            <input\n              type="text"\n              id="metodo-pagamento" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Método de pagamento *" \n              required\n            />\n          </div>\n          <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n            Salvar Registro\n          </button>\n        </form>\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Filtrar Conta parcelada\n        </button>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Filtrar Conta Parcelada</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs"></div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div id="contas-parceladas-list" class="mt-4">\n            <div class="max-h-[25rem] overflow-y-auto rounded-lg">\n                <table id="contas-parceladas-table" class="w-full border-collapse">\n                    <thead class="sticky bg-primary text-white z-5" style="top: -1px;">\n                        <tr>\n                            <th class="border p-2">Descrição</th>\n                            <th class="border p-2">Data Inicio</th>\n                            <th class="border p-2">Valor</th>\n                            <th class="border p-2">Parcelas</th>\n                            <th class="border p-2">Fornecedor</th>\n                            <th class="border p-2">Método de Pagamento</th>\n                            <th class="border p-2">Ações</th>\n                        </tr>\n                    </thead>\n                    <tbody id="contas-parceladas-table-body">\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                    </tbody>\n                    <tfoot class="sticky bg-primary text-white z-5" style="bottom: -1px;">\n                        <tr>\n                            <td class="border p-2" colspan="2">Total</td>\n                            <td class="border p-2" id="total-valor">0</td>\n                            <td class="border p-2" colspan="4"></td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-96">\n                <h2 class="text-xl font-bold mb-4">Editar Conta Parcelada</h2>\n                <form id="edit-form" class="space-y-4">\n                    <input \n                      type="text" \n                      id="edit-descricao" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Descrição *" \n                      required\n                    />\n                    <input \n                      type="date" \n                      id="edit-data-inicio" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n                      required \n                    />\n                    <input \n                      type="number" \n                      step="0.01" \n                      id="edit-valor" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Valor (R$) *" \n                      required\n                    />\n                    <input \n                      type="number" \n                      id="edit-parcelas" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Parcelas *" \n                      required\n                    />\n                    <input \n                      type="text" \n                      id="edit-fornecedor" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Fornecedor *"\n                      required \n                    />\n                    <input\n                      type="text"\n                      id="edit-metodo-pagamento" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Método de pagamento *" \n                      required\n                    />\n\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    ';var e=document.getElementById("form-conta-parcelada"),t=document.getElementById("contas-parceladas-table"),n=document.getElementById("contas-parceladas-table-body"),a=(0,r.rJ)(r.kA,"contasParceladas"),c=document.getElementById("edit-modal"),d=document.getElementById("close-edit-modal"),u=document.getElementById("edit-form"),m=document.getElementById("filter-modal"),f=document.getElementById("open-filter-modal"),h=document.getElementById("close-filter-modal"),g=document.getElementById("filter-form"),v=document.getElementById("filter-inputs");function y(){var e=n.querySelectorAll("tr"),t=0;e.forEach((function(e){var n=parseFloat(e.querySelector("td:nth-child(3)").innerText.replace("R$ ","").replace(",","."))||0;t+=n})),document.getElementById("total-valor").innerText="R$ ".concat(t.toFixed(2).replace(".",","))}function b(){return x.apply(this,arguments)}function x(){return x=p(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.GG)(a);case 2:t=e.sent,n.innerHTML="",t.docs.map((function(e){return s({id:e.id},e.data())})).forEach((function(e){var t,r=document.createElement("tr");r.innerHTML='\n                <td class="border p-2">'.concat(e.descricao,'</td>\n                <td class="border p-2">').concat(void 0!==e.dataInicio?e.dataInicio.toDate().toLocaleString("pt-BR").split(", ")[0]:"",'</td>\n                <td class="border p-2">R$ ').concat(e.valor.toFixed(2).replace(".",","),'</td>\n                <td class="border p-2">').concat(e.parcelas,'</td>\n                <td class="border p-2">').concat(e.fornecedor,'</td>\n                <td class="border p-2">').concat(e.metodoPagamento,'</td>\n                <td class="border p-2 text-center">\n                    <button \n                        class="btn-editar-conta-parcelada bg-yellow-500 text-white py-1 px-2 rounded" \n                        data-id="').concat(e.id,'"\n                        data-descricao="').concat(e.descricao,'"\n                        data-data-inicio="').concat(void 0!==e.dataInicio?e.dataInicio.toDate().toLocaleString("pt-BR").split(", ")[0].split("/").reverse().join("-"):"",'"\n                        data-valor="').concat(e.valor,'"\n                        data-parcelas="').concat(e.parcelas,'"\n                        data-fornecedor="').concat(e.fornecedor,'"\n                        data-metodo-pagamento="').concat(e.metodoPagamento,'">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button data-id="').concat(e.id,'" class="btn-remover-conta-parcelada bg-red-500 text-white py-1 px-2 rounded">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            '),n.appendChild(r),(t=n.querySelectorAll("#content-dashboard button[data-id].btn-editar-conta-parcelada"),function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.addEventListener("click",(function(){var t;t=e.dataset,document.getElementById("edit-descricao").value=t.descricao,document.getElementById("edit-data-inicio").value=t.dataInicio,document.getElementById("edit-valor").value=t.valor,document.getElementById("edit-parcelas").value=t.parcelas,document.getElementById("edit-fornecedor").value=t.fornecedor,document.getElementById("edit-metodo-pagamento").value=t.metodoPagamento,c.classList.remove("hidden"),c.setAttribute("data-id",t.id)}))}))})),y(),n.querySelectorAll("#content-dashboard button[data-id].btn-remover-conta-parcelada").forEach((function(e){e.addEventListener("click",function(){var e=p(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.closest("button[data-id].btn-remover-conta-parcelada").getAttribute("data-id"),e.next=3,(0,r.kd)((0,r.H9)(r.kA,"contasParceladas",n));case 3:b();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}d.addEventListener("click",(function(){c.classList.add("hidden")})),u.addEventListener("submit",function(){var e=p(l().mark((function e(t){var n,o,a,i,s,d,p,m,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("edit-modal").dataset.id,o=document.getElementById("descricao").value,a=new Date("".concat(document.getElementById("data-inicio").value,"T12:00:00")),i=parseFloat(document.getElementById("valor").value),s=document.getElementById("parcelas").value,d=document.getElementById("fornecedor").value,p=document.getElementById("metodo-pagamento").value,m=(0,r.H9)(r.kA,"contasParcelas",n),f={descricao:o,dataInicio:a,valor:i,parcelas:s,fornecedor:d,metodoPagamento:p},e.next=12,(0,r.mZ)(m,f);case 12:u.reset(),c.classList.add("hidden"),b();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.addEventListener("click",(function(){m.classList.remove("hidden");var e=v.querySelectorAll("input");e.length>0&&e[0].focus()})),h.addEventListener("click",(function(){m.classList.add("hidden")})),(0,o.bi)(g,v,t,m),e.addEventListener("submit",function(){var t=p(l().mark((function t(n){var o,i,c,s,d,u,p,m;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(o=e.querySelector('#content-dashboard button[type="submit"]')).disabled=!0,i=document.getElementById("descricao").value,c=new Date("".concat(document.getElementById("data-inicio").value,"T12:00:00")),s=parseFloat(document.getElementById("valor").value),d=document.getElementById("parcelas").value,u=document.getElementById("fornecedor").value,p=document.getElementById("metodo-pagamento").value,t.prev=9,m={descricao:i,dataInicio:c,valor:s,parcelas:d,fornecedor:u,metodoPagamento:p},t.next=13,(0,r.gS)(a,m);case 13:b(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),console.log("Erro ao cadastrar conta parcelada: "+t.t0.message);case 19:return t.prev=19,o.disabled=!1,e.reset(),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[9,16,19,23]])})));return function(e){return t.apply(this,arguments)}}()),b(),(0,o.E4)(t,v,[2]),(0,o.U4)(document.getElementById("data-inicio"))}},2183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>s});var r=n(1676);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}function s(){return d.apply(this,arguments)}function d(){return d=c(a().mark((function e(){var t,n,o,i,s,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=function(){document.getElementById("content-dashboard").querySelector("#crediario-lista").innerHTML="\n            ".concat(Array.from({length:8}).map((function(){return'\n                <div class="bg-white p-4 rounded-lg shadow animate-pulse">\n                    <div class="h-5 bg-gray-200 rounded w-1/2"></div>\n                </div>\n            '})).join(""),"\n        ")},s=function(){return(s=c(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.rJ)(r.kA,"vendas"),e.next=3,(0,r.GG)(t);case 3:return n=e.sent,o={},n.forEach((function(e){var t,n=e.data(),r=null===(t=n.metodoPagamento)||void 0===t?void 0:t.opcaoEscolhida;if(null!=r&&r.crediario){var a=r.crediario.cliente,i=n.totalLiquido||0,c=i;o[a]||(o[a]={nome:a,total:0,pago:0,restante:0,vendas:[]}),o[a].total+=i,o[a].pago+=0,o[a].restante+=c,o[a].vendas.push({id:e.id,criadoEm:n.criadoEm||"Sem data",total:i,pago:0,restante:c,pagamentos:n.pagamentos||[]})}})),e.abrupt("return",Object.values(o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return s.apply(this,arguments)},o=function(){return(o=c(a().mark((function e(){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("content-dashboard"),r=n.querySelector("#crediario-lista"),e.next=4,i();case 4:o=e.sent,r.innerHTML="\n            ".concat(o.map((function(e,t){return'\n                <div class="bg-white p-4 rounded-lg shadow">\n                    <button class="toggle-accordion w-full text-left text-lg flex justify-between items-center" data-accordion="cliente'.concat(t,'">\n                        <span>').concat(e.nome,'</span>\n                        <i class="fas fa-chevron-down arrow transition-transform"></i>\n                    </button>\n                    <div id="cliente').concat(t,'" class="hidden mt-2 space-y-2">\n                        <p class="text-gray-700 flex items-center gap-3">\n                            <i class="fas fa-coins text-yellow-500"></i> R$ ').concat(e.total.toFixed(2).replace(".",","),'\n                            <i class="fas fa-check-circle text-green-500"></i> R$ ').concat(e.pago.toFixed(2).replace(".",","),'\n                            <i class="fas fa-exclamation-triangle text-red-500"></i> R$ ').concat(e.restante.toFixed(2).replace(".",","),"\n                        </p>\n                        ").concat(e.vendas.map((function(e,n){return'\n                            <div class="border-l-4 border-primary pl-4">\n                                <button class="toggle-accordion w-full text-left flex justify-between items-center" data-accordion="venda'.concat(t).concat(n,'">\n                                    <span>Venda #').concat(n+1," - ").concat(e.criadoEm.toDate().toLocaleDateString("pt-BR"),'</span>\n                                    <i class="fas fa-chevron-down arrow transition-transform"></i>\n                                </button>\n                                <div id="venda').concat(t).concat(n,'" class="hidden mt-2">\n                                    <p class="text-gray-700 flex items-center gap-3">\n                                        <i class="fas fa-coins text-yellow-500"></i> R$ ').concat(e.total.toFixed(2).replace(".",","),'\n                                        <i class="fas fa-check-circle text-green-500"></i> R$ ').concat(e.pago.toFixed(2).replace(".",","),'\n                                        <i class="fas fa-exclamation-triangle text-red-500"></i> R$ ').concat(e.restante.toFixed(2).replace(".",","),'\n                                    </p>\n                                    <ul class="text-sm text-gray-600">\n                                        ').concat(e.pagamentos.map((function(t){return'\n                                            <li class="flex items-center gap-2">\n                                                <i class="fas fa-calendar-alt text-gray-500"></i> '.concat(e.criadoEm.toDate().toLocaleDateString("pt-BR")," - R$ ").concat(t.toFixed(2).replace(".",","),"\n                                            </li>\n                                        ")})).join(""),'\n                                    </ul>\n                                    <button class="bg-primary px-4 py-2 text-sm rounded mt-2">\n                                        <i class="fas fa-money-bill-wave"></i> Adicionar Pagamento\n                                    </button>\n                                </div>\n                            </div>\n                        ')})).join(""),"\n                    </div>\n                </div>\n            ")})).join(""),"\n        "),document.querySelectorAll(".toggle-accordion").forEach((function(e){e.addEventListener("click",(function(){t(this.dataset.accordion,this)}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return o.apply(this,arguments)},t=function(e,t){var n=document.getElementById(e);n.classList.toggle("hidden");var r=t.querySelector(".arrow");n.classList.contains("hidden")?(r.classList.remove("fa-chevron-up"),r.classList.add("fa-chevron-down")):(r.classList.remove("fa-chevron-down"),r.classList.add("fa-chevron-up"))},document.getElementById("content-dashboard").innerHTML='\n        <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n          <h1 class="text-2xl text-gray-800 mb-4">Crediário</h1>\n      \n          <div class="p-4 max-w-3xl mx-auto">\n              <label class="flex items-center space-x-2 mb-4">\n                  <input type="checkbox" class="form-checkbox text-primary" id="filtroPendentes">\n                  <span>Mostrar apenas clientes com débitos pendentes</span>\n              </label>\n            \n              <div id="crediario-lista" class="space-y-4">\n              </div>\n          </div>\n        </div>\n    ',d(),n(),document.querySelectorAll(".toggle-accordion").forEach((function(e){e.addEventListener("click",(function(){t(this.dataset.accordion,this)}))}));case 11:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}n(6115),n(4541)},5345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>V});var r=n(1676),o=n(4541);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",d=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,c,"next",e)}function c(e){p(a,r,o,i,c,"throw",e)}i(void 0)}))}}function f(){return h.apply(this,arguments)}function h(){return(h=m(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.rJ)(r.kA,"usuarios"),e.next=3,(0,r.GG)(t);case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return l({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=m(s().mark((function e(t){var n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.rJ)(r.kA,"chats"),o=(0,r.P)(n,(0,r._M)("participantes","array-contains",t)),e.next=4,(0,r.GG)(o);case 4:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return l({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=m(s().mark((function e(t){var n,r,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return n=e.sent,e.next=5,g(t);case 5:return r=e.sent,o=new Set,r.forEach((function(e){e.participantes.forEach((function(e){return o.add(e)}))})),n.map((function(e){})),a=n.filter((function(e){return!o.has(e.id)&&e.id!==t&&"ativo"===e.situacao})),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){var n=(0,r.rJ)(r.kA,"chats/".concat(e,"/mensagens"));return(0,r.aQ)(n,(function(e){var n=e.docs.map((function(e){return l({id:e.id},e.data())}));n.sort((function(e,t){return(e.timestamp?e.timestamp.toMillis():0)-(t.timestamp?t.timestamp.toMillis():0)})),t(n)}))}function w(e,t){return E.apply(this,arguments)}function E(){return(E=m(s().mark((function e(t,n){var o,a,i,c,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,r.rJ)(r.kA,"chats"),a=(0,r.P)(o,(0,r._M)("participantes","array-contains",t)),e.next=4,(0,r.GG)(a);case 4:if(i=e.sent,c=null,i.forEach((function(e){var r=e.data();2===r.participantes.length&&r.participantes.includes(t)&&r.participantes.includes(n)&&(c=l({id:e.id},r))})),!c){e.next=9;break}return e.abrupt("return",c);case 9:return d={participantes:[t,n],criadoEm:new Date},e.next=12,(0,r.gS)(o,d);case 12:return u=e.sent,e.abrupt("return",l({id:u.id},d));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,n){return k.apply(this,arguments)}function k(){return k=m(s().mark((function e(t,n,o){var a,i,c,d,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:null,i=(0,r.rJ)(r.kA,"chats/".concat(t,"/mensagens")),c={remetenteId:n,texto:o,timestamp:(0,r.O5)(),lidaPor:[n]},a&&(c.imagemBase64=a),e.next=6,(0,r.gS)(i,c);case 6:return d=(0,r.H9)(r.kA,"chats",t),e.next=9,(0,r.mZ)(d,{ultimaMensagem:o||"[imagem]",ultimaMensagemTimestamp:(0,r.O5)()});case 9:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function I(){return(I=m(s().mark((function e(t,n){var o,a,c,d,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,r.rJ)(r.kA,"chats/".concat(t,"/mensagens")),e.next=3,(0,r.GG)(o);case 3:a=e.sent,c=i(a.docs),e.prev=5,c.s();case 7:if((d=c.n()).done){e.next=15;break}if(l=d.value,(u=l.data()).remetenteId===n||u.lidaPor&&u.lidaPor.includes(n)){e.next=13;break}return e.next=13,(0,r.mZ)(l.ref,{lidaPor:(0,r.hq)(n)});case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))).apply(this,arguments)}function B(e,t,n){return S.apply(this,arguments)}function S(){return(S=m(s().mark((function e(t,n,o){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,r.H9)(r.kA,"chats",t),e.next=3,(0,r.mZ)(a,u({},"digitando.".concat(n),o));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const j=n.p+"assets/logo-transparente2.png",C=n.p+"assets/isotipo-transparente.png";n(2758);var P=n(6115);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(){N=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(r||[]);return o(i,"_invoke",{value:B(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function v(){}function y(){}function b(){}var x={};d(x,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(O([])));E&&E!==n&&r.call(E,i)&&(x=E);var L=b.prototype=v.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var d=s.arg,l=d.value;return l&&"object"==A(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){d.value=e,i(d)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function B(t,n,r){var o=p;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=S(c,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var d=u(t,n,r);if("normal"===d.type){if(o=r.done?h:m,d.arg===g)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=h,r.method="throw",r.arg=d.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=u(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(A(t)+" is not iterable")}return y.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=d(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},k(I.prototype),d(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new I(l(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(L),d(L,s,"Generator"),d(L,i,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return(t=function(e){var t=function(e){if("object"!=A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){q(a,r,o,i,c,"next",e)}function c(e){q(a,r,o,i,c,"throw",e)}i(void 0)}))}}var R="",_="",G=[{href:"#/app",label:"Início",icon:"fa-home",permission:["admin","funcionario"]},{href:"#/app/estoque",label:"Estoque",icon:"fa-boxes",permission:["admin","funcionario"]},{href:"#/app/caixa",label:"Caixa",icon:"fa-cash-register",permission:["admin","funcionario"]},{href:"#/app/historico",label:"Histórico de Vendas",icon:"fa-history",permission:["admin"]},{href:"#/app/gasto",label:"Gasto",icon:"fa-money-bill-wave",permission:["admin"]},{href:"#/app/conta-parcelada",label:"Conta Parcelada",icon:"fa-credit-card",permission:["admin"]},{href:"#/app/conta-fixa",label:"Conta Fixa",icon:"fa-file-invoice-dollar",permission:["admin"]},{href:"#/app/dinheiro-caixa",label:"Dinheiro Caixa",icon:"fa-wallet",permission:["admin"]},{href:"#/app/cliente",label:"Cliente",icon:"fa-users",permission:["admin"]},{href:"#/app/crediario",label:"Crediário",icon:"fa-handshake",permission:["admin"]},{href:"#/app/fechamento-caixa",label:"Fechamento Caixa",icon:"fa-calculator",permission:["admin","funcionario"]},{href:"#/app/usuario",label:"Usuário",icon:"fa-user-cog",permission:["admin"]},{href:"#/app/fornecedores",label:"Fornecedores",icon:"fa-truck",permission:["admin"]},{href:"#/app/pedidos",label:"Pedidos",icon:"fa-shopping-cart",permission:["admin"]},{href:"#/app/atualizacao-lote",label:"Atualização de Lote",icon:"fa-upload",permission:["admin"]},{href:"#/app/orcamentos",label:"Orçamentos",icon:"fa-file-invoice-dollar",permission:["admin","funcionario"]}];function H(e){return G.map((function(t){return t.permission.includes(e.tipo)?'\n        <li>\n          <a href="'.concat(t.href,'" class="flex items-center px-4 py-2 text-lg hover:text-[#F5CA56] hover:bg-[#264a4c] rounded transition-colors duration-200">\n            <i class="fas ').concat(t.icon,' menu-icon mr-3 w-5 text-center"></i>\n            <span class="menu-label">').concat(t.label,"</span>\n          </a>\n        </li>"):""})).join("")}function $(e){var t={"#/app/caixa":"fa-cash-register","#/app/historico":"fa-history","#/app/dinheiro-caixa":"fa-wallet"},n=G.filter((function(e){return["#/app/caixa","#/app/historico","#/app/dinheiro-caixa"].includes(e.href)})).filter((function(t){return t.permission.includes(e.tipo)})).map((function(e){return'\n      <a href="'.concat(e.href,'" class="flex flex-col items-center bg-[#386c6f] shadow-md rounded-lg px-6 py-5 md:p-10 text-center text-lg font-semibold text-white hover:bg-[#264a4c] transition-transform transform hover:scale-105">\n        <i class="fas ').concat(t[e.href],' text-3xl mb-2"></i>\n        <span>').concat(e.label,"</span>\n      </a>\n    ")})).join("");return n?'<div class="mb-6">\n        <h2 class="text-xl font-bold mb-4 text-gray-700">Acesso Direto</h2>\n        <div class="grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 lg:px-12">\n          '.concat(n,"\n        </div>\n      </div>\n      "):""}function V(){return U.apply(this,arguments)}function U(){return(U=z(N().mark((function e(){var t,n,r,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.k)();case 3:if(t=e.sent,n=O(t,2),r=n[0],a=n[1],!r){e.next=10;break}return window.location.hash=r,e.abrupt("return");case 10:a.tipo,a.tipo,a.id,R=H(a),_=$(a),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 21:document.getElementById("content-router").innerHTML='\n    <div id="chat-icon" class="fixed z-30 top-2 md:top-auto md:bottom-6 md:right-6 md:left-auto md:z-10 bg-[#386c6f] text-white p-3 md:p-4 rounded-full shadow-lg cursor-pointer hover:bg-[#264a4c] transition-all duration-500 ease-out transform">\n        <i class="fas fa-comment-dots text-xl md:text-2xl"></i>\n    </div>\n\n    <div id="chat-popup" class="fixed z-10 md:top-6 md:bottom-6 md:right-6 w-screen md:w-80 bg-white shadow-lg rounded-lg p-4 pt-[5.5rem] md:pt-4 md:pb-4 md:h-auto md:max-h-[calc(100vh-3rem)] hidden transform scale-0 origin-bottom-right transition-all duration-500 ease-out flex flex-col">\n        <div class="flex justify-between items-center border-b pb-2 mb-2">\n            <h3 id="chat-header" class="text-lg font-semibold text-gray-700">Conversas</h3>\n            <button id="new-chat-btn" class="bg-primary text-white px-2 py-1 rounded text-sm mr-2">Nova conversa</button>\n            <button id="close-chat" class="text-gray-500 hover:text-gray-700">&times;</button>\n        </div>\n        <div id="chat-list" class="h-58 overflow-y-auto p-2 space-y-2"></div>\n        <div id="chat-messages" class="flex-1 overflow-y-auto p-2 border rounded space-y-2 flex flex-col h-[calc(100vh-12rem)] md:h-[calc(100vh-16rem)]"></div>\n        \n        \x3c!-- Área de input inicial (lista de conversas) --\x3e\n        <div id="chat-input-area" class="pt-2 flex items-center gap-2">\n          <input type="text" id="chat-input" class="w-full p-2 border rounded" placeholder="Digite sua mensagem..." autocomplete="off">\n        </div>\n\n        \x3c!-- Área de input do chat aberto --\x3e\n        <div id="chat-open-input-area" class="pt-2 flex items-center gap-2 hidden">\n          <button id="chat-upload-btn" type="button" class="p-2 text-[#386c6f] hover:text-[#264a4c]">\n            <i class="fas fa-paperclip"></i>\n          </button>\n          <input type="text" id="chat-open-input" class="w-full p-2 border rounded" placeholder="Digite sua mensagem..." autocomplete="off">\n          <input type="file" id="chat-upload-input" accept="image/*" class="hidden">\n          <button id="chat-send-btn" type="button" class="p-2 ml-2 bg-[#386c6f] text-white rounded-full hover:bg-[#264a4c] transition-colors duration-300">\n            <i class="fas fa-paper-plane"></i>\n          </button>\n        </div>\n    </div>\n\n    \x3c!-- Modal Nova Conversa --\x3e\n    <div id="new-chat-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">\n        <div class="bg-white rounded-lg shadow-lg p-6 w-96 max-w-full">\n            <div class="flex justify-between items-center mb-4">\n                <h2 class="text-xl font-bold">Nova conversa</h2>\n                <button id="close-new-chat-modal" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>\n            </div>\n            <div id="new-chat-users-list" class="space-y-2 max-h-80 overflow-y-auto"></div>\n        </div>\n    </div>\n\n    <div id="dashboard-container" class="flex flex-col md:flex-row">\n      <div id="menu-sidebar" class="w-full md:w-64 text-white h-full md:h-screen py-6 fixed md:relative transition-all duration-300 transform -translate-x-full md:translate-x-0 z-30 md:z-0">\n        <div class="flex justify-between items-center mb-6 px-2">\n          <img id="logo-sidebar" src="'.concat(j,'" alt="Logo da empresa" class="h-32 mb-2 transition-all duration-300">\n          <button id="close-menu" class="text-white text-3xl md:hidden">\n            &times;\n          </button>\n          <button id="toggle-sidebar" class="hidden md:block text-white text-2xl hover:text-[#F5CA56] transition-colors">\n            <i class="fas fa-angles-left"></i>\n          </button>\n        </div>\n        <ul id="menu-options" class="space-y-2 overflow-y-auto px-2" style="min-height: 90px; max-height: calc(100vh - 390px);">\n          ').concat(R,'\n        </ul>\n\n        <div id="user-area" class="absolute bottom-0 left-0 w-full bg-secondary text-white p-4 flex flex-col items-center transition-all duration-300">\n          <div class="flex flex-col items-center mb-2">\n            <div class="cursor-pointer" id="user-photo-container">\n              <img id="user-photo" src="" alt="Foto do Usuário" class="w-16 h-16 rounded-full mb-2 hover:opacity-90 transition-opacity" referrerpolicy="no-referrer">\n            </div>\n            <p id="user-name" class="text-lg font-medium text-center transition-all duration-300">Usuário Logado</p>\n          </div>\n          <a id="logout-btn" href="#/logout" class="block px-4 py-2 bg-red-600 text-white text-center rounded hover:bg-red-500 transition-all duration-300">Sair</a>\n        </div>\n      </div>\n\n      <div id="main-content" class="flex-1 h-screen overflow-y-auto pt-16 md:pt-0" style="height: 100dvh;">\n        <div id="content-hamburguer-menu" class="fixed top-0 left-0 right-0 z-20 flex items-center justify-between md:hidden p-4">\n          <button id="hamburger-menu" class="text-white text-3xl">\n            &#9776;\n          </button>\n          <img src="').concat(j,'" alt="Logo da empresa" class="h-12" style="margin-top: -1rem;">\n        </div>\n\n        <div id="content-dashboard" class="pl-0 md:pl-5 h-full overflow-y-auto">\n          <div class="pt-5 pb-5 pl-5 md:pl-0 pr-5 rounded">\n            <h2 class="text-2xl font-bold mb-4">Inicio</h2>\n\n            ').concat(_,'\n            \n            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">\n              <div class="bg-white shadow-md rounded-lg p-4 mb-2 lg:mb-0">\n                <div class="flex justify-between items-center mb-4">\n                  <h2 class="text-xl font-bold text-gray-800">Janeiro 2025</h2>\n                  <div class="flex space-x-2">\n                    <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-2 py-1 rounded">◀</button>\n                    <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-2 py-1 rounded">▶</button>\n                  </div>\n                </div>\n                <div class="mb-2 text-xs text-gray-500 text-center">Datas coloridas indicam eventos importantes para estoque</div>\n                <table class="w-full border-collapse">\n                  <thead>\n                    <tr>\n                      <th class="text-center text-gray-600 font-semibold py-2">Dom</th>\n                      <th class="text-center text-gray-600 font-semibold py-2">Seg</th>\n                      <th class="text-center text-gray-600 font-semibold py-2">Ter</th>\n                      <th class="text-center text-gray-600 font-semibold py-2">Qua</th>\n                      <th class="text-center text-gray-600 font-semibold py-2">Qui</th>\n                      <th class="text-center text-gray-600 font-semibold py-2">Sex</th>\n                      <th class="text-center text-gray-600 font-semibold py-2">Sáb</th>\n                    </tr>\n                  </thead>\n                  <tbody id="calendar-body">\n                  </tbody>\n                </table>\n              </div>\n\n              <div id="upcoming-dates-card" class="h-full">\n                \x3c!-- O conteúdo será gerado dinamicamente --\x3e\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Modal de Configurações --\x3e\n    <div id="config-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden p-4 overflow-y-auto">\n      <div class="bg-white rounded-lg p-6 w-[500px] max-w-full mx-auto my-auto relative transform transition-all duration-300 scale-95 opacity-0">\n        <button id="close-config-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl">&times;</button>\n        \n        <div class="text-center mb-6">\n          <h2 class="text-2xl font-bold text-gray-800 mb-2">Configurações da Conta</h2>\n          <p class="text-gray-600">Gerencie suas informações pessoais e preferências</p>\n        </div>\n\n        <div class="space-y-6">\n          \x3c!-- Área da foto --\x3e\n          <div class="flex flex-col items-center pb-6 border-b border-gray-200">\n            <div class="relative group mb-4">\n              <img id="config-user-photo" src="" alt="Foto do Usuário" class="w-28 h-28 rounded-full shadow-lg border-4 border-white" referrerpolicy="no-referrer">\n              <div class="absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer">\n                <i class="fas fa-camera text-white text-2xl"></i>\n              </div>\n              <input type="file" id="photo-input" class="hidden" accept="image/*">\n            </div>\n            <h3 id="config-user-name" class="text-xl font-semibold text-gray-800 mb-1">Nome do Usuário</h3>\n            <span id="config-user-type" class="text-sm text-gray-500">Tipo de Usuário</span>\n          </div>\n\n          \x3c!-- Formulário de Alteração de Dados --\x3e\n          <form id="profile-form" class="space-y-4 mb-6 border-b border-gray-200 pb-6">\n            ').concat((0,P.LH)("text","display-name","Nome completo",!0),'\n\n            <div class="flex justify-end pt-4">\n              <button type="submit" class="bg-[#386c6f] text-white px-6 py-2 rounded-md hover:bg-[#264a4c] transition-colors duration-300 flex items-center">\n                <i class="fas fa-save mr-2"></i>\n                Atualizar Perfil\n              </button>\n            </div>\n          </form>\n\n          \x3c!-- Formulário de Preferências --\x3e\n          <form id="preferences-form" class="space-y-4 mb-6 border-b border-gray-200 pb-6">\n            <h3 class="text-lg font-semibold text-gray-800 mb-4">Preferências</h3>\n            \n            <div class="relative">\n              <label for="layout-caixa" class="block text-sm font-medium text-gray-700 mb-2">\n                Layout do Caixa\n              </label>\n              <select id="layout-caixa" class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary">\n                <option value="vertical">Vertical (Pesquisa acima, Itens abaixo)</option>\n                <option value="horizontal">Horizontal (Pesquisa ao lado, Itens ao lado)</option>\n              </select>\n              <p class="text-xs text-gray-500 mt-1">Escolha como deseja visualizar a tela do caixa</p>\n            </div>\n\n            <div class="flex justify-end pt-4">\n              <button type="submit" class="bg-[#386c6f] text-white px-6 py-2 rounded-md hover:bg-[#264a4c] transition-colors duration-300 flex items-center">\n                <i class="fas fa-save mr-2"></i>\n                Salvar Preferências\n              </button>\n            </div>\n          </form>\n\n          \x3c!-- Formulário de Alteração de Senha --\x3e\n          <form id="password-form" class="space-y-4">\n            <div class="grid grid-cols-1 gap-4">\n              ').concat((0,P.LH)("password","current-password","Senha Atual",!0),"\n              ").concat((0,P.LH)("password","new-password","Nova Senha",!0),"\n              ").concat((0,P.LH)("password","confirm-password","Confirmar Nova Senha",!0),'\n            </div>\n\n            <div class="flex justify-end pt-4">\n              <button type="submit" class="bg-[#386c6f] text-white px-6 py-2 rounded-md hover:bg-[#264a4c] transition-colors duration-300 flex items-center">\n                <i class="fas fa-key mr-2"></i>\n                Alterar Senha\n              </button>\n            </div>\n          </form>\n\n\n        </div>\n      </div>\n    </div>\n  '),setTimeout((function(){var e;J(),(e=document.getElementById("upcoming-dates-card"))&&(e.innerHTML=function(){for(var e=new Date,t=e.getDate(),n=e.getMonth(),r=e.getFullYear(),o=[],a=Z[(n+1)%12],i=Z[(n+3)%12],c=function(e){var a=(n+e)%12,i=r+Math.floor((n+e)/12);Y.filter((function(e){return e.month===a})).forEach((function(n){0===e&&n.day<t||o.push(T(T({},n),{},{year:i,fullDate:new Date(i,a,n.day)}))}))},s=1;s<=3;s++)c(s);o.sort((function(e,t){return e.fullDate-t.fullDate}));var d="";return d=0===o.length?'<p class="text-gray-500 text-center py-4">Nenhuma data comemorativa nos próximos 3 meses.</p>':'\n      <ul class="divide-y divide-gray-200">\n        '.concat(o.map((function(t){return'\n          <li class="py-3 flex items-center">\n            <div class="w-3 h-3 rounded-full '.concat(t.color,' mr-3"></div>\n            <div class="flex-1">\n              <p class="font-medium">').concat(t.name,'</p>\n              <p class="text-sm text-gray-500">').concat(t.day," de ").concat(Z[t.month],'</p>\n            </div>\n            <div class="text-xs px-2 py-1 rounded-full bg-gray-100">\n              ').concat((o=(n=Math.floor((t.fullDate-e)/864e5))%30,(r=Math.floor(n/30))>0?"".concat(r," ").concat(1===r?"mês":"meses").concat(o>0?" e ".concat(o," ").concat(1===o?"dia":"dias"):""):"".concat(n," ").concat(1===n?"dia":"dias")),"\n            </div>\n          </li>\n        ");var n,r,o})).join(""),"\n      </ul>\n    "),'\n    <div class="bg-white shadow-md rounded-lg p-4 h-full">\n      <div class="flex items-center justify-between mb-4">\n        <h3 class="text-lg font-semibold text-gray-800">Planejamento de Estoque</h3>\n        <span class="text-xs bg-[#386c6f] text-white px-2 py-1 rounded-full">'.concat(a," a ").concat(i,'</span>\n      </div>\n      <p class="text-sm text-gray-600 mb-4">\n        Datas comemorativas para planejar seu estoque com antecedência.\n      </p>\n      <div class="overflow-y-auto" style="max-height: 300px;">\n        ').concat(d,"\n      </div>\n    </div>\n  ")}()),W(),K();var t=document.getElementById("chat-icon");t&&window.innerWidth<768&&(t.style.left="5.5rem"),window.addEventListener("resize",(function(){var e=document.getElementById("chat-icon");e&&(window.innerWidth<768?e.style.left="5.5rem":e.style.left="")}))}),100);case 24:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}var Y=[{day:1,month:0,name:"Ano Novo",color:"bg-blue-200"},{day:14,month:1,name:"Dia dos Namorados (EUA)/Valentine's Day",color:"bg-pink-200"},{day:8,month:2,name:"Dia Internacional da Mulher",color:"bg-purple-200"},{day:2,month:3,name:"Dia Mundial do Livro Infantil",color:"bg-yellow-200"},{day:18,month:3,name:"Dia Nacional do Livro Infantil",color:"bg-yellow-200"},{day:23,month:3,name:"Dia Mundial do Livro",color:"bg-yellow-200"},{day:1,month:4,name:"Dia do Trabalho",color:"bg-green-200"},{day:12,month:5,name:"Dia dos Namorados (Brasil)",color:"bg-pink-200"},{day:1,month:6,name:"Dia das Férias Escolares",color:"bg-orange-200"},{day:11,month:7,name:"Dia do Estudante",color:"bg-blue-200"},{day:12,month:7,name:"Dia dos Pais",color:"bg-blue-200"},{day:15,month:8,name:"Dia do Cliente",color:"bg-green-200"},{day:12,month:9,name:"Dia das Crianças",color:"bg-purple-200"},{day:15,month:9,name:"Dia do Professor",color:"bg-blue-200"},{day:23,month:10,name:"Black Friday",color:"bg-gray-200"},{day:25,month:11,name:"Natal",color:"bg-red-200"},{day:15,month:0,name:"Volta às Aulas (1º Semestre)",color:"bg-indigo-200"},{day:25,month:6,name:"Volta às Aulas (2º Semestre)",color:"bg-indigo-200"},{day:8,month:4,name:"Dia das Mães",color:"bg-pink-200"},{day:1,month:9,name:"Dia Nacional da Leitura",color:"bg-yellow-200"},{day:7,month:8,name:"Dia dos Avós",color:"bg-purple-200"},{day:7,month:8,name:"Independência do Brasil",color:"bg-green-200"},{day:20,month:10,name:"Dia do Poeta",color:"bg-blue-200"},{day:19,month:3,name:"Dia do Artesão",color:"bg-orange-200"},{day:18,month:4,name:"Dia Nacional do Livro",color:"bg-yellow-200"},{day:23,month:3,name:"Dia do Escritor",color:"bg-blue-200"},{day:5,month:10,name:"Dia Mundial dos Professores",color:"bg-blue-200"},{day:31,month:9,name:"Halloween",color:"bg-orange-200"},{day:2,month:10,name:"Finados",color:"bg-gray-200"},{day:15,month:10,name:"Proclamação da República",color:"bg-green-200"},{day:20,month:10,name:"Dia da Consciência Negra",color:"bg-purple-200"},{day:15,month:1,name:"Carnaval (aproximado)",color:"bg-yellow-200"},{day:9,month:3,name:"Páscoa (aproximado)",color:"bg-yellow-200"},{day:24,month:5,name:"Festa Junina (início)",color:"bg-orange-200"},{day:1,month:2,name:"Início do Ano Letivo",color:"bg-indigo-200"},{day:30,month:5,name:"Corpus Christi (aproximado)",color:"bg-blue-200"}],Z=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function J(){var e=document.getElementById("calendar-body");e.innerHTML="";var t=new Date,n=t.getMonth(),r=t.getFullYear(),o=window.currentCalendarView?window.currentCalendarView.year:r,a=window.currentCalendarView?window.currentCalendarView.month:n,i=new Date(o,a,1).getDay(),c=new Date(o,a+1,0).getDate(),s=document.querySelector(".text-xl.font-bold.text-gray-800");s&&(s.textContent="".concat(Z[a]," ").concat(o));for(var d=1,l=0;l<6;l++){for(var u=document.createElement("tr"),p=function(){var e=document.createElement("td");if(e.className="text-center py-2",0===l&&m<i)e.innerHTML="";else if(d>c)e.innerHTML="";else{var n=Y.find((function(e){return e.day===d&&e.month===a})),r=document.createElement("div");r.className="w-full h-full flex items-center justify-center";var s=document.createElement("span");if(s.innerText=d,d===t.getDate()&&a===t.getMonth()&&o===t.getFullYear())r.className+=" bg-[#386c6f] text-white rounded-full";else if(n){r.className+=" ".concat(n.color," rounded-full relative group cursor-pointer");var p=document.createElement("div");p.className="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-1 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",p.textContent=n.name;var f=document.createElement("div");f.className="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-red-500 rounded-full",r.appendChild(p),r.appendChild(f),r.addEventListener("click",(function(e){if(p.classList.contains("opacity-0")){document.querySelectorAll(".opacity-100:not(.group-hover\\:opacity-100)").forEach((function(e){e.classList.remove("opacity-100"),e.classList.add("opacity-0")})),p.classList.remove("opacity-0"),p.classList.add("opacity-100"),p.style.bottom="100%",p.style.left="50%",p.style.transform="translateX(-50%)",p.style.zIndex="50";var t=function(){p.classList.remove("opacity-100"),p.classList.add("opacity-0"),document.removeEventListener("click",t)};setTimeout((function(){document.addEventListener("click",t)}),100),e.stopPropagation()}}))}else r.className+=" text-gray-800";r.appendChild(s),e.appendChild(r),d++}u.appendChild(e)},m=0;m<7;m++)p();if(e.appendChild(u),d>c)break}var f=document.querySelector(".bg-gray-200.hover\\:bg-gray-300:first-child"),h=document.querySelector(".bg-gray-200.hover\\:bg-gray-300:last-child");if(f){var g=f.cloneNode(!0);f.parentNode.replaceChild(g,f),g.addEventListener("click",(function(){console.log("Previous month button clicked");var e=new Date(o,a);e.setMonth(e.getMonth()-1),Q(e.getFullYear(),e.getMonth())}))}if(h){var v=h.cloneNode(!0);h.parentNode.replaceChild(v,h),v.addEventListener("click",(function(){console.log("Next month button clicked");var e=new Date(o,a);e.setMonth(e.getMonth()+1),Q(e.getFullYear(),e.getMonth())}))}}function Q(e,t){window.currentCalendarView={year:e,month:t},J()}function W(){var e=(0,r.xI)(),t=document.getElementById("hamburger-menu"),n=document.getElementById("close-menu"),o=document.getElementById("menu-sidebar"),a=document.getElementById("toggle-sidebar"),i=document.getElementById("menu-options"),c=document.getElementById("chat-icon"),s=document.getElementById("chat-popup"),d=document.getElementById("chat-header"),l=(document.getElementById("user-list"),document.getElementById("chat-messages")),u=document.getElementById("chat-input"),p=document.getElementById("close-chat"),m=document.getElementById("user-photo-container"),f=document.getElementById("config-modal"),h=document.getElementById("close-config-modal"),g=document.getElementById("config-user-photo"),v=document.getElementById("photo-input"),y=document.getElementById("password-form"),b=document.getElementById("chat-upload-btn"),x=document.getElementById("chat-upload-input");if(t){console.log("Hamburger menu found");var w=t.cloneNode(!0);t.parentNode.replaceChild(w,t),w.addEventListener("click",(function(){o.classList.toggle("translate-x-0"),o.classList.toggle("-translate-x-full"),console.log("Hamburger menu clicked"),console.log(o.classList)}))}if(n){var E=n.cloneNode(!0);n.parentNode.replaceChild(E,n),E.addEventListener("click",ee)}if(a&&("true"===localStorage.getItem("sidebarMinimized")&&te(),a.addEventListener("click",(function(){o.classList.contains("md:w-20")?(function(){var e=document.getElementById("menu-sidebar"),t=document.getElementById("toggle-sidebar"),n=document.getElementById("logo-sidebar"),r=document.getElementById("user-name"),o=document.getElementById("logout-btn");if(e){e.classList.remove("md:w-20"),e.classList.add("md:w-64"),e.classList.remove("py-2"),e.classList.add("py-6");var a=e.querySelector(".flex.justify-between");a&&(a.classList.remove("px-1"),a.classList.add("px-2"));var i=document.getElementById("menu-options");i&&(i.style.maxHeight="calc(100vh - 390px)"),document.querySelectorAll(".menu-label").forEach((function(e){e.classList.remove("hidden")})),document.querySelectorAll(".menu-icon").forEach((function(e){e.classList.add("mr-3")})),document.querySelectorAll("#menu-options a").forEach((function(e){e.classList.remove("justify-center"),e.classList.remove("px-2"),e.classList.add("px-4")})),n&&(n.src=j,n.classList.remove("h-10","mx-auto"),n.classList.add("h-32")),r&&r.classList.remove("hidden"),o&&(o.innerHTML="Sair",o.classList.remove("p-3","rounded-full","w-12","h-12","flex","items-center","justify-center"),o.classList.add("px-4","py-2"));var c=document.getElementById("user-photo");c&&(c.classList.remove("w-12","h-12","mb-1"),c.classList.add("w-16","h-16","mb-2")),t&&(t.innerHTML='<i class="fas fa-angles-left"></i>',t.setAttribute("title","Minimizar menu"));var s=document.getElementById("menu-tooltip-single");s&&(s.style.display="none",s.classList.remove("opacity-100"),s.classList.add("opacity-0"))}}(),localStorage.setItem("sidebarMinimized","false")):(te(),localStorage.setItem("sidebarMinimized","true"))}))),i){var k=i.cloneNode(!0);i.parentNode.replaceChild(k,i),k.addEventListener("click",(function(e){e.target.closest("a")&&window.innerWidth<768&&ee()}),!0)}document.addEventListener("click",(function(e){e.target.closest("#menu-options a")&&window.innerWidth<768&&ee()}),!0),window.addEventListener("hashchange",(function(){window.innerWidth<768&&ee()}));var I=document.getElementById("content-dashboard");if(I){var B=I.innerHTML.length;new MutationObserver((function(){I.innerHTML.length<100&&B>100&&window.innerWidth<768&&ee(),B=I.innerHTML.length})).observe(I,{childList:!0,subtree:!1})}c&&s&&p&&(c.addEventListener("click",z(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.classList.remove("hidden"),c.classList.add("scale-0"),(t=document.getElementById("content-dashboard"))&&(t.style.overflow="hidden",t.style.height="90dvh"),window.innerWidth<768&&s?s.style.height="100dvh":s&&(s.style.height=""),e.next=7,re();case 7:setTimeout((function(){s.classList.add("scale-100"),d.innerText="Conversas",document.getElementById("chat-list").classList.remove("hidden"),l.classList.add("hidden"),u.classList.add("hidden");var e=document.getElementById("new-chat-btn"),t=document.getElementById("new-chat-modal"),n=document.getElementById("close-new-chat-modal"),r=document.getElementById("new-chat-users-list");e&&t&&n&&(e.onclick=z(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.classList.remove("hidden"),e.next=3,de(r,t);case 3:case"end":return e.stop()}}),e)}))),n.onclick=function(){t.classList.add("hidden")})}),10);case 8:case"end":return e.stop()}}),e)})))),p.addEventListener("click",(function(){var e,t,n,r;s.classList.remove("scale-100"),c.classList.remove("scale-0");var o=document.getElementById("content-dashboard");o&&(o.style.overflow="",o.style.height=""),null===(e=document.getElementById("chat-input-area"))||void 0===e||e.classList.add("hidden"),null===(t=document.getElementById("chat-open-input-area"))||void 0===t||t.classList.add("hidden"),null===(n=document.getElementById("chat-messages"))||void 0===n||n.classList.add("hidden"),null===(r=document.getElementById("chat-list"))||void 0===r||r.classList.remove("hidden"),document.getElementById("chat-header").innerText="Conversas";var a=document.getElementById("new-chat-btn");a&&(a.style.display=""),setTimeout((function(){s.classList.add("hidden")}),500)})));var S=document.getElementById("user-tooltip-single");S||((S=document.createElement("div")).id="user-tooltip-single",S.className="fixed z-[9999] pointer-events-none bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",S.textContent="Clique para configurar sua conta",S.style.display="none",S.style.opacity="0",S.style.transition="opacity 0.2s ease",document.body.appendChild(S));var C=function(e,t){var n=e.getBoundingClientRect(),r=document.getElementById("menu-sidebar"),o=r&&r.classList.contains("md:w-20");S.textContent=t,S.style.display="block",o?(S.style.top="".concat(n.top+n.height/2,"px"),S.style.left="".concat(n.right+12,"px"),S.style.transform="translateY(-50%)"):(S.style.top="".concat(n.top-8,"px"),S.style.left="".concat(n.left+n.width/2,"px"),S.style.transform="translate(-50%, -100%)"),setTimeout((function(){S.style.opacity="1"}),10)},P=function(){S.style.opacity="0",setTimeout((function(){S.style.display="none"}),200)};m&&(m.addEventListener("mouseenter",(function(){C(this,"Clique para configurar sua conta")})),m.addEventListener("mouseleave",P));var A=document.getElementById("logout-btn");function O(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}A&&(A.addEventListener("mouseenter",(function(){var e=document.getElementById("menu-sidebar");e&&e.classList.contains("md:w-20")&&C(this,"Sair")})),A.addEventListener("mouseleave",P)),m&&f&&h&&(m.addEventListener("click",(function(){if(S&&(S.style.display="none",S.style.opacity="0"),f.classList.remove("hidden"),e.currentUser){var t=document.getElementById("config-user-name"),n=document.getElementById("config-user-type"),o=document.getElementById("config-user-photo"),a=document.getElementById("display-name");t.textContent=e.currentUser.displayName||"Usuário",a&&(a.value=e.currentUser.displayName||"");var i=(0,r.H9)(r.kA,"usuarios",e.currentUser.uid);(0,r.x7)(i).then((function(t){if(t.exists()){var r=t.data();n.textContent=r.tipo.charAt(0).toUpperCase()+r.tipo.slice(1),o.src=e.currentUser.photoURL||r.fotoPerfil;var a=document.getElementById("layout-caixa");a&&(a.value=r.layoutCaixa||"vertical")}}))}setTimeout((function(){f.querySelector(".bg-white").classList.remove("scale-95","opacity-0"),f.querySelector(".bg-white").classList.add("scale-100","opacity-100")}),10)})),h.addEventListener("click",X),f.addEventListener("click",(function(e){e.target===f&&X()}))),g&&v&&(g.parentElement.addEventListener("click",(function(){v.click()})),v.addEventListener("change",function(){var e=z(N().mark((function e(t){var n,o,a,i,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files[0])){e.next=21;break}return e.prev=2,e.next=5,O(n);case 5:if(o=e.sent,g.src=o,(a=document.getElementById("user-photo"))&&(a.src=o),!(i=(0,r.xI)()).currentUser){e.next=15;break}return c=(0,r.H9)(r.kA,"usuarios",i.currentUser.uid),e.next=14,(0,r.mZ)(c,{fotoPerfil:o});case 14:Swal.fire({icon:"success",title:"Sucesso!",text:"Foto de perfil atualizada com sucesso!",showConfirmButton:!1,timer:2e3});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("Erro ao atualizar foto:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível atualizar a foto.",showConfirmButton:!1,timer:2e3});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}())),y&&y.addEventListener("submit",function(){var e=z(N().mark((function e(t){var n,o,a,i,c,s,d;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.getElementById("current-password").value,o=document.getElementById("new-password").value,a=document.getElementById("confirm-password").value,o===a){e.next=7;break}return Swal.fire({icon:"error",title:"Erro!",text:"As senhas não coincidem.",showConfirmButton:!1,timer:2e3}),e.abrupt("return");case 7:if(!(o.length<6)){e.next=10;break}return Swal.fire({icon:"error",title:"Erro!",text:"A nova senha deve ter pelo menos 6 caracteres.",showConfirmButton:!1,timer:2e3}),e.abrupt("return");case 10:if(e.prev=10,Swal.fire({title:"Alterando senha...",text:"Por favor, aguarde.",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),i=(0,r.xI)(),c=i.currentUser){e.next=16;break}throw new Error("Usuário não está autenticado");case 16:return s=r.IX.credential(c.email,n),e.next=19,(0,r.kZ)(c,s);case 19:return e.next=21,(0,r.f3)(c,o);case 21:Swal.fire({icon:"success",title:"Senha alterada!",text:"Sua senha foi alterada com sucesso.",showConfirmButton:!1,timer:2e3}),y.reset(),setTimeout((function(){X()}),2500),e.next=32;break;case 26:e.prev=26,e.t0=e.catch(10),console.error("Erro ao alterar senha:",e.t0),d="Não foi possível alterar a senha.","auth/wrong-password"===e.t0.code?d="A senha atual está incorreta.":"auth/too-many-requests"===e.t0.code?d="Muitas tentativas. Tente novamente mais tarde.":"auth/requires-recent-login"===e.t0.code&&(d="Por segurança, faça login novamente antes de alterar a senha."),Swal.fire({icon:"error",title:"Erro!",text:d,showConfirmButton:!0});case 32:case"end":return e.stop()}}),e,null,[[10,26]])})));return function(t){return e.apply(this,arguments)}}());var D=document.getElementById("profile-form");D&&D.addEventListener("submit",function(){var e=z(N().mark((function e(t){var n,o,a,i,c,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.getElementById("display-name").value.trim()){e.next=5;break}return Swal.fire({icon:"error",title:"Erro!",text:"O nome não pode ficar em branco.",showConfirmButton:!1,timer:2e3}),e.abrupt("return");case 5:if(e.prev=5,Swal.fire({title:"Atualizando perfil...",text:"Por favor, aguarde.",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),o=(0,r.xI)(),a=o.currentUser){e.next=11;break}throw new Error("Usuário não está autenticado");case 11:return e.next=13,(0,r.r7)(a,{displayName:n});case 13:return i=(0,r.H9)(r.kA,"usuarios",a.uid),e.next=16,(0,r.mZ)(i,{nome:n});case 16:(c=document.getElementById("user-name"))&&(c.textContent="Olá, ".concat(n)),(s=document.getElementById("config-user-name"))&&(s.textContent=n),Swal.fire({icon:"success",title:"Perfil atualizado!",text:"Seu nome foi atualizado com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),console.error("Erro ao atualizar perfil:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível atualizar seu perfil.",showConfirmButton:!0});case 27:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(t){return e.apply(this,arguments)}}());var M=document.getElementById("preferences-form");M&&M.addEventListener("submit",function(){var e=z(N().mark((function e(t){var n,o,a,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.getElementById("layout-caixa").value,e.prev=2,Swal.fire({title:"Salvando preferências...",text:"Por favor, aguarde.",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),o=(0,r.xI)(),a=o.currentUser){e.next=8;break}throw new Error("Usuário não está autenticado");case 8:return i=(0,r.H9)(r.kA,"usuarios",a.uid),e.next=11,(0,r.mZ)(i,{layoutCaixa:n});case 11:Swal.fire({icon:"success",title:"Preferências salvas!",text:"Suas preferências foram salvas com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Erro ao salvar preferências:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível salvar suas preferências.",showConfirmButton:!0});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}());var T=document.getElementById("dark-theme"),F=document.getElementById("email-notifications");if(T){var q="true"===localStorage.getItem("darkTheme");T.checked=q,q&&document.documentElement.classList.add("dark"),T.addEventListener("change",(function(e){e.target.checked?(document.documentElement.classList.add("dark"),localStorage.setItem("darkTheme","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkTheme","false"))}))}if(F){var R="true"===localStorage.getItem("emailNotifications");F.checked=R,F.addEventListener("change",(function(e){localStorage.setItem("emailNotifications",e.target.checked);var t=e.target.checked?"Notificações por e-mail ativadas!":"Notificações por e-mail desativadas!";Swal.fire({icon:"success",title:"Preferência Salva",text:t,showConfirmButton:!1,timer:2e3})}))}b&&x&&(b.onclick=function(){x.click()},x.onchange=function(){var e=z(N().mark((function e(t){var n,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:try{Swal.fire({title:"Enviando imagem...",text:"Por favor, aguarde.",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),(r=new FileReader).onload=function(){var e=z(N().mark((function e(t){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.result,e.next=4,L(currentChatId,usuarioId,"",n);case 4:Swal.close(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Erro ao enviar imagem:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível enviar a imagem.",showConfirmButton:!1,timer:2e3});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r.onerror=function(){Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível ler a imagem.",showConfirmButton:!1,timer:2e3})},r.readAsDataURL(n)}catch(e){console.error("Erro ao processar imagem:",e),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível processar a imagem.",showConfirmButton:!1,timer:2e3})}x.value="";case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u.oninput=null,u.onblur=null,u.removeEventListener("keypress",null)}function X(){var e=document.getElementById("config-modal"),t=e.querySelector(".bg-white");t.classList.remove("scale-100","opacity-100"),t.classList.add("scale-95","opacity-0"),setTimeout((function(){e.classList.add("hidden")}),300)}function K(){var e=(0,r.xI)();(0,r.hg)(e,function(){var t=z(N().mark((function t(n){var o,a,i,c,s,d,l,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onAuthStateChanged Dashboard.js"),o=localStorage.getItem("reauth_token"),n||!o){t.next=11;break}if(a=JSON.parse(o),!(Date.now()-a.timestamp<3e4)){t.next=10;break}return console.log("Processo de reautenticação em andamento, ignorando redirecionamento"),t.abrupt("return");case 10:localStorage.removeItem("reauth_token");case 11:if(n){t.next=14;break}return window.location.hash="/login",t.abrupt("return");case 14:return i=(0,r.H9)(r.kA,"usuarios",n.uid),t.next=17,(0,r.x7)(i);case 17:if(!(c=t.sent).exists()){t.next=25;break}if("inativo"!==c.data().situacao){t.next=25;break}return t.next=23,e.signOut();case 23:return Swal.fire({icon:"warning",title:"Conta Desativada",text:"Sua conta foi desativada. Entre em contato com o administrador.",showConfirmButton:!0}).then((function(){window.location.hash="/login"})),t.abrupt("return");case 25:s=document.getElementById("user-area"),d=document.getElementById("user-name"),l=document.getElementById("user-photo"),s&&d&&l&&n&&(d.textContent="Olá, ".concat(n.displayName),c.exists()&&(u=c.data(),l.src=n.photoURL||u.fotoPerfil));case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var t=(0,r.rJ)(r.kA,"usuarios");(0,r.aQ)(t,function(){var t=z(N().mark((function t(n){var r,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.docs.map((function(e){return T({id:e.id},e.data())})),!(o=r.find((function(t){var n;return t.id===(null===(n=e.currentUser)||void 0===n?void 0:n.uid)})))){t.next=11;break}if("inativo"!==o.situacao){t.next=8;break}return t.next=6,e.signOut();case 6:return Swal.fire({icon:"warning",title:"Conta Desativada",text:"Sua conta foi desativada. Entre em contato com o administrador.",showConfirmButton:!0}).then((function(){window.location.hash="/login"})),t.abrupt("return");case 8:window.tipoUsuario=o.tipo,window.tipoUsuario!==window.tipoUsuarioAnt&&(window.menuHTML=H(o),(a=document.getElementById("menu-options"))&&(a.innerHTML=window.menuHTML)),window.tipoUsuarioAnt=window.tipoUsuario;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function ee(){var e=document.getElementById("menu-sidebar");e&&(e.classList.add("-translate-x-full"),e.classList.remove("translate-x-0"))}function te(){var e=document.getElementById("menu-sidebar"),t=document.getElementById("toggle-sidebar"),n=document.getElementById("logo-sidebar"),r=document.getElementById("user-name"),o=document.getElementById("logout-btn");if(e){e.classList.remove("md:w-64"),e.classList.add("md:w-20"),e.classList.remove("py-6"),e.classList.add("py-2");var a=e.querySelector(".flex.justify-between");a&&(a.classList.remove("px-2"),a.classList.add("px-1"));var i=document.getElementById("menu-options");i&&(i.style.maxHeight="calc(100vh - 220px)"),document.querySelectorAll(".menu-label").forEach((function(e){e.classList.add("hidden")})),document.querySelectorAll(".menu-icon").forEach((function(e){e.classList.remove("mr-3")})),document.querySelectorAll("#menu-options a").forEach((function(e){e.classList.add("justify-center"),e.classList.remove("px-4"),e.classList.add("px-2")})),n&&(n.src=C,n.classList.add("h-10","mx-auto"),n.classList.remove("h-32")),r&&r.classList.add("hidden"),o&&(o.innerHTML='<i class="fas fa-sign-out-alt"></i>',o.classList.remove("px-4","py-2"),o.classList.add("p-3","rounded-full","w-12","h-12","flex","items-center","justify-center"));var c=document.getElementById("user-photo");c&&(c.classList.remove("w-16","h-16"),c.classList.add("w-12","h-12","mb-1")),t&&(t.innerHTML='<i class="fas fa-angles-right"></i>',t.setAttribute("title","Expandir menu"));var s=document.getElementById("menu-tooltip-single");s||((s=document.createElement("div")).id="menu-tooltip-single",s.className="fixed z-[9999] pointer-events-none bg-gray-900 text-white text-sm px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",s.style.display="none",s.style.opacity="0",s.style.transition="opacity 0.2s ease",document.body.appendChild(s));var d=function(e){var t=document.getElementById("menu-sidebar");if(t&&t.classList.contains("md:w-20")){var n=e.currentTarget,r=G.find((function(e){return e.href===n.getAttribute("href")}));if(r){var o=n.getBoundingClientRect();s.textContent=r.label,s.style.display="block",s.style.top="".concat(o.top+o.height/2,"px"),s.style.left="".concat(o.right+12,"px"),s.style.transform="translateY(-50%)",setTimeout((function(){s.style.opacity="1"}),10)}}},l=function(){s.style.opacity="0",setTimeout((function(){s.style.display="none"}),200)};document.querySelectorAll("#menu-options a").forEach((function(e){e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",l)}))}}function ne(e,t){var n,o,a,i=null===(n=(0,r.xI)().currentUser)||void 0===n?void 0:n.uid,c=t;null===(o=document.getElementById("chat-input-area"))||void 0===o||o.classList.add("hidden"),null===(a=document.getElementById("chat-open-input-area"))||void 0===a||a.classList.remove("hidden");var s=document.getElementById("chat-header");s.innerHTML='\n    <div class="flex items-center space-x-2">\n      <button id="back-to-users" class="text-[#386c6f] hover:text-[#264a4c]">\n          <i class="fas fa-arrow-left text-xl"></i>\n      </button>\n      <img src="'.concat(e.fotoPerfil,'" alt="').concat(e.nome,'" class="w-8 h-8 rounded-full">\n      <div id="chat-header-col" class="flex flex-col justify-center min-h-[3.5rem]">\n        <h3 id="chat-user-name" class="text-lg font-semibold text-gray-700 transition-all duration-300">').concat(e.nome,'</h3>\n        <div id="digitando-status" class="text-xs text-gray-500 transition-all duration-300 opacity-0 h-[1.0rem] mt-[1px] flex items-center"></div>\n      </div>\n    </div>\n  '),document.getElementById("back-to-users").addEventListener("click",z(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.innerText="Conversas",l.classList.add("hidden"),document.getElementById("chat-input-area").classList.remove("hidden"),document.getElementById("chat-open-input-area").classList.add("hidden"),document.getElementById("chat-list").classList.remove("hidden"),window.unsubscribeChat&&window.unsubscribeChat(),d&&(d.style.display=""),e.next=9,re();case 9:case"end":return e.stop()}}),e)}))));var d=document.getElementById("new-chat-btn");d&&(d.style.display="none"),document.getElementById("chat-list").classList.add("hidden");var l=document.getElementById("chat-messages"),u=(document.getElementById("chat-input"),document.getElementById("chat-open-input")),p=document.getElementById("chat-input-area"),m=document.getElementById("chat-open-input-area");l.classList.remove("hidden"),p.classList.add("hidden"),m.classList.remove("hidden"),l.innerHTML="",u.value="",u.placeholder="Digite sua mensagem...";var f=document.getElementById("chat-upload-btn"),h=document.getElementById("chat-upload-input"),g=document.getElementById("chat-send-btn");f.onclick=function(){h.click()},g&&(g.onclick=z(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=u.value.trim())){e.next=12;break}return e.prev=2,e.next=5,L(c,i,t);case 5:u.value="",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Erro ao enviar mensagem:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível enviar a mensagem.",showConfirmButton:!1,timer:2e3});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))),h.onchange=function(){var e=z(N().mark((function e(t){var n,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:try{Swal.fire({title:"Enviando imagem...",text:"Por favor, aguarde.",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),(r=new FileReader).onload=function(){var e=z(N().mark((function e(t){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.result,e.next=4,L(c,i,"",n);case 4:Swal.close(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Erro ao enviar imagem:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível enviar a imagem.",showConfirmButton:!1,timer:2e3});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r.onerror=function(){Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível ler a imagem.",showConfirmButton:!1,timer:2e3})},r.readAsDataURL(n)}catch(e){console.error("Erro ao processar imagem:",e),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível processar a imagem.",showConfirmButton:!1,timer:2e3})}h.value="";case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.unsubscribeChat&&window.unsubscribeChat(),window.unsubscribeChat=x(c,(function(e){l.innerHTML="",e.sort((function(e,t){return(e.timestamp?e.timestamp.toMillis():0)-(t.timestamp?t.timestamp.toMillis():0)})),e.forEach((function(e){var t=document.createElement("div");if(t.classList.add("max-w-[75%]","p-2","rounded-lg","mb-2","text-sm"),e.remetenteId===i?t.classList.add("bg-[#386c6f]","text-white","self-end","rounded-r-none"):t.classList.add("bg-gray-200","text-gray-700","self-start","rounded-l-none"),e.imagemBase64){var n=document.createElement("img");n.src=e.imagemBase64,n.className="max-w-full max-h-48 rounded mb-1",n.alt="Imagem enviada",t.appendChild(n)}if(e.texto){var r=document.createElement("div");r.innerText=e.texto,t.appendChild(r)}l.appendChild(t)})),l.scrollTop=l.scrollHeight})),function(e,t){I.apply(this,arguments)}(c,i);var v=null;u.oninput=z(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(c,i,!0);case 2:v&&clearTimeout(v),v=setTimeout(z(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(c,i,!1);case 2:case"end":return e.stop()}}),e)}))),2e3);case 4:case"end":return e.stop()}}),e)}))),u.onblur=z(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(c,i,!1);case 2:case"end":return e.stop()}}),e)}))),u.addEventListener("keypress",function(){var e=z(N().mark((function e(t){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||t.shiftKey){e.next=14;break}if(t.preventDefault(),!(n=u.value.trim())){e.next=14;break}return e.prev=4,e.next=7,L(c,i,n);case 7:u.value="",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.error("Erro ao enviar mensagem:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível enviar a mensagem.",showConfirmButton:!1,timer:2e3});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}());var y=(0,r.H9)(r.kA,"chats",c),b=function(){return document.getElementById("digitando-status")},w=function(){return document.getElementById("chat-header-col")},E=function(){return document.getElementById("chat-user-name")},k=(0,r.aQ)(y,(function(e){var t=e.data();t&&t.digitando&&Object.entries(t.digitando).filter((function(e){var t=O(e,2),n=t[0],r=t[1];return n!==i&&r})).map((function(e){return O(e,1)[0]})).length>0?(b()&&(b().textContent="Digitando...",b().style.opacity="1"),w()&&(w().classList.remove("justify-center"),w().classList.add("justify-start")),E()&&(E().style.transform="translateY(0)")):(b()&&(b().textContent="",b().style.opacity="0"),w()&&(w().classList.remove("justify-start"),w().classList.add("justify-center")),E()&&(E().style.transform="translateY(0.5rem)"))}));window.unsubscribeDigitando&&window.unsubscribeDigitando(),window.unsubscribeDigitando=k}function re(){return oe.apply(this,arguments)}function oe(){return(oe=z(N().mark((function e(){var t,n,o,a,i,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.xI)(),o=null===(t=n.currentUser)||void 0===t?void 0:t.uid,e.next=4,g(o);case 4:return a=e.sent,e.next=7,f();case 7:if(i=e.sent,(c=document.getElementById("chat-list")).innerHTML="",window.unsubscribeChatsList&&(Object.values(window.unsubscribeChatsList).forEach((function(e){return e&&e()})),window.unsubscribeChatsList={}),0!==a.length){e.next=14;break}return c.innerHTML='<div class="text-center text-gray-500 py-8">Nenhuma conversa iniciada.<br>Clique em <b>Nova conversa</b> para começar um chat.</div>',e.abrupt("return");case 14:a.forEach((function(e){var t=e.participantes.find((function(e){return e!==o})),n=i.find((function(e){return e.id===t}));if(n){var r=document.createElement("div");r.className="flex items-center p-2 border-b cursor-pointer hover:bg-gray-100 rounded",r.innerHTML='\n      <img src="'.concat(n.fotoPerfil||"",'" class="w-10 h-10 rounded-full mr-2" />\n      <div class="flex-1 flex flex-col">\n        <span class="font-medium text-gray-700 block flex items-center" id="nome-usuario-').concat(e.id,'">\n          ').concat(n.nome,'\n          <span id="unread-dot-').concat(e.id,'"></span>\n        </span>\n        <div class="flex justify-between items-center">\n          <span class="text-sm text-gray-500 block truncate max-w-xs" id="ultima-msg-').concat(e.id,'">').concat(e.ultimaMensagem?e.ultimaMensagem:"Nenhuma mensagem",'</span>\n          <span class="text-xs text-gray-400 float-right" id="ultima-msg-hora-').concat(e.id,'">').concat(ue(e.ultimaMensagemTimestamp),"</span>\n        </div>\n      </div>\n    "),r.addEventListener("click",(function(){return ne(n,e.id)})),c.appendChild(r),window.unsubscribeChatsList[e.id]=x(e.id,(function(t){if(t&&0!==t.length){var n=t[t.length-1],r=document.getElementById("ultima-msg-".concat(e.id)),a=document.getElementById("ultima-msg-hora-".concat(e.id));if(r)if(n.remetenteId===o){var i=e.participantes.filter((function(e){return e!==o})).every((function(e){return n.lidaPor&&n.lidaPor.includes(e)}))?"text-blue-600":"text-green-600";r.innerHTML="<i class='fas fa-check-double ".concat(i," mr-1'></i> ").concat(n.texto)}else r.textContent=n.texto;a&&(a.textContent=ue(n.timestamp));var c=t.some((function(e){return!(e.remetenteId===o||e.lidaPor&&e.lidaPor.includes(o))})),s=document.getElementById("unread-dot-".concat(e.id));s&&(s.innerHTML=c?'<span class="w-2 h-2 bg-[#386c6f] rounded-full inline-block ml-2"></span>':"")}}))}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.unsubscribeChatsList={};var ae=document.getElementById("new-chat-btn"),ie=document.getElementById("new-chat-modal"),ce=document.getElementById("close-new-chat-modal"),se=document.getElementById("new-chat-users-list");function de(e,t){return le.apply(this,arguments)}function le(){return le=z(N().mark((function e(t,n){var o,a,i,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,r.xI)(),i=null===(o=a.currentUser)||void 0===o?void 0:o.uid,e.next=4,y(i);case 4:c=e.sent,t.innerHTML="",c.forEach((function(e){var r=document.createElement("div");r.className="flex items-center p-2 border-b cursor-pointer hover:bg-gray-100 rounded",r.innerHTML='\n      <img src="'.concat(e.fotoPerfil||"",'" class="w-10 h-10 rounded-full mr-2" />\n      <div class="flex-1">\n        <span class="font-medium text-gray-700 block">').concat(e.nome,'</span>\n        <span class="text-sm text-gray-500 block truncate max-w-xs">').concat(e.email,"</span>\n      </div>\n    "),r.addEventListener("click",z(N().mark((function t(){var r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(i,e.id);case 2:return r=t.sent,n.classList.add("hidden"),t.next=6,re();case 6:ne(e,r.id);case 7:case"end":return t.stop()}}),t)})))),t.appendChild(r)}));case 7:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}function ue(e){if(!e)return"";var t=e.toDate?e.toDate():new Date(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=Math.floor((r-o)/864e5);return 0===a?t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):1===a?"Ontem":t.toLocaleDateString("pt-BR")}ae&&ie&&ce&&(ae.addEventListener("click",z(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie.classList.remove("hidden"),e.next=3,de(se,ie);case 3:case"end":return e.stop()}}),e)})))),ce.addEventListener("click",(function(){ie.classList.add("hidden")})))},4711:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>g});var r=n(1676);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function a(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};l(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,c,s){var d=p(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==i(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=p(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),l(I,d,"Generator"),l(I,c,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}function g(){return v.apply(this,arguments)}function v(){return v=h(m().mark((function e(){var t,n,c,d,u,p,f,g,v,y,b,x,w,E,L,k,I,B,S,j,C,P,A,O,D,N,M,T,F,q,z,R,_,G,H,$,V,U,Y,Z,J,Q,W,X,K,ee,te,ne,re,oe,ae,ie,ce,se,de,le,ue;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue=function(e){var t=0;return e.forEach((function(e){1!=e.receber&&("entrada"===e.tipo?t+=e.valor:"saída"===e.tipo&&(t-=e.valor))})),t},le=function(e){var t=0;return e.forEach((function(e){1!=e.receber&&"saída"===e.tipo&&(t+=e.valor)})),t},de=function(e){var t=0;return e.forEach((function(e){1!=e.receber&&"entrada"===e.tipo&&(t+=e.valor)})),t},se=function(e){var t=0;return e.forEach((function(e){"entrada"===e.tipo&&1==e.receber&&(t+=e.valor)})),t},ce=function(e){return e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},ie=function(e){x.innerHTML="",w.innerHTML="";var t=document.querySelectorAll(".blur-value").length>0?"blur-value":"visible";e.forEach((function(e){var n=document.createElement("li");n.classList.add("btn-info-movimentacao","p-4","bg-gray-50","border","rounded-md","flex","justify-between","items-center","cursor-pointer"),n.innerHTML='\n          <div class="flex items-start gap-2">\n            <div class="relative group">\n              <i \n                class="fa '.concat(e.automatico?"fa-robot":"fa-keyboard",' text-sm text-gray-500 cursor-help">\n              </i>\n              <div class="absolute hidden lg:group-hover:flex flex-col items-center -top-8 left-0 w-28 bg-gray-700 text-white text-xs rounded py-1 px-2">\n                ').concat(e.automatico?"Automático":"Manual",'\n                <div class="w-2 h-2 bg-gray-700 transform rotate-45 -bottom-1"></div>\n              </div>\n            </div>\n\n            <div>\n              <p class="text-sm text-gray-500">').concat(e.data.toDate().toLocaleString("pt-BR").split(", ")[0],'</p>\n              <p class="font-medium">').concat(e.descricao).concat(!0===e.receber?" (Vai contabilizar amanhã)":"",'</p>\n            </div>\n          </div>\n          <div class="text-right">\n            <p class="text-lg font-semibold text-').concat("entrada"===e.tipo?"green":"red","-500 toggle-value ").concat(t,'">R$ ').concat(e.valor.toFixed(2).replace(".",","),'</p>\n            <p class="text-xs text-gray-400">').concat(e.tipo,"</p>\n          </div>\n        "),n.dataset.id=e.id,n.dataset.automatico=e.automatico,n.dataset.tipo=e.tipo,"entrada"===e.tipo?x.appendChild(n):w.appendChild(n)})),0===e.filter((function(e){return"entrada"===e.tipo})).length&&(x.innerHTML='<p class="text-gray-400">Nenhuma entrada encontrada.</p>'),0===e.filter((function(e){return"saída"===e.tipo})).length&&(w.innerHTML='<p class="text-gray-400">Nenhuma saída encontrada.</p>')},ae=function(e){b.innerHTML="";var t=document.querySelectorAll(".blur-value").length>0?"blur-value":"visible";e.forEach((function(e){var n=document.createElement("li");n.classList.add("btn-info-movimentacao","p-3","bg-white","border","rounded-md","flex","justify-between","items-center","cursor-pointer");var r="";!0===e.receber&&(r=6==(new Date).getDay()||0==(new Date).getDay()?" (Vai contabilizar segunda-feira)":" (Vai contabilizar amanhã)"),n.innerHTML='\n          <div class="flex items-start gap-2">\n            <div class="relative group">\n              <i \n                class="fa '.concat(e.automatico?"fa-robot":"fa-keyboard",' text-sm text-gray-500 cursor-help">\n              </i>\n              <div class="absolute hidden lg:group-hover:flex flex-col items-center -top-8 left-0 w-28 bg-gray-700 text-white text-xs rounded py-1 px-2">\n                ').concat(e.automatico?"Automático":"Manual",'\n                <div class="w-2 h-2 bg-gray-700 transform rotate-45 -bottom-1"></div>\n              </div>\n            </div>\n\n            <div>\n              <p class="text-sm text-gray-500">').concat(e.data.toDate().toLocaleString("pt-BR").split(", ")[0],'</p>\n              <p class="font-medium">').concat(e.descricao).concat(r,'</p>\n            </div>\n          </div>\n          <div class="text-right">\n            <p class="text-xs">').concat(1==e.valorCorrigido?"Valor corrigido":"",'</p>\n            <p class="text-lg font-semibold text-').concat("entrada"===e.tipo?"green":"red","-500 toggle-value ").concat(t,'">R$ ').concat(e.valor.toFixed(2).replace(".",","),'</p>\n            <p class="text-xs text-gray-400">').concat(e.tipo,"</p>\n          </div>\n        "),n.dataset.id=e.id,n.dataset.automatico=e.automatico,n.dataset.tipo=e.tipo,b.appendChild(n)})),0===e.length&&(b.innerHTML='<p class="text-gray-400 text-center">Nenhuma movimentação encontrada.</p>')},oe=function(e){C.setAttribute("data-id",e.id);var t="";if("Múltiplo"==e.metodoPagamento.tipo){if(te(e.metodoPagamento.opcaoEscolhida))for(var n=0,r=Object.entries(e.metodoPagamento.opcaoEscolhida);n<r.length;n++){var o=l(r[n],2),a=o[0],i=o[1];i&&!isNaN(i)&&(t+='\n              <input \n                type="number"\n                step="'.concat("parcelas"==a?"1":"0.01",'"\n                id="edit-valor-').concat(a,'"\n                class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n                placeholder="Valor ').concat(a,' corrigido"\n                required\n              />'))}C.querySelector("#venda-campos-form").innerHTML=t}else C.querySelector("#venda-campos-form").innerHTML='\n        <input \n          type="number" \n          step="0.01" \n          id="edit-valor-venda" \n          class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n          placeholder="Valor da venda corrigido" \n          required\n        />';C.classList.remove("hidden")},re=function(){B.classList.remove("hidden")},ne=function(e){return"string"!=typeof e||0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)},te=function(e){return null!==e&&"object"===i(e)&&!Array.isArray(e)},ee=function(){return ee=h(m().mark((function e(t){var n,i,c,d,u,p,f,g,v,y,b,x,w,E,L,k,I,B,S,C,P,A,O,D,N,M;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(){return p=h(m().mark((function e(t,n){var o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.map(function(){var e=h(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.x7)((0,r.H9)(r.kA,t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(o);case 3:return a=e.sent,e.abrupt("return",a.filter((function(e){return e.exists()})).map((function(e){return s({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)},u=function(e,t){return p.apply(this,arguments)},console.log("renderizarDetalhesVenda"),n=[],i=[],t.produtos.forEach((function(e){e.id&&n.push(e.id)})),t.operador&&i.push(t.operador),c=a(new Set(n)),d=a(new Set(i)),e.next=11,u("produtos",c);case 11:return f=e.sent,e.next=14,u("usuarios",d);case 14:g=e.sent,v=o(t.produtos),e.prev=16,b=m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=y.value).id&&(n=f.find((function(e){return e.id===t.id})))&&(t.descricao=n.descricao);case 2:case"end":return e.stop()}}),e)})),v.s();case 19:if((y=v.n()).done){e.next=23;break}return e.delegateYield(b(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),v.e(e.t1);case 28:return e.prev=28,v.f(),e.finish(28);case 31:if(t.operador&&(x=g.find((function(e){return e.id===t.operador})))&&(t.operadorNome=x.nome),j.innerHTML="",(w=document.createElement("div")).classList.add("bg-white","shadow","rounded-lg","p-4"),E="",t.produtos.forEach((function(e){E+='\n          <li class="flex justify-between">\n            <span>'.concat(e.quantidade," ").concat(e.descricao,'</span>\n            <span class="text-gray-600">R$ ').concat(e.subtotal.toFixed(2).replace(".",","),"</span>\n          </li>\n        ")})),L="Total liquido",k="text-green-500",I="",B="",t.desconto&&(I='\n        <div class="flex justify-between font-semibold">\n          <span class="lg:ml-auto lg:mr-4">Desconto:</span>\n          <span class="text-red-500">'.concat(t.desconto?"R$ "+t.desconto.toFixed(2).replace(".",","):"-",'</span>\n        </div>\n        <div class="flex justify-between font-semibold">\n          <span class="lg:ml-auto lg:mr-4">Total liquido:</span>\n          <span class="text-green-500">').concat(t.totalLiquido?"R$ "+t.totalLiquido.toFixed(2).replace(".",","):"-","</span>\n        </div>\n        "),L="Total bruto",k="text-black"),t.toalCorrigido&&(B='\n        <div class="flex justify-between font-semibold">\n          <span class="lg:ml-auto lg:mr-4">Total corrigido:</span>\n          <span class="text-blue-500">'.concat(t.toalCorrigido?"R$ "+t.toalCorrigido.toFixed(2).replace(".",","):"-","</span>\n        </div>\n        ")),S="","Único"==t.metodoPagamento.tipo)S=te(t.metodoPagamento.opcaoEscolhida)?Object.keys(t.metodoPagamento.opcaoEscolhida).map((function(e){return ne(e)})).join(""):ne(t.metodoPagamento.opcaoEscolhida);else if("Múltiplo"==t.metodoPagamento.tipo&&te(t.metodoPagamento.opcaoEscolhida)){C=[],(P=Object.entries(t.metodoPagamento.opcaoEscolhida)).map((function(e){return e[0]})).includes("credito")&&P.map((function(e){return e[0]})).includes("parcelas")&&(C.push(ne("credito")+": R$ "+t.metodoPagamento.opcaoEscolhida.credito.toFixed(2).replace(".",",")+" de "+t.metodoPagamento.opcaoEscolhida.parcelas+"x"),P=P.filter((function(e){return!("credito"==e[0]||"parcelas"==e[0])}))),A=o(P);try{for(A.s();!(O=A.n()).done;)D=l(O.value,2),N=D[0],(M=D[1])&&!isNaN(M)&&C.push(ne(N)+": R$ "+M.toFixed(2).replace(".",","))}catch(e){A.e(e)}finally{A.f()}S=C.join(", ")}w.innerHTML='\n        <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">'.concat(t.criadoEm.toDate().toLocaleDateString("pt-BR"),'</h2>\n\n        <div class="space-y-4">\n          <div class="border-b pb-4">\n\n            <div class="flex justify-between items-center text-sm text-gray-500 mb-2 venda-').concat(t.id,'">\n              <p>Horário: ').concat(t.criadoEm.toDate().toLocaleString("pt-BR").split(", ")[1],'</p>\n            </div>\n            \n            <ul class="space-y-2">\n              ').concat(E,'\n            </ul>\n            \n            <div class="flex justify-between mt-4 font-semibold">\n              <span class="lg:ml-auto lg:mr-4">').concat(L,':</span>\n              <span class="').concat(k,'">R$ ').concat(t.total.toFixed(2).replace(".",","),"</span>\n            </div>\n            ").concat(I,"\n            ").concat(B,'\n            \n            <p class="mt-2 text-sm text-gray-500">Método de Pagamento: ').concat(S,'</p>\n            <p class="mt-2 text-sm text-gray-500">Operador: ').concat(t.operadorNome||"-","</p>\n          </div>\n        </div>\n      "),j.appendChild(w);case 47:case"end":return e.stop()}}),e,null,[[16,25,28,31]])}))),ee.apply(this,arguments)},K=function(e){return ee.apply(this,arguments)},X=function(){return(X=h(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.innerHTML="",(n=document.createElement("div")).classList.add("bg-white","shadow","rounded-lg","p-4"),n.innerHTML='\n        <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">'.concat(void 0!==t.data?t.data.toDate().toLocaleDateString("pt-BR"):"",'</h2>\n\n        <div class="space-y-4">\n          <div class="border-b pb-4">\n\n            <div class="flex justify-between items-center text-sm text-gray-500 mb-2">\n              <p>Horário: ').concat(void 0!==t.data?t.data.toDate().toLocaleString("pt-BR").split(", ")[1]:"",'</p>\n            </div>\n            \n            <ul class="space-y-2">\n              <li class="flex justify-between">\n                <span>').concat(t.descricao,'</span>\n                <span class="text-red-600">R$ ').concat(t.valor.toFixed(2).replace(".",","),'</span>\n              </li>\n            </ul>\n            \n            <p class="mt-2 text-sm text-gray-500">Fornecedor: ').concat(t.fornecedor||"-",'</p>\n            <p class="mt-2 text-sm text-gray-500">Metodo pagamento: ').concat(t.metodoPagamento||"-",'</p>\n            <p class="mt-2 text-sm text-gray-500">Pagante: ').concat(t.pagante||"-",'</p>\n            <p class="mt-2 text-sm text-gray-500">Pago: ').concat(t.pago?"Sim":"Não",'</p>\n            <p class="mt-2 text-sm text-gray-500">Retirou caixa: ').concat(t.retirouCaixa?"Sim":"Não","</p>\n          </div>\n        </div>\n      "),j.appendChild(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},W=function(e){return X.apply(this,arguments)},Q=function(){return(Q=h(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.innerHTML="",(n=document.createElement("div")).classList.add("bg-white","shadow","rounded-lg","p-4"),r="entrada"===t.tipo?"text-green-500":"text-red-500",n.innerHTML='\n        <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">'.concat(void 0!==t.data?t.data.toDate().toLocaleDateString("pt-BR"):"",'</h2>\n\n        <div class="space-y-4">\n          <div class="border-b pb-4">\n\n            <div class="flex justify-between items-center text-sm text-gray-500 mb-2">\n              <p>Horário: ').concat(void 0!==t.data?t.data.toDate().toLocaleString("pt-BR").split(", ")[1]:"",'</p>\n            </div>\n            \n            <ul class="space-y-2">\n              <li class="flex justify-between">\n                <span>').concat(t.descricao,'</span>\n                <span class="').concat(r,'">R$ ').concat(t.valor.toFixed(2).replace(".",","),'</span>\n              </li>\n            </ul>\n            \n            <p class="mt-2 text-sm text-gray-500">').concat(ne(t.tipo),'</p>\n            <p class="mt-2 text-sm text-gray-500">Observações: ').concat(t.observacoes||"-","</p>\n          </div>\n        </div>\n      "),j.appendChild(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},J=function(e){return Q.apply(this,arguments)},Z=function(){j.innerHTML='\n      <div class="bg-white shadow rounded-lg p-4">\n        <div class="h-6 w-32 bg-gray-300 rounded animate-pulse mb-4"></div>\n\n        <div class="space-y-4">\n          <div class="border-b pb-4">\n            <div class="h-4 w-24 bg-gray-300 rounded animate-pulse mb-2"></div>\n\n            <ul class="space-y-2">\n              <li class="flex justify-between">\n                <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n                <div class="h-4 w-12 bg-gray-300 rounded animate-pulse"></div>\n              </li>\n              <li class="flex justify-between">\n                <div class="h-4 w-24 bg-gray-300 rounded animate-pulse"></div>\n                <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n              </li>\n              <li class="flex justify-between">\n                <div class="h-4 w-28 bg-gray-300 rounded animate-pulse"></div>\n                <div class="h-4 w-10 bg-gray-300 rounded animate-pulse"></div>\n              </li>\n            </ul>\n\n            <div class="flex justify-between mt-4">\n              <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n            </div>\n\n            <div class="h-4 w-40 bg-gray-300 rounded animate-pulse mt-2"></div>\n            <div class="h-4 w-40 bg-gray-300 rounded animate-pulse mt-2"></div>\n          </div>\n        </div>\n      </div>\n      '},Y=function(){return Y=h(m().mark((function e(t){var n,o,a,i,c,d,l,u,p,f,g,v,y;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){return l=h(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Remover movimentação manual",t.currentTarget.dataset.id),n=t.currentTarget.dataset.id,Swal.fire({title:"Tem certeza?",text:"Você não poderá reverter esta ação!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(function(){var e=h(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=4;break}return e.next=3,(0,r.kd)((0,r.H9)(r.kA,"movimentacoes",n));case 3:$();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)},d=function(e){return l.apply(this,arguments)},n=t.target.closest(".btn-info-movimentacao[data-id]").dataset.id,o=t.target.closest(".btn-info-movimentacao[data-id]").dataset.automatico,a=t.target.closest(".btn-info-movimentacao[data-id]").dataset.tipo,j.innerHTML="",i=document.querySelector("#editarMovimentacao"),(c=document.querySelector("#excluirMovimentacao")).removeAttribute("data-id"),c.removeEventListener("click",d),"true"!=o){e.next=32;break}if(i.innerHTML="Corrigir valor",c.innerHTML="Não usar esta movimentação","saída"!==a){e.next=22;break}return Z(),e.next=17,(0,r.x7)((0,r.H9)(r.kA,"gastos",n));case 17:u=e.sent,p=s({id:u.id},u.data()),W(p),e.next=30;break;case 22:if("entrada"!==a){e.next=30;break}return Z(),e.next=26,(0,r.x7)((0,r.H9)(r.kA,"vendas",n));case 26:f=e.sent,g=s({id:f.id},f.data()),K(g),i.addEventListener("click",(function(){oe(g)}));case 30:e.next=42;break;case 32:return i.innerHTML="Editar",c.innerHTML="Excluir",Z(),e.next=37,(0,r.x7)((0,r.H9)(r.kA,"movimentacoes",n));case 37:v=e.sent,y=s({id:v.id},v.data()),c.dataset.id=n,c.addEventListener("click",d),J(y,"Movimentação Manual");case 42:re();case 43:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)},U=function(e){return Y.apply(this,arguments)},V=function(){return(V=h(m().mark((function e(){var t,n,r,o,i,c,s,d,u,p,h,b,x,w,E,L,k;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("renderMovimentacoes()"),e.next=3,D();case 3:t=e.sent,n=document.getElementById("data-inicio").value,r=document.getElementById("data-fim").value,o=document.getElementById("filtro-origem").value,i=document.getElementById("filtro-observacoes").checked,n&&r&&(c=n.split("-").map(Number),s=l(c,3),d=s[0],u=s[1],p=s[2],h=r.split("-").map(Number),b=l(h,3),x=b[0],w=b[1],E=b[2],L=new Date(d,u-1,p),(k=new Date(x,w-1,E)).setHours(23,59,59,999),t=t.filter((function(e){var t=e.data.toDate();return t>=L&&t<=k}))),(t=(t=t.filter((function(e){return""===o||"manual"===o&&!e.automatico||"automatico"===o&&e.automatico}))).filter((function(e){return!i||e.observacoes&&""!==e.observacoes.trim()}))).sort((function(e,t){return t.data.toDate()-e.data.toDate()})),f.textContent="R$ ".concat(ce(ue(t))),g.textContent="R$ ".concat(ce(se(t))),v.textContent="R$ ".concat(ce(de(t))),y.textContent="R$ ".concat(ce(le(t))),ae(t),ie(t),a(document.querySelectorAll(".btn-info-movimentacao[data-id]")).forEach((function(e){e.addEventListener("click",U)}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},$=function(){return V.apply(this,arguments)},H=function(){return H=h(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.rJ)(r.kA,"movimentacoes"),e.next=3,(0,r.GG)(t);case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return s(s({id:e.id},e.data()),{},{automatico:!1})})));case 5:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)},G=function(){return H.apply(this,arguments)},_=function(){return _=h(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=(0,r.rJ)(r.kA,"vendas"),e.next=4,(0,r.GG)(n);case 4:return e.sent.forEach((function(e){var n=e.data(),r=parseFloat(n.total)-(void 0!==n.desconto?parseFloat(n.desconto):0);n.toalCorrigido&&(r=parseFloat(n.toalCorrigido));var o=void 0!==n.toalCorrigido;if("Único"==n.metodoPagamento.tipo){if(n.metodoPagamento.opcaoEscolhida.crediario)return;var a=new Date;a.setDate(a.getDate()-1);var i=6==(new Date).getDay()&&M(n.criadoEm.toDate())==M(a)||M(new Date)==M(n.criadoEm.toDate());if(("Crédito"==n.metodoPagamento.opcaoEscolhida||"Débito"==n.metodoPagamento.opcaoEscolhida)&&1==i)return void console.log("unico. venda de hoje no credito ou debito",n.metodoPagamento.opcaoEscolhida.credito,n.metodoPagamento.opcaoEscolhida.debito,n.criadoEm.toDate(),n.total);g(e,n,r,o)}else if("Múltiplo"==n.metodoPagamento.tipo){n.metodoPagamento.opcaoEscolhida.dinheiro&&g(e,n,parseFloat(n.metodoPagamento.opcaoEscolhida.dinheiro),!0,o);var c=0,s=new Date;s.setDate(s.getDate()-1);for(var d=6==(new Date).getDay()&&M(n.criadoEm.toDate())==M(s)||M(new Date)==M(n.criadoEm.toDate()),u=0,p=Object.entries(n.metodoPagamento.opcaoEscolhida);u<p.length;u++){var m=l(p[u],2),f=m[0],h=m[1];"dinheiro"!=f&&("credito"!=f&&"debito"!=f||1!=d?h&&!isNaN(h)&&(c+=parseFloat(h)):console.log("multiplo. venda de hoje no credito ou debito",n.metodoPagamento.opcaoEscolhida.credito,n.metodoPagamento.opcaoEscolhida.debito,n.criadoEm.toDate(),n.total))}g(e,n,c,!0,o)}function g(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i={id:e.id,data:n.criadoEm,tipo:"entrada",valor:r,descricao:"Venda de produtos"+(o?" (múltiplo)":""),automatico:!0,valorCorrigido:a};t.push(i)}})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)},R=function(){return _.apply(this,arguments)},z=function(){return z=h(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=(0,r.rJ)(r.kA,"vendas"),e.next=4,(0,r.GG)(n);case 4:return e.sent.forEach((function(e){var n=e.data(),r=parseFloat(n.total)-(void 0!==n.desconto?parseFloat(n.desconto):0);n.toalCorrigido&&(r=parseFloat(n.toalCorrigido));var o=void 0!==n.toalCorrigido;if("Único"==n.metodoPagamento.tipo){if(n.metodoPagamento.opcaoEscolhida.crediario)return;var a=new Date;a.setDate(a.getDate()-1),6==(new Date).getDay()&&M(n.criadoEm.toDate())==M(a)?console.log("Hoje é sabado",M(n.criadoEm.toDate())==M(a),M(n.criadoEm.toDate()),M(a)):M(new Date)==M(n.criadoEm.toDate())&&console.log("Compra do dia",M(new Date)==M(n.criadoEm.toDate()),M(new Date),M(n.criadoEm.toDate()));var i=6==(new Date).getDay()&&M(n.criadoEm.toDate())==M(a)||M(new Date)==M(n.criadoEm.toDate());if(("Crédito"==n.metodoPagamento.opcaoEscolhida||"Débito"==n.metodoPagamento.opcaoEscolhida)&&1==i)return void g(e,n,r,o)}else if("Múltiplo"==n.metodoPagamento.tipo){var c=0,s=new Date;s.setDate(s.getDate()-1),6==(new Date).getDay()&&M(n.criadoEm.toDate())==M(s)?console.log("Hoje é sabado",M(n.criadoEm.toDate())==M(s),M(n.criadoEm.toDate()),M(s)):M(new Date)==M(n.criadoEm.toDate())&&console.log("Compra do dia",M(new Date)==M(n.criadoEm.toDate()),M(new Date),M(n.criadoEm.toDate()));for(var d=6==(new Date).getDay()&&M(n.criadoEm.toDate())==M(s)||M(new Date)==M(n.criadoEm.toDate()),u=0,p=Object.entries(n.metodoPagamento.opcaoEscolhida);u<p.length;u++){var m=l(p[u],2),f=m[0],h=m[1];"dinheiro"!=f&&("credito"!=f&&"debito"!=f||1!=d||h&&!isNaN(h)&&(c+=parseFloat(h)))}g(e,n,c,!0,o)}function g(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i={id:e.id,data:n.criadoEm,tipo:"entrada",valor:r,descricao:"Venda de produtos"+(o?" (múltiplo)":""),automatico:!0,receber:!0,valorCorrigido:a};t.push(i)}})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)},q=function(){return z.apply(this,arguments)},F=function(){return(F=h(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=(0,r.rJ)(r.kA,"gastos"),e.next=4,(0,r.GG)(n);case 4:return e.sent.forEach((function(e){var n=e.data();if(n.data&&1==n.retirouCaixa){var r=parseFloat(n.valor),o={id:e.id,data:n.data,tipo:"saída",valor:r,descricao:n.descricao,automatico:!0};t.push(o)}})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},T=function(){return F.apply(this,arguments)},M=function(e){var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(r,"-").concat(n,"-").concat(t)},N=function(){return(N=h(m().mark((function e(){var t,n,r,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,e.next=5,R();case 5:return n=e.sent,e.next=8,T();case 8:return r=e.sent,e.next=11,G();case 11:return o=(o=e.sent).filter((function(e){return e.data})),e.abrupt("return",t.concat(n,r,o));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},D=function(){return N.apply(this,arguments)},t=document.getElementById("content-dashboard"),n='\n    <li class="p-3 bg-white border rounded-md flex justify-between items-center animate-pulse">\n      \x3c!-- Esquerda: Ícone e Descrição --\x3e\n      <div class="flex items-start gap-2">\n        \x3c!-- Ícone Placeholder --\x3e\n        <div class="w-4 h-4 bg-gray-300 rounded-full"></div>\n        \x3c!-- Texto Placeholder --\x3e\n        <div>\n          <p class="w-24 h-4 bg-gray-300 rounded mb-1"></p>\n          <p class="w-40 h-4 bg-gray-300 rounded"></p>\n        </div>\n      </div>\n      \x3c!-- Direita: Valor e Tipo --\x3e\n      <div class="text-right">\n        <p class="w-16 h-6 bg-gray-300 rounded mb-1"></p>\n        <p class="w-20 h-4 bg-gray-300 rounded"></p>\n      </div>\n    </li>\n    '.repeat(3),t.innerHTML='\n      <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Dinheiro em caixa</h1>\n\n        <div class="flex flex-wrap gap-2 md:gap-6 mb-6">\n          <div class="flex w-full sm:w-auto gap-6 pr-5 md:gap-6">\n            \x3c!-- Data Início --\x3e\n            <div class="w-full sm:w-48">\n              <label for="data-inicio" class="block text-sm font-medium text-gray-700 mb-2">Data Início</label>\n              <input \n                type="date" \n                id="data-inicio" \n                class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:outline-none"\n              />\n            </div>\n\n            \x3c!-- Data Fim --\x3e\n            <div class="w-full sm:w-48">\n              <label for="data-fim" class="block text-sm font-medium text-gray-700 mb-2">Data Fim</label>\n              <input \n                type="date" \n                id="data-fim" \n                class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:outline-none"\n              />\n            </div>\n          </div>\n\n          \x3c!-- Select de Período --\x3e\n          <div class="w-full sm:w-48">\n            <label for="periodo" class="block text-sm font-medium text-gray-700 mb-2">Período</label>\n            <select \n              id="periodo" \n              class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:outline-none"\n            >\n              <option value="">Selecione um Período</option>\n              <option value="tudo">Tudo</option>\n              <option value="hoje">Hoje</option>\n              <option value="ontem">Ontem</option>\n              <option value="anteontem">Anteontem</option>\n              <option value="esseMes">Esse Mês</option>\n              <option value="mesPassado">Mês Passado</option>\n              <option value="anoAtual">Ano Atual</option>\n            </select>\n          </div>\n\n          \x3c!-- Combo de Tipo (Manual ou Automático) --\x3e\n          <div class="w-full sm:w-48">\n            <label for="filtro-origem" class="block text-sm font-medium text-gray-700 mb-2">Origem</label>\n            <select \n              id="filtro-origem" \n              class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:outline-none"\n            >\n              <option value="">Todas</option>\n              <option value="manual">Manual</option>\n              <option value="automatico">Automático</option>\n            </select>\n          </div>\n\n          \x3c!-- Checkbox: Só com Observações --\x3e\n          <div class="flex items-center mt-2">\n            <input \n              type="checkbox" \n              id="filtro-observacoes" \n              class="mr-2 accent-[#386c6f]"\n            />\n            <label for="filtro-observacoes" class="text-sm font-medium text-gray-700">Só com observações</label>\n          </div>\n        </div>\n\n        <div class="flex space-x-4 mb-4">\n          <div class="relative group">\n            <button\n              id="toggle-visibility"\n              class="text-gray-500 hover:text-gray-700 focus:outline-none"\n            >\n              <i id="visibility-icon" class="fas fa-eye-slash"></i>\n            </button>\n            <div class="absolute hidden lg:group-hover:flex flex-col items-center -top-15 left-0 w-[13rem] bg-gray-700 text-white text-xs rounded py-1 px-2">\n              Mostrar/Ocultar Todos os Valores\n              <div class="w-2 h-2 bg-gray-700 transform rotate-45 -bottom-1"></div>\n            </div>\n          </div>\n\n          <div class="relative group">\n            <button\n              id="view-total-balance"\n              class="text-gray-500 hover:text-gray-700 focus:outline-none"\n            >\n              <i class="fas fa-wallet"></i>\n            </button>\n            <div class="absolute hidden lg:group-hover:flex flex-col items-center -top-15 left-0 w-[16rem] bg-gray-700 text-white text-xs rounded py-1 px-2">\n              Saldo Atual (Na conta + Dinheiro em Caixa)\n              <div class="w-2 h-2 bg-gray-700 transform rotate-45 -bottom-1"></div>\n            </div>\n          </div>\n        </div>\n\n        <div class="flex justify-between mb-4 md:mb-6">\n          <div class="hidden">\n            <p class="text-gray-500">Saldo Atual</p>\n            <p id="saldo-atual" class="text-xl lg:text-3xl font-semibold text-blue-500 toggle-value blur-value">R$ 00,00</p>\n            \x3c!-- <p class="text-xl lg:text-3xl font-semibold text-blue-500 toggle-value">****</p> --\x3e\n          </div>\n        </div>\n\n        <div class="grid grid-cols-3 gap-1 md:gap-4 mb-6">\n          <div class="p-1 md:p-4 bg-blue-50 border border-blue-200 rounded-md">\n            <p class="text-gray-500">Vendas a receber</p>\n            <p id="soma-vendas-receber" class="text-lg md:text-2xl font-semibold text-blue-500 toggle-value blur-value">R$ 00,00</p>\n            \x3c!-- <p class="text-2xl font-semibold text-blue-500 toggle-value">****</p> --\x3e\n          </div>\n          <div class="p-1 md:p-4 bg-green-50 border border-green-200 rounded-md">\n            <p class="text-gray-500">Entradas de dinheiro</p>\n            <p id="soma-entradas" class="text-lg md:text-2xl font-semibold text-green-500 toggle-value blur-value">R$ 00,00</p>\n            \x3c!-- <p class="text-2xl font-semibold text-green-500 toggle-value">****</p> --\x3e\n          </div>\n          <div class="p-1 md:p-4 bg-red-50 border border-red-200 rounded-md">\n            <p class="text-gray-500">Saídas de dinheiro</p>\n            <p id="soma-saidas" class="text-lg md:text-2xl font-semibold text-red-500 toggle-value blur-value">R$ 00,00</p>\n            \x3c!-- <p class="text-2xl font-semibold text-red-500 toggle-value">****</p> --\x3e\n          </div>\n        </div>\n          \n        <button\n          id="add-movimentacao"\n          class="px-4 py-2 text-sm font-medium text-white bg-primary rounded-md focus:outline-none mb-4"\n        >\n          Adicionar Movimentação\n        </button>\n\n        <div class="mb-4">\n          \x3c!-- Abas --\x3e\n          <div class="flex border-b">\n            <button\n              id="view-by-date"\n              class="px-4 py-2 text-sm font-medium text-white bg-[#386c6f] rounded-t-md focus:outline-none focus:ring-2 focus:ring-primary"\n            >\n              Por Data\n            </button>\n            <button\n              id="view-by-type"\n              class="px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-t-md focus:outline-none focus:ring-2 focus:ring-primary"\n            >\n              Por Tipo (Entrada/Saída)\n            </button>\n          </div>\n        </div>\n\n        <div id="transactions-by-date" class="mb-[6rem]">\n          <h2 class="text-xl font-semibold mb-4">Movimentações (Por Data)</h2>\n          <ul id="transactions-by-date-list" class="space-y-4">\n            '.concat(n,'\n          </ul>\n        </div>\n\n        <div id="transactions-by-type" class="hidden mb-[6rem]">\n          <h2 class="text-xl font-semibold mb-4">Movimentações (Por Tipo)</h2>\n          \n          <div class="flex flex-wrap">\n            <div class="flex-1 min-w-0 rounded-l-md py-4 pr-2">\n              <h3 class="text-lg font-medium text-green-500">Entradas</h3>\n              <ul id="transactions-by-type-inflow-list" class="space-y-2 sm:space-y-4"">\n              </ul>\n            </div>\n\n            <div class="flex-1 min-w-0 rounded-r-md py-4 pl-2">\n              <h3 class="text-lg font-medium text-red-500">Saídas</h3>\n              <ul id="transactions-by-type-outflow-list" class="space-y-2 sm:space-y-4"">\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <div id="add-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n          <div class="relative bg-white rounded shadow-lg p-6 w-[40rem]">\n            <h2 class="text-xl font-semibold mb-4">Cadastrar Movimentação</h2>\n            \n            \x3c!-- Formulário de Movimentação --\x3e\n            <form id="movimentacao-form">\n              \x3c!-- Tipo (Entrada ou Saída) - Radio buttons --\x3e\n              <div class="mb-4">\n                <label class="block text-sm font-medium text-gray-700">Tipo</label>\n                <div class="flex items-center gap-6">\n                  \x3c!-- Entrada --\x3e\n                  <label for="tipo-entrada" class="inline-flex items-center relative cursor-pointer">\n                    \x3c!-- Input escondido, mas focável --\x3e\n                    <input type="radio" id="tipo-entrada" name="tipo" value="entrada" class="sr-only peer">\n                    \x3c!-- Estilo customizado do radio --\x3e\n                    <span class="radio-custom peer-checked:bg-[#386c6f] peer-focus:ring-2 peer-focus:ring-[#386c6f] focus-within:ring-2 focus-within:ring-[#386c6f]"></span>\n                    <span class="ml-2">Entrada</span>\n                  </label>\n                  \n                  \x3c!-- Saída --\x3e\n                  <label for="tipo-saida" class="inline-flex items-center relative cursor-pointer">\n                    \x3c!-- Input escondido, mas focável --\x3e\n                    <input type="radio" id="tipo-saida" name="tipo" value="saída" class="sr-only peer">\n                    \x3c!-- Estilo customizado do radio --\x3e\n                    <span class="radio-custom peer-checked:bg-[#386c6f] peer-focus:ring-2 peer-focus:ring-[#386c6f] focus-within:ring-2 focus-within:ring-[#386c6f]"></span>\n                    <span class="ml-2">Saída</span>\n                  </label>\n                </div>\n              </div>\n\n              \x3c!-- Valor --\x3e\n              <div class="mb-4">\n                <label for="valor" class="block text-sm font-medium text-gray-700">Valor</label>\n                <input type="number" id="valor" step="0.01" class="w-full p-2 border rounded" required>\n              </div>\n\n              \x3c!-- Data --\x3e\n              <div class="mb-4">\n                <label for="data" class="block text-sm font-medium text-gray-700">Data</label>\n                <input type="date" id="data" class="w-full p-2 border rounded" required>\n              </div>\n\n              \x3c!-- Descrição --\x3e\n              <div class="mb-4">\n                <label for="descricao" class="block text-sm font-medium text-gray-700">Descrição</label>\n                <input type="text" id="descricao" class="w-full p-2 border rounded">\n              </div>\n\n              \x3c!-- Observações --\x3e\n              <div class="mb-4">\n                <label for="observacoes" class="block text-sm font-medium text-gray-700">Observações</label>\n                <textarea id="observacoes" class="w-full p-2 border rounded" rows="3"></textarea>\n              </div>\n\n              \x3c!-- Botões --\x3e\n              <div class="flex justify-between">\n                <button type="button" id="close-modal" class="px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-gray-600 focus:outline-none">\n                  Cancelar\n                </button>\n                <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-primary rounded-md focus:outline-none">\n                  Salvar\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div id="movimentacao-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">\n          <div class="bg-white rounded-lg w-[40rem] p-6 relative">\n            <button id="close-modal-movimentacao" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">\n              <i class="fa fa-times"></i>\n            </button>\n\n            <div id="conteudoModal">\n              <h2 class="text-lg font-medium mb-4">Detalhes da Movimentação</h2>\n              <div id="detalhesMovimentacao" class="max-h-[21rem] md:max-h-[20rem] lg:max-h-[30rem] overflow-y-auto space-y-4">\n              </div>\n\n              <div class="flex justify-end gap-4 mt-6">\n                <button id="editarMovimentacao" class="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">\n                  Editar\n                </button>\n                <button id="excluirMovimentacao" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">\n                  Excluir\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div id="venda-editar-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">\n          <div class="bg-white rounded-lg w-[40rem] p-6 relative">\n              <button id="close-modal-editar-venda" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">\n                <i class="fa fa-times"></i>\n              </button>\n\n              <div>\n                <h2 class="text-lg font-medium mb-4">Corrigir valor venda</h2>\n\n                <form id="venda-edit-form" class="space-y-4">\n                    <div id="venda-campos-form" class="grid grid-cols-1 gap-4">\n                    </div>\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n              </div>              \n          </div>\n        </div>\n      </div>\n    '),c=document.getElementById("view-by-date"),d=document.getElementById("view-by-type"),u=document.getElementById("transactions-by-date"),p=document.getElementById("transactions-by-type"),f=document.getElementById("saldo-atual"),g=document.getElementById("soma-vendas-receber"),v=document.getElementById("soma-entradas"),y=document.getElementById("soma-saidas"),b=document.getElementById("transactions-by-date-list"),x=document.getElementById("transactions-by-type-inflow-list"),w=document.getElementById("transactions-by-type-outflow-list"),E=document.getElementById("add-movimentacao"),L=document.getElementById("close-modal"),k=document.getElementById("add-modal"),I=document.getElementById("movimentacao-form"),B=document.getElementById("movimentacao-modal"),S=document.getElementById("close-modal-movimentacao"),j=document.getElementById("detalhesMovimentacao"),C=document.getElementById("venda-editar-modal"),P=document.getElementById("close-modal-editar-venda"),A=document.getElementById("venda-edit-form"),O=(0,r.rJ)(r.kA,"movimentacoes"),E.addEventListener("click",(function(){k.classList.remove("hidden")})),L.addEventListener("click",(function(){k.classList.add("hidden")})),c.addEventListener("click",(function(){u.classList.remove("hidden"),p.classList.add("hidden"),c.classList.replace("bg-gray-500","bg-[#386c6f]"),d.classList.replace("bg-[#386c6f]","bg-gray-500")})),d.addEventListener("click",(function(){u.classList.add("hidden"),p.classList.remove("hidden"),d.classList.replace("bg-gray-500","bg-[#386c6f]"),c.classList.replace("bg-[#386c6f]","bg-gray-500")})),S.addEventListener("click",(function(){B.classList.add("hidden")})),P.addEventListener("click",(function(){C.classList.add("hidden")})),document.getElementById("data-inicio").addEventListener("change",(function(){$()})),document.getElementById("data-fim").addEventListener("change",(function(){$()})),document.getElementById("filtro-origem").addEventListener("change",(function(){$()})),document.getElementById("filtro-observacoes").addEventListener("change",(function(){$()})),I.addEventListener("submit",function(){var e=h(m().mark((function e(t){var n,o,a,i,c,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=I.querySelector('button[type="submit"]')).disabled=!0,o=I.querySelector('input[name="tipo"]:checked').value,a=parseFloat(I.querySelector("#valor").value),i=new Date("".concat(I.querySelector("#data").value,"T12:00:00")),c=I.querySelector("#descricao").value,s=I.querySelector("#observacoes").value,e.prev=8,e.next=11,(0,r.gS)(O,{tipo:o,valor:a,data:i,descricao:c,observacoes:s});case 11:k.classList.add("hidden"),$(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log("Erro ao cadastrar movimentação: "+e.t0.message);case 18:return e.prev=18,n.disabled=!1,I.reset(),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[8,15,18,22]])})));return function(t){return e.apply(this,arguments)}}()),A.addEventListener("submit",function(){var e=h(m().mark((function e(t){var n,o,a,i,c,d,u,p;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=A.querySelector('button[type="submit"]')).disabled=!0,o=C.dataset.id,e.prev=4,a=(0,r.H9)(r.kA,"vendas",o),i={},c={tipo:"Múltiplo",opcaoEscolhida:{}},d={toalCorrigido:"#edit-valor-venda",dinheiro:"#edit-valor-dinheiro",credito:"#edit-valor-credito",parcelas:"#edit-valor-parcelas",pix:"#edit-valor-pix",debito:"#edit-valor-debito"},Object.entries(d).forEach((function(e){var t=l(e,2),n=t[0],r=t[1],o=A.querySelector(r);if(o){var a=parseFloat(o.value);isNaN(a)||("toalCorrigido"===n?i[n]=a:c.opcaoEscolhida[n]=a)}})),Object.keys(c.opcaoEscolhida).length>0&&(i.metodoPagamento=c),!(Object.keys(i).length>0)){e.next=14;break}return e.next=14,(0,r.mZ)(a,i);case 14:return C.classList.add("hidden"),$(),Z(),e.next=19,(0,r.x7)((0,r.H9)(r.kA,"vendas",o));case 19:u=e.sent,p=s({id:u.id},u.data()),K(p),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),console.log("Erro ao editar venda: "+e.t0.message);case 27:return e.prev=27,n.disabled=!1,I.reset(),e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[4,24,27,31]])})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("periodo").addEventListener("change",(function(){var e=this.value,t=document.getElementById("data-inicio"),n=document.getElementById("data-fim"),r=new Date,o=new Date(r),a=new Date(r);o.setDate(r.getDate()-1),a.setDate(r.getDate()-2);var i=new Date(r.getFullYear(),r.getMonth(),1),c=new Date(r.getFullYear(),r.getMonth()+1,0),s=new Date(r.getFullYear(),0,1),d=new Date(r.getFullYear(),11,31);switch(e){case"tudo":default:t.value="",n.value="";break;case"hoje":t.value=M(r),n.value=M(r);break;case"ontem":t.value=M(o),n.value=M(o);break;case"anteontem":t.value=M(a),n.value=M(a);break;case"esseMes":t.value=M(i),n.value=M(c);break;case"mesPassado":var l=new Date(r.getFullYear(),r.getMonth()-1,1),u=new Date(r.getFullYear(),r.getMonth(),0);t.value=M(l),n.value=M(u);break;case"anoAtual":t.value=M(s),n.value=M(d)}$()})),$(),document.getElementById("toggle-visibility").addEventListener("click",(function(){var e=document.querySelectorAll(".toggle-value"),t=document.getElementById("visibility-icon");e.forEach((function(e){e.classList.toggle("blur-value"),e.classList.toggle("visible"),e.classList.contains("blur-value")?(t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye")):(t.classList.remove("fa-eye"),t.classList.add("fa-eye-slash"))}))})),document.getElementById("view-total-balance").addEventListener("click",(function(){document.getElementById("saldo-atual").parentElement.classList.toggle("hidden")}));case 74:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}n(6115)},3263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>N});var r=n(1676),o=n(6115),a=n(4541),i=n(2758);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,s){var d=m(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==c(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,d,"Generator"),u(I,i,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var h=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")},t=[{key:"loadImage",value:(a=p(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var o=new Image;o.crossOrigin="anonymous",o.onload=function(){n.canvas.width=o.width,n.canvas.height=o.height,n.ctx.drawImage(o,0,0);var t=n.ctx.getImageData(0,0,o.width,o.height);e(t)},o.onerror=r,o.src=t})));case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"resizeImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=document.createElement("canvas"),o=r.getContext("2d");r.width=t,r.height=n;var a=new ImageData(new Uint8ClampedArray(e.data),e.width,e.height);return o.putImageData(a,0,0),o.drawImage(r,0,0,e.width,e.height,0,0,t,n),o.getImageData(0,0,t,n)}},{key:"toGrayscale",value:function(e){for(var t=e.data,n=new Uint8ClampedArray(t.length/4),r=0;r<t.length;r+=4){var o=t[r],a=t[r+1],i=t[r+2];n[r/4]=Math.round(.299*o+.587*a+.114*i)}return n}},{key:"calculateHistogram",value:function(e){for(var t=new Array(256).fill(0),n=0;n<e.length;n++)t[e[n]]++;return t}},{key:"normalizeHistogram",value:function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.map((function(e){return e/t}))}},{key:"calculateHistogramSimilarity",value:function(e,t){for(var n=e.length,r=0,o=0,a=0,i=0,c=0,s=0;s<n;s++)r+=e[s],o+=t[s],a+=e[s]*e[s],i+=t[s]*t[s],c+=e[s]*t[s];var d=c-r*o/n,l=Math.sqrt((a-r*r/n)*(i-o*o/n));return 0===l?0:d/l}},{key:"calculateMeanAbsoluteDifference",value:function(e,t){if(e.length!==t.length)throw new Error("As imagens devem ter o mesmo tamanho");for(var n=0,r=0;r<e.length;r++)n+=Math.abs(e[r]-t[r]);return n/e.length}},{key:"calculateStructuralSimilarity",value:function(e,t,n,r){for(var o=0,a=0,i=0;i<r-8;i+=8)for(var c=0;c<n-8;c+=8){var s=this.extractBlock(e,c,i,8,n),d=this.extractBlock(t,c,i,8,n);o+=this.calculateBlockSSIM(s,d),a++}return a>0?o/a:0}},{key:"extractBlock",value:function(e,t,n,r,o){for(var a=[],i=0;i<r;i++)for(var c=0;c<r;c++){var s=(n+i)*o+(t+c);a.push(e[s])}return a}},{key:"calculateBlockSSIM",value:function(e,t){for(var n=e.reduce((function(e,t){return e+t}),0)/e.length,r=t.reduce((function(e,t){return e+t}),0)/t.length,o=0,a=0,i=0,c=0;c<e.length;c++){var s=e[c]-n,d=t[c]-r;o+=s*s,a+=d*d,i+=s*d}o/=e.length,a/=t.length,i/=e.length;var l=6.5025,u=.03*255*.03*255,p=(n*n+r*r+l)*(o+a+u);return 0===p?1:(2*n*r+l)*(2*i+u)/p}},{key:"compareImages",value:(o=p(l().mark((function e(t,n){var r,o,a,i,c,s,d,u,p,m,f,h,g,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadImage(t);case 3:return r=e.sent,e.next=6,this.loadImage(n);case 6:return o=e.sent,a=this.resizeImage(r),i=this.resizeImage(o),c=this.toGrayscale(a),s=this.toGrayscale(i),d=this.normalizeHistogram(this.calculateHistogram(c)),u=this.normalizeHistogram(this.calculateHistogram(s)),p=this.calculateHistogramSimilarity(d,u),m=this.calculateMeanAbsoluteDifference(c,s),f=this.calculateStructuralSimilarity(c,s,64,64),h=Math.max(0,1-m/255),v=.4*(g=(p+1)/2)+.3*h+.3*f,e.abrupt("return",{score:Math.max(0,Math.min(1,v)),histogramSimilarity:g,meanDifference:h,structuralSimilarity:f,details:{histogramCorrelation:p,meanAbsoluteDifference:m,ssim:f}});case 22:return e.prev=22,e.t0=e.catch(0),console.error("Erro ao comparar imagens:",e.t0),e.abrupt("return",{score:0,error:e.t0.message});case 26:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e,t){return o.apply(this,arguments)})},{key:"findMostSimilarImage",value:(r=p(l().mark((function e(t,n){var r,o,a,i,c,d,u,p=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>2&&void 0!==p[2]?p[2]:.6,o=[],a=s(n),e.prev=3,a.s();case 5:if((i=a.n()).done){e.next=20;break}if(!(c=i.value).imagem){e.next=18;break}return e.prev=8,e.next=11,this.compareImages(t,c.imagem);case 11:d=e.sent,o.push({product:c,similarity:d.score,details:d.details}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.warn("Erro ao comparar com produto ".concat(c.id,":"),e.t0);case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(3),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:return o.sort((function(e,t){return t.similarity-e.similarity})),u=o.filter((function(e){return e.similarity>=r})),e.abrupt("return",{bestMatch:o[0]||null,allMatches:u,totalCompared:o.length});case 31:case"end":return e.stop()}}),e,this,[[3,22,25,28],[8,15]])}))),function(e,t){return r.apply(this,arguments)})},{key:"captureFromCamera",value:(n=p(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){try{n.canvas.width=t.videoWidth,n.canvas.height=t.videoHeight,n.ctx.drawImage(t,0,0),e(n.canvas.toDataURL("image/jpeg",.8))}catch(e){r(e)}})));case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}],t&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,a}();function g(){return v.apply(this,arguments)}function v(){return(v=p(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.mobilenetModel){e.next=2;break}return e.abrupt("return",window.mobilenetModel);case 2:if(window.tf){e.next=4;break}throw new Error("TensorFlow.js não carregado");case 4:if(window.mobilenet){e.next=6;break}throw new Error("MobileNet não carregado");case 6:return e.next=8,window.mobilenet.load();case 8:return window.mobilenetModel=e.sent,e.abrupt("return",window.mobilenetModel);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=p(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,r){var o=new window.Image;o.crossOrigin="anonymous",o.onload=p(l().mark((function t(){var r,a,i,c,s,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=window.tf.browser.fromPixels(o).toFloat(),a=window.tf.image.resizeBilinear(r,[224,224]),i=a.div(window.tf.scalar(255)),c=i.expandDims(0),s=n.infer(c,!0),t.next=7,s.data();case 7:d=t.sent,r.dispose(),a.dispose(),i.dispose(),c.dispose(),s.dispose(),e(Array.from(d));case 14:case"end":return t.stop()}}),t)}))),o.onerror=r,o.src=t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){for(var n=0,r=0,o=0,a=0;a<e.length;a++)n+=e[a]*t[a],r+=e[a]*e[a],o+=t[a]*t[a];return n/(Math.sqrt(r)*Math.sqrt(o))}function w(e,t){return E.apply(this,arguments)}function E(){return E=p(l().mark((function e(t,n){var r,o,a,i,c,d,u,p,m,f,h,g=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:.4,o=g.length>3?g[3]:void 0,e.next=4,y(t);case 4:a=e.sent,i=[],c=0,d=s(n),e.prev=8,d.s();case 10:if((u=d.n()).done){e.next=27;break}if(!(p=u.value).imagem){e.next=23;break}return e.prev=13,e.next=16,y(p.imagem);case 16:m=e.sent,f=x(a,m),i.push({product:p,similarity:f}),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:c++,o&&o(c,n.length);case 25:e.next=10;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(8),d.e(e.t1);case 32:return e.prev=32,d.f(),e.finish(32);case 35:return i.sort((function(e,t){return t.similarity-e.similarity})),h=i.filter((function(e){return e.similarity>=r})),e.abrupt("return",{bestMatch:i[0]||null,allMatches:h,totalCompared:i.length});case 38:case"end":return e.stop()}}),e,null,[[8,29,32,35],[13,21]])}))),E.apply(this,arguments)}var L=new h,k=(n(8466),n(620)),I=n.n(k);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function S(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){j=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:S(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",m="suspendedYield",f="executing",h="completed",g={};function v(){}function y(){}function b(){}var x={};d(x,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(D([])));E&&E!==n&&r.call(E,i)&&(x=E);var L=b.prototype=v.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var d=s.arg,l=d.value;return l&&"object"==B(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(l).then((function(e){d.value=e,i(d)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,n,r){var o=p;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var d=u(t,n,r);if("normal"===d.type){if(o=r.done?h:m,d.arg===g)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=h,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=u(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(B(t)+" is not iterable")}return y.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=d(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},k(I.prototype),d(I.prototype,c,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new I(l(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(L),d(L,s,"Generator"),d(L,i,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){A(a,r,o,i,c,"next",e)}function c(e){A(a,r,o,i,c,"throw",e)}i(void 0)}))}}var D=[];function N(){return M.apply(this,arguments)}function M(){return M=O(j().mark((function e(){var t,n,c,s,d,l,u,p,m,f,h,g,v,y,b,x,E,k,B,P,A,N,M,T,F,q,z,R,_,G,H,$,V,U,Y,Z,J,Q,W,X,K,ee,te,ne,re,oe,ae,ie,ce,se,de,le,ue,pe,me,fe,he,ge,ve,ye,be,xe,we,Ee,Le,ke,Ie,Be,Se,je,Ce,Pe,Ae,Oe,De,Ne,Me,Te,Fe,qe,ze,Re,_e,Ge,He,$e,Ve,Ue,Ye,Ze,Je,Qe,We,Xe,Ke,et,tt,nt,rt,ot,at,it,ct,st,dt,lt,ut,pt;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pt=function(){return(pt=O(j().mark((function e(t){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!(t.size>5242880)){e.next=6;break}return Swal.fire({icon:"error",title:"Arquivo muito grande",text:"O arquivo deve ter no máximo 5MB.",showConfirmButton:!1,timer:3e3}),e.abrupt("return");case 6:if(t.type.startsWith("image/")){e.next=9;break}return Swal.fire({icon:"error",title:"Tipo de arquivo inválido",text:"Selecione apenas arquivos de imagem (JPG, PNG, GIF).",showConfirmButton:!1,timer:3e3}),e.abrupt("return");case 9:try{(n=new FileReader).onload=function(e){we=e.target.result,pe.src=we,me.textContent=t.name,fe.textContent=Fe(t.size),ue.classList.remove("hidden"),re.src=we,ne.classList.remove("hidden"),Swal.fire({icon:"success",title:"Imagem Carregada!",text:'Clique em "Buscar Similares" para encontrar produtos.',showConfirmButton:!1,timer:2e3})},n.readAsDataURL(t)}catch(e){console.error("Erro ao processar imagem:",e),Swal.fire({icon:"error",title:"Erro ao Processar",text:"Não foi possível processar a imagem.",showConfirmButton:!1,timer:3e3})}case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},ut=function(e){return pt.apply(this,arguments)},lt=function(e){ae.classList.remove("text-primary","border-primary","bg-white"),ae.classList.add("text-gray-500","border-transparent"),ie.classList.remove("text-primary","border-primary","bg-white"),ie.classList.add("text-gray-500","border-transparent"),ce.classList.add("hidden"),se.classList.add("hidden"),"camera"===e?(ae.classList.remove("text-gray-500","border-transparent"),ae.classList.add("text-primary","border-primary","bg-white"),ce.classList.remove("hidden")):"upload"===e&&(ie.classList.remove("text-gray-500","border-transparent"),ie.classList.add("text-primary","border-primary","bg-white"),se.classList.remove("hidden"))},dt=function(){de.value="",ue.classList.add("hidden"),le.classList.remove("border-primary"),le.classList.add("border-gray-300")},st=function(){we=null,ne.classList.add("hidden"),oe.innerHTML='\n            <div class="text-center text-gray-500 py-8">\n                <i class="fas fa-search text-4xl mb-2"></i>\n                <p>Capture uma imagem ou faça upload para buscar produtos similares</p>\n            </div>\n        ',be&&(X.classList.remove("hidden"),K.classList.remove("hidden")),dt(),lt("camera")},ct=function(e,t){var n='\n            <div class="mb-4 p-3 bg-blue-50 rounded-lg">\n                <p class="text-sm text-blue-700">\n                    <i class="fas fa-info-circle mr-1"></i>\n                    Encontrados '.concat(e.allMatches.length," produtos similares (de ").concat(e.totalCompared," comparados)\n                </p>\n            </div>\n        ");e.bestMatch&&(n+='\n                <div class="mb-4 p-3 bg-green-50 border border-green-200 rounded-lg">\n                    <h4 class="font-semibold text-green-800 mb-2">\n                        <i class="fas fa-star mr-1"></i>\n                        Melhor Correspondência ('.concat(Math.round(100*e.bestMatch.similarity),'%)\n                    </h4>\n                    <div class="flex items-center space-x-3">\n                        <img src="').concat(e.bestMatch.product.imagem||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==",'" \n                             alt="').concat(e.bestMatch.product.descricao,'" \n                             class="w-16 h-16 object-cover rounded border" />\n                        <div class="flex-1">\n                            <div class="font-medium">').concat(e.bestMatch.product.descricao,'</div>\n                            <div class="text-sm text-gray-600">Cod: ').concat(e.bestMatch.product.cod,'</div>\n                            <div class="text-sm text-gray-600">Qtd: ').concat(e.bestMatch.product.qtde,'</div>\n                            <div class="text-sm font-semibold text-green-700">R$ ').concat(e.bestMatch.product.precoVenda.toFixed(2).replace(".",","),'</div>\n                        </div>\n                        <button class="bg-primary text-white px-3 py-1 rounded text-sm edit-best-match" data-product-id="').concat(e.bestMatch.product.id,'">\n                            <i class="fas fa-edit mr-1"></i>\n                            Editar\n                        </button>\n                    </div>\n                </div>\n            ')),e.allMatches.length>1&&(n+='<h4 class="font-semibold mb-2">Outros Resultados:</h4>',n+='<div class="space-y-2 max-h-64 overflow-y-auto">',e.allMatches.slice(1,6).forEach((function(e){n+='\n                    <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded">\n                        <img src="'.concat(e.product.imagem||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==",'" \n                         alt="').concat(e.product.descricao,'" \n                         class="w-12 h-12 object-cover rounded border" />\n                        <div class="flex-1">\n                            <div class="font-medium text-sm">').concat(e.product.descricao,'</div>\n                            <div class="text-xs text-gray-600">Cod: ').concat(e.product.cod," | ").concat(Math.round(100*e.similarity),'% similar</div>\n                        </div>\n                        <button class="bg-gray-500 text-white px-2 py-1 rounded text-xs edit-other-match" data-product-id="').concat(e.product.id,'">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                    </div>\n                ')})),n+="</div>"),oe.innerHTML=n},it=function(){return(it=O(j().mark((function e(){var t;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we){e.next=3;break}return Swal.fire({icon:"warning",title:"Nenhuma Imagem",text:"Capture uma imagem primeiro.",showConfirmButton:!1,timer:2e3}),e.abrupt("return");case 3:return e.prev=3,Swal.fire({title:"Buscando produtos similares (IA)...",text:"Aguarde, pode demorar na primeira vez (carregando modelo de IA)...",allowOutsideClick:!1,didOpen:function(){Swal.showLoading()}}),e.next=7,w(we,D,.7,(function(e,t){var n=Swal.getHtmlContainer();n&&(n.textContent="Comparando imagens: ".concat(e," de ").concat(t))}));case 7:t=e.sent,Swal.close(),t.bestMatch&&t.bestMatch.similarity>=.4?ct(t):oe.innerHTML='\n                    <div class="text-center text-gray-500 py-8">\n                        <i class="fas fa-exclamation-triangle text-4xl mb-2 text-yellow-500"></i>\n                        <p class="font-semibold">Nenhum produto similar encontrado</p>\n                        <p class="text-sm">Tente capturar uma imagem mais clara ou de um ângulo diferente</p>\n                    </div>\n                ',e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Erro na busca visual:",e.t0),Swal.fire({icon:"error",title:"Erro na Busca",text:"Ocorreu um erro ao buscar produtos similares.",showConfirmButton:!1,timer:3e3});case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)},at=function(){return it.apply(this,arguments)},ot=function(){return(ot=O(j().mark((function e(){var t;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=document.querySelector("#visual-camera-viewport video")){e.next=4;break}throw new Error("Câmera não está ativa");case 4:return e.next=6,L.captureFromCamera(t);case 6:we=e.sent,re.src=we,ne.classList.remove("hidden"),X.classList.add("hidden"),K.classList.add("hidden"),Swal.fire({icon:"success",title:"Imagem Capturada!",text:'Clique em "Buscar Similares" para encontrar produtos.',showConfirmButton:!1,timer:2e3}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Erro ao capturar imagem:",e.t0),Swal.fire({icon:"error",title:"Erro ao Capturar",text:"Não foi possível capturar a imagem.",showConfirmButton:!1,timer:3e3});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)},rt=function(){return ot.apply(this,arguments)},nt=function(){return(nt=O(j().mark((function e(){var t,n,r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:return(t=document.querySelector("#visual-camera-viewport"))&&(t.innerHTML=""),e.prev=4,e.next=7,navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:xe},width:{ideal:640},height:{ideal:480}}});case 7:n=e.sent,(r=document.createElement("video")).srcObject=n,r.autoplay=!0,r.playsInline=!0,r.style.width="100%",r.style.height="100%",r.style.objectFit="cover",t.appendChild(r),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&"user"!==xe||(r.style.transform="scaleX(-1)"),be=!0,X.classList.remove("hidden"),K.classList.remove("hidden"),e.next=33;break;case 24:if(e.prev=24,e.t0=e.catch(4),console.error("Erro ao inicializar câmera para busca visual:",e.t0),"environment"!==xe){e.next=32;break}return xe="user",e.next=31,tt();case 31:return e.abrupt("return");case 32:Swal.fire({icon:"error",title:"Erro ao acessar a câmera",text:"Não foi possível acessar a câmera para busca visual.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 33:case"end":return e.stop()}}),e,null,[[4,24]])})))).apply(this,arguments)},tt=function(){return nt.apply(this,arguments)},et=function(){return new Promise((function(e){try{if(be){var t=document.querySelector("#visual-camera-viewport video");t&&t.srcObject&&t.srcObject.getTracks().forEach((function(e){return e.stop()})),be=!1}var n=document.querySelector("#visual-camera-viewport");n&&(n.innerHTML='\n                        <div class="flex items-center justify-center h-full text-gray-500">\n                            <div class="text-center">\n                                <i class="fas fa-camera text-4xl mb-2"></i>\n                                <p>Câmera não iniciada</p>\n                            </div>\n                        </div>\n                    '),setTimeout(e,500)}catch(t){console.log("Aviso: Erro ao limpar a busca visual:",t),e()}}))},Ke=function(){var e=document.getElementById("product-list-cards");if(e){for(var t="",n=0;n<6;n++)t+='\n                <div class="bg-white rounded shadow p-3 flex flex-row items-center gap-4 animate-pulse">\n                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded"></div>\n                    <div class="flex flex-col flex-1 gap-2">\n                        <div class="h-4 bg-gray-200 rounded w-1/2"></div>\n                        <div class="h-3 bg-gray-100 rounded w-3/4"></div>\n                        <div class="h-3 bg-gray-100 rounded w-1/3"></div>\n                        <div class="h-3 bg-gray-100 rounded w-1/2"></div>\n                        <div class="h-8 bg-gray-200 rounded w-2/3 mt-2"></div>\n                    </div>\n                </div>\n            ';e.innerHTML=t}},Xe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||D,t=document.getElementById("total-registros-products-valor");t&&(t.innerHTML='<span class="inline-block bg-gray-200 rounded w-12 h-5 align-middle animate-pulse"></span>'),e.length!==D.length?(Ee.classList.remove("hidden"),Le.innerText=e.length):Ee.classList.add("hidden")},Fe=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},Te=function(){return(Te=O(j().mark((function e(){var t,n,r,o,a,i,c;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:return(t=document.querySelector("#interactive"))&&(t.innerHTML=""),n={inputStream:{name:"Live",type:"LiveStream",target:t,constraints:{facingMode:{exact:ye},aspectRatio:{min:1,max:2},width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"}},decoder:{readers:["ean_reader"],multiple:!1,debug:{drawBoundingBox:!0,showFrequency:!0,drawScanline:!0,showPattern:!0}},locator:{patchSize:"medium",halfSample:!0},frequency:10},e.prev=5,r=function(e){if(13!==e.length)return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n])*(n%2==0?1:3);return(10-t%10)%10===parseInt(e[12])},e.next=9,new Promise((function(e,t){I().init(n,(function(r){if(r)return console.error("Erro ao inicializar com câmera ".concat(ye,":"),r),ye="environment"===ye?"user":"environment",n.inputStream.constraints.facingMode={exact:ye},void I().init(n,(function(n){if(n)return console.error("Erro ao inicializar com câmera alternativa:",n),void t(n);e()}));e()}))}));case 9:console.log("Quagga inicializado com sucesso!"),ve=!0,I().start(),(o=t.querySelector("video"))&&(a=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),o.style.transform=a&&"user"!==ye?"scaleX(1)":"scaleX(-1)"),i=null,c=0,I().onDetected((function(e){var t=e.codeResult.code.trim();if(r(t))if(t===i){if(++c>=2){var n="edit"===window.scannerTarget?"edit-codbar":"codbar";document.getElementById(n).value=t,Ne().then((function(){U.classList.add("hidden"),new Audio("https://www.soundjay.com/buttons/sounds/button-09.mp3").play()}))}}else i=t,c=1;else console.log("Código inválido:",t)})),I().onProcessed((function(e){var t=I().canvas.ctx.overlay,n=I().canvas.dom.overlay;e&&(t.clearRect(0,0,parseInt(n.getAttribute("width")),parseInt(n.getAttribute("height"))),e.boxes&&e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){I().ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})})),e.box&&I().ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"blue",lineWidth:2}),e.codeResult&&e.codeResult.code&&I().ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))})),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),console.error("Erro ao inicializar o scanner:",e.t0),Swal.fire({icon:"error",title:"Erro ao acessar a câmera",text:"Não foi possível acessar a câmera. Verifique se você deu permissão de acesso.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),U.classList.add("hidden");case 26:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)},Me=function(){return Te.apply(this,arguments)},Ne=function(){return new Promise((function(e){try{ve&&(I().stop(),ve=!1),"function"==typeof I().offDetected&&I().offDetected(),"function"==typeof I().offProcessed&&I().offProcessed();var t=document.querySelector("#interactive");t&&(t.innerHTML=""),setTimeout(e,500)}catch(t){console.log("Aviso: Erro ao limpar o scanner, mas isso não afeta o funcionamento:",t),e()}}))},De=function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))},Oe=function(e){var t=document.getElementById("details-modal"),n=document.getElementById("details-modal-content"),r="";"admin"==p&&(r="\n                ".concat(e.fornecedor?'<div class="text-xs text-gray-500 mb-1">Fornecedor: '.concat(e.fornecedor,"</div>"):"","\n                ").concat(e.precoCusto?'<div class="text-xs text-gray-500 mb-1">Custo: R$ '.concat(e.precoCusto.toFixed(2).replace(".",","),"</div>"):"","\n            "));var o='\n            <div class="flex flex-col items-center mb-4">\n                <img src="'.concat(e.imagem||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==",'" alt="Imagem do Produto" class="w-24 h-24 object-cover rounded mb-2 border" />\n                <div class="font-bold text-xl mb-1">#').concat(e.cod," - ").concat(e.descricao,'</div>\n                <div class="text-sm text-gray-700 mb-1">Categoria: ').concat(e.categoria||"-",'</div>\n                <div class="text-sm mb-1">Qtd: <span class="font-semibold">').concat(e.qtde,'</span></div>\n                <div class="text-sm mb-1">Venda: <span class="font-semibold text-green-700">R$ ').concat(e.precoVenda.toFixed(2).replace(".",","),"</span></div>\n                ").concat(e.codbar?'<div class="text-xs text-gray-500 mb-1">Código de barras: '.concat(e.codbar,"</div>"):"","\n                ").concat(r,"\n                ").concat(e.keywords&&e.keywords.length?'<div class="text-xs text-gray-500 mb-1">Palavras-chave: '.concat(e.keywords.join(", "),"</div>"):"",'\n            </div>\n            <div class="flex gap-2 justify-center">\n                <button class="bg-yellow-500 text-white px-4 py-2 rounded editar-produto-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i> Editar</button>\n                <button class="bg-red-500 text-white px-4 py-2 rounded remover-produto-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i> Excluir</button>\n            </div>\n        ');n.innerHTML=o,t.classList.remove("hidden"),document.getElementById("close-details-modal").onclick=function(){return t.classList.add("hidden")},n.querySelector(".editar-produto-btn").onclick=function(){t.classList.add("hidden");var n=D.find((function(t){return t.id==e.id}));ke(n)},n.querySelector(".remover-produto-btn").onclick=O(j().mark((function n(){var r;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.classList.add("hidden"),(r=document.createElement("button")).setAttribute("data-id",e.id),r.className="btn-remover-produto",r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r);case 8:case"end":return n.stop()}}),n)})))},Ae=function(){return Ae=O(j().mark((function e(){var t,n,a,i=arguments;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:null,console.log("Atualizando lista de produtos (cards)..."),n=document.getElementById("product-list-cards")){e.next=5;break}return e.abrupt("return");case 5:n.innerHTML="",(a=t||D)&&((a=(0,o.wy)(a,ge.key,ge.order)).forEach((function(e){console.log(e.descricao,e.precoVenda);var t=document.createElement("div");t.className="bg-white rounded shadow p-3 flex flex-row items-center gap-4",t.innerHTML='\n                    <div class="flex-shrink-0 flex flex-col items-center justify-center">\n                        <img src="'.concat(e.imagem||'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg=="','" alt="Imagem do Produto" class="w-16 h-16 sm:w-20 sm:h-20 object-cover rounded border mb-1" />\n                        <span class="text-xs text-gray-500 mt-1">#').concat(e.cod,'</span>\n                    </div>\n                    <div class="flex flex-col flex-1 items-start w-full">\n                        <div class="text-base font-semibold text-gray-800">').concat(e.descricao,'</div>\n                        <div class="text-sm mt-1">Qtd: <span class="font-semibold">').concat(e.qtde,'</span></div>\n                        <div class="text-sm">Venda: <span class="font-semibold text-green-700">R$ ').concat(e.precoVenda.toFixed(2).replace(".",","),'</span></div>\n                        <button class="mt-3 bg-primary text-white px-3 py-1 rounded ver-detalhes-btn" data-id="').concat(e.id,'">Ver detalhes</button>\n                    </div>\n                    <div class="flex flex-col items-end gap-2 ml-auto">\n                        <button class="bg-yellow-500 text-white px-3 py-1 rounded editar-produto-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i></button>\n                        <button class="bg-red-500 text-white px-3 py-1 rounded remover-produto-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i></button>\n                    </div>\n                '),n.appendChild(t),t.querySelector(".ver-detalhes-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),n=a.find((function(e){return e.id==t}));Oe(n)})),t.querySelector(".editar-produto-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),n=a.find((function(e){return e.id==t}));ke(n)})),t.querySelector(".remover-produto-btn").addEventListener("click",function(){var e=O(j().mark((function e(t){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.currentTarget.getAttribute("data-id"),Swal.fire({title:"Tem certeza?",text:"Você não poderá reverter esta ação!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(function(){var e=O(j().mark((function e(t){var o,a,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=13;break}return o=(0,r.rJ)(r.kA,"vendas"),e.next=4,(0,r.GG)(o);case 4:if(a=e.sent,i=!1,a.forEach((function(e){e.data().produtos.some((function(e){return e.id===n}))&&(i=!0)})),!i){e.next=10;break}return Swal.fire({icon:"warning",title:"Não é possível excluir o produto!",text:"Já existem vendas com este produto.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 10:return e.next=12,(0,r.kd)((0,r.H9)(r.kA,"produtos",n));case 12:Pe();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.getElementById("total-registros-products-valor").innerText=a.length);case 8:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)},Pe=function(){return Ae.apply(this,arguments)},Ce=function(e){return e.reduce((function(e,t){return t.cod>e?t.cod:e}),-1/0)},je=function(){return(je=O(j().mark((function e(t){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("product-list-cards")&&document.getElementById("cod")){e.next=3;break}return setTimeout((function(){return Se(t)}),50),e.abrupt("return");case 3:t&&(D=t),Pe(),document.getElementById("cod").value=Ce(D)+1,n=[{name:"cod",label:"Código"},{name:"descricao",label:"Descrição"},{name:"qtde",label:"Quantidade"},{name:"precoVenda",label:"Preço de Venda"},{name:"categoria",label:"Categoria"},{name:"fornecedor",label:"Fornecedor"},{name:"keywords",label:"Palavras-chave"}],(0,o.wE)(G,n,(function(e){Pe(e),Xe(e)}),D,_,q,Ee,Le);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Se=function(e){return je.apply(this,arguments)},Be=function(e){e.dataset.key==ge.key&&"asc"==ge.order?ge.order="desc":ge.order="asc",ge.key=e.dataset.key,Pe(),H.classList.add("hidden")},Ie=function(){P.classList.add("hidden")},ke=function(e){console.log("abrir modal de edição do estoque"),document.getElementById("edit-cod").value=e.cod||"",document.getElementById("edit-codbar").value=e.codbar||"",document.getElementById("edit-descricao").value=e.descricao,document.getElementById("edit-categoria").value=e.categoria||"",document.getElementById("edit-qtde").value=e.qtde,document.getElementById("edit-preco-venda").value=e.precoVenda,document.getElementById("edit-keywords").value=e.keywords||"",e.imagem,"admin"==p&&(document.getElementById("edit-preco-custo").value=e.precoCusto,document.getElementById("edit-fornecedor").value=e.fornecedor||""),console.log(P.id),P.classList.remove("hidden"),P.setAttribute("data-id",e.id)},console.log("Estoque init inicio"),u=document.getElementById("content-dashboard"),p=null,e.prev=33,e.next=36,(0,a.k)();case 36:if(m=e.sent,ft=2,f=function(e){if(Array.isArray(e))return e}(mt=m)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(mt,ft)||C(mt,ft)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=f[0],g=f[1],!h){e.next=43;break}return window.location.hash=h,e.abrupt("return");case 43:p=g.tipo,e.next=50;break;case 46:return e.prev=46,e.t0=e.catch(33),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 50:v=7,y="",b="",x="","admin"==p&&(v+=3,y='\n        <input \n            type="text" \n            inputmode="decimal"\n            id="edit-preco-custo" \n            class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n            placeholder="Preço de Custo" \n            required\n        />\n        <input \n            type="text" \n            id="edit-fornecedor" \n            class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n            placeholder="Fornecedor"\n        />\n        ',b=(0,o.LH)("number","preco-custo","Custo (R$) *",!0,"step='0.01' pattern='[0-9]*[.,]?[0-9]*'","md:col-span-2"),x=(0,o.LH)("text","fornecedor","Fornecedor",!1,"","col-span-3")),E='\n    <form id="form-estoque" class="space-y-4">\n        <div class="grid grid-cols-3 md:grid-cols-4 gap-4">\n            <div class="col-span-1">\n                <div class="relative w-full">\n                    <input \n                        type="number" \n                        id="cod" \n                        class="peer w-full pt-4 pb-1 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                        placeholder=" " \n                        required\n                    />\n                    <label for="cod" class="absolute left-2 top-1 text-gray-500 text-xs bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-xs peer-focus:text-primary">\n                        Cod interno *\n                    </label>\n                </div>\n            </div>\n            <div class="col-span-2 md:col-span-1 flex relative w-full">\n                <input \n                    type="number" \n                    id="codbar" \n                    class="peer w-full pt-4 pb-1 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    placeholder=" " \n                />\n                <label for="codbar" class="absolute left-2 top-1 text-gray-500 text-xs bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-xs peer-focus:text-primary">\n                    Código de barras\n                </label>\n                <button \n                    type="button"\n                    id="open-scanner-modal"\n                    class="bg-primary text-white px-4 rounded-r hover:bg-primary-dark flex items-center ml-2">\n                    <i class="fas fa-barcode"></i>\n                </button>\n            </div>\n            <div class="col-span-3 md:col-span-1">\n                '.concat((0,o.LH)("text","descricao","Descrição do produto *",!0),'\n            </div>\n            <div class="col-span-3 md:col-span-1">\n                ').concat((0,o.LH)("text","categoria","Categoria do produto"),'\n            </div>\n        </div>\n        <div class="grid grid-cols-1 grid-cols-3 md:grid-cols-12 gap-4">\n            ').concat((0,o.LH)("number","qtde","Qtd estoque *",!0,"","md:col-span-2"),"\n            ").concat(b,"\n            ").concat((0,o.LH)("number","preco-venda","Venda (R$) *",!0,"step='0.01' pattern='[0-9]*[.,]?[0-9]*'","md:col-span-2"),"\n            ").concat(x,"\n            ").concat((0,o.LH)("text","keywords","Palavras-chave",!1,"","col-span-3"),'\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-1 gap-4">\n            <div class="relative">\n                <input \n                    type="file" \n                    id="imagem" \n                    accept="image/*"\n                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"\n                />\n                <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="imagem-dropzone">\n                    <img id="preview-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==" alt="Preview" class="w-8 h-8 object-cover rounded mr-2 hidden" />\n                    <div id="file-info" class="flex flex-col mr-2 hidden">\n                        <span id="file-name" class="text-xs font-medium"></span>\n                        <span id="file-size" class="text-xs text-gray-500"></span>\n                    </div>\n                    <span class="text-sm text-gray-600 whitespace-nowrap" id="upload-text">\n                        Arraste e solte ou <span class="text-primary font-medium">clique</span> (JPG, PNG, GIF)\n                    </span>\n                </div>\n            </div>\n        </div>\n        <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded">\n            Cadastrar Produto\n        </button>\n    </form>\n    '),k='<td class="border p-2 bg-gray-100 h-8"></td>'.repeat(v),'\n    <tr class="animate-pulse">\n        '.concat(k,"\n    </tr>\n    ").repeat(10),u.innerHTML='\n      <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Estoque</h1>\n\n        '.concat(E,'\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Filtrar Produtos\n        </button>\n\n        <button \n            id="open-order-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Ordenar\n        </button>\n\n        \n\n        <div id="total-registros-products" class="text-center text-gray-500 text-sm mt-2">\n            <div class="flex justify-center items-center gap-4">\n                <span>\n                    Total no estoque: <span id="total-registros-products-valor" class="font-semibold text-primary">\n                      <span class="inline-block bg-gray-200 rounded w-12 h-5 align-middle animate-pulse"></span>\n                    </span>\n                </span>\n                <span id="registros-products-filtrado" class="hidden">\n                    <i class="fas fa-filter text-primary"></i>\n                    Encontrados no filtro: <span id="registros-products-filtrado-valor" class="font-semibold text-primary">0</span>\n                </span>\n            </div>\n        </div>\n\n        \x3c!-- Lista de Produtos em Cards --\x3e\n        <div id="product-list-cards" class="mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>\n\n        \x3c!-- Modal de detalhes do produto --\x3e\n        <div id="details-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-50">\n            <div class="relative bg-white rounded shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">\n                <button id="close-details-modal" class="absolute top-2 right-2 bg-gray-300 hover:bg-red-600 hover:text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl leading-none">&times;</button>\n                <div id="details-modal-content"></div>\n            </div>\n        </div>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 md:w-[32rem] shadow-lg max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Filtrar Produtos</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>\n                    \n                    <div class="flex items-center space-x-2">\n                        <input \n                            type="checkbox" \n                            id="sem-codbar" \n                            class="w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded"\n                        >\n                        <label for="sem-codbar" class="text-sm font-medium text-gray-700">\n                            Produtos sem código de barras\n                        </label>\n                    </div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div \n            id="order-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Ordenar Produtos</h2>\n                    <div class="space-y-4 mb-4">\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="cod">\n                        Cod\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="descricao">\n                        Descrição\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="qtde">\n                        Quantidade\n                        </button>\n                    </div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-order-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="hidden bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Ordenação\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div \n            id="scanner-modal" \n            class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-[40rem] shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Escanear Código de Barras</h2>\n                <div id="interactive" class="viewport scanner-viewport"></div>\n                <div class="flex justify-end space-x-2 mt-4">\n                    <button \n                        type="button" \n                        id="switch-camera" \n                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">\n                        <i class="fas fa-camera-rotate"></i>\n                    </button>\n                    <button \n                        type="button" \n                        id="restart-scanner" \n                        class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">\n                        <i class="fas fa-sync-alt mr-2"></i>\n                        Reiniciar Câmera\n                    </button>\n                    <button \n                        type="button" \n                        id="close-scanner-modal" \n                        class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                        Fechar\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div \n            id="visual-search-modal" \n            class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-[50rem] max-h-[90vh] overflow-y-auto shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Busca Visual de Produtos</h2>\n                <p class="text-gray-600 mb-4">Capture uma imagem do produto para encontrar itens similares no estoque.</p>\n                \n                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">\n                    \x3c!-- Área de Captura/Upload --\x3e\n                    <div>\n                        <h3 class="font-semibold mb-2">Capturar ou Fazer Upload de Imagem</h3>\n                        \n                        \x3c!-- Tabs para escolher método --\x3e\n                        <div class="flex border-b border-gray-200 mb-4">\n                            <button \n                                type="button" \n                                id="tab-camera" \n                                class="px-4 py-2 text-sm font-medium text-primary border-b-2 border-primary bg-white">\n                                <i class="fas fa-camera mr-1"></i>\n                                Câmera\n                            </button>\n                            <button \n                                type="button" \n                                id="tab-upload" \n                                class="px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700">\n                                <i class="fas fa-upload mr-1"></i>\n                                Upload\n                            </button>\n                        </div>\n\n                        \x3c!-- Conteúdo da Tab Câmera --\x3e\n                        <div id="camera-content">\n                            <div id="visual-camera-viewport" class="viewport scanner-viewport bg-gray-100 rounded-lg mb-4">\n                                <div class="flex items-center justify-center h-full text-gray-500">\n                                    <div class="text-center">\n                                        <i class="fas fa-camera text-4xl mb-2"></i>\n                                        <p>Câmera não iniciada</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="flex space-x-2">\n                                <button \n                                    type="button" \n                                    id="start-visual-camera" \n                                    class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">\n                                    <i class="fas fa-play mr-2"></i>\n                                    Iniciar Câmera\n                                </button>\n                                <button \n                                    type="button" \n                                    id="capture-image" \n                                    class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 hidden">\n                                    <i class="fas fa-camera mr-2"></i>\n                                    Capturar\n                                </button>\n                                <button \n                                    type="button" \n                                    id="switch-visual-camera" \n                                    class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 hidden">\n                                    <i class="fas fa-camera-rotate"></i>\n                                </button>\n                            </div>\n                        </div>\n\n                        \x3c!-- Conteúdo da Tab Upload --\x3e\n                        <div id="upload-content" class="hidden">\n                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors duration-200 relative" id="upload-dropzone">\n                                <input \n                                    type="file" \n                                    id="visual-search-upload" \n                                    accept="image/*"\n                                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                                />\n                                <div class="flex flex-col items-center">\n                                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-2"></i>\n                                    <p class="text-gray-600 mb-1">\n                                        <span class="text-primary font-medium">Clique</span> ou arraste uma imagem aqui\n                                    </p>\n                                    <p class="text-sm text-gray-500">JPG, PNG, GIF (máx. 5MB)</p>\n                                </div>\n                            </div>\n                            \n                            \x3c!-- Preview da imagem selecionada --\x3e\n                            <div id="upload-preview-container" class="mt-4 hidden">\n                                <h4 class="font-medium mb-2">Imagem Selecionada:</h4>\n                                <div class="flex items-center space-x-3">\n                                    <img id="upload-preview" src="" alt="Preview" class="w-24 h-24 object-cover rounded border" />\n                                    <div class="flex-1">\n                                        <p id="upload-file-name" class="text-sm font-medium"></p>\n                                        <p id="upload-file-size" class="text-xs text-gray-500"></p>\n                                    </div>\n                                    <button \n                                        type="button" \n                                        id="remove-upload" \n                                        class="bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600">\n                                        <i class="fas fa-times"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    \x3c!-- Área de Resultados --\x3e\n                    <div>\n                        <h3 class="font-semibold mb-2">Resultados da Busca</h3>\n                        <div id="visual-search-results" class="space-y-3">\n                            <div class="text-center text-gray-500 py-8">\n                                <i class="fas fa-search text-4xl mb-2"></i>\n                                <p>Capture uma imagem para buscar produtos similares</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Imagem Capturada --\x3e\n                <div id="captured-image-container" class="mt-6 hidden">\n                    <h3 class="font-semibold mb-2">Imagem Capturada</h3>\n                    <div class="flex items-center space-x-4">\n                        <img id="captured-image" src="" alt="Imagem Capturada" class="w-32 h-32 object-cover rounded border" />\n                        <div>\n                            <button \n                                type="button" \n                                id="search-similar" \n                                class="bg-primary text-white px-4 py-2 rounded hover:bg-primary-dark">\n                                <i class="fas fa-search mr-2"></i>\n                                Buscar Similares\n                            </button>\n                            <button \n                                type="button" \n                                id="new-capture" \n                                class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2">\n                                <i class="fas fa-redo mr-2"></i>\n                                Nova Captura\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="flex justify-end space-x-2 mt-6">\n                    <button \n                        type="button" \n                        id="close-visual-search-modal" \n                        class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                        Fechar\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-4">\n                <button id="close-modal" \n                        class="absolute top-2 right-2 bg-gray-300 hover:bg-red-600 hover:text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl leading-none">\n                    &times;\n                </button>\n                <img id="modal-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==" alt="Imagem do Produto" class="max-w-full max-h-[80vh] object-contain">\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-[40rem] max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Editar Produto</h2>\n                <form id="edit-form" class="space-y-4">\n                    <input \n                      type="number" \n                      id="edit-cod" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Cod" \n                      required\n                    />\n                    <div class="flex gap-2 relative z-20">\n                        <div class="flex-grow">\n                            <input \n                              type="text" \n                              inputmode="numeric"\n                              pattern="[0-9]*"\n                              id="edit-codbar" \n                              class="w-full p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-primary" \n                              placeholder="Código de Barras"\n                              autocomplete="off"\n                              style="pointer-events: auto !important;"\n                            />\n                        </div>\n                        <button \n                            type="button"\n                            id="edit-open-scanner-modal"\n                            class="bg-primary text-white px-4 rounded-r hover:bg-primary-dark flex items-center z-10">\n                            <i class="fas fa-barcode"></i>\n                        </button>\n                    </div>\n                    <input \n                      type="text" \n                      id="edit-descricao" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Descrição" \n                      required\n                    />\n                    <input \n                      type="text" \n                      id="edit-categoria" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Categoria" \n                    />\n                    <input \n                        type="number" \n                        id="edit-qtde" \n                        class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                        placeholder="Quantidade" \n                        required\n                    />\n                    <input \n                        type="text"\n                        inputmode="decimal" \n                        id="edit-preco-venda" \n                        class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                        placeholder="Preço de Venda" \n                        required\n                    />\n                    ').concat(y,'\n                    <div class="relative">\n                        <input \n                            type="file" \n                            id="edit-imagem" \n                            accept="image/*"\n                            class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                        />\n                        <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="edit-imagem-dropzone">\n                            <img id="edit-preview-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==" alt="Preview" class="w-8 h-8 object-cover rounded mr-2 hidden" />\n                            <div id="edit-file-info" class="flex flex-col mr-2 hidden">\n                                <span id="edit-file-name" class="text-xs font-medium"></span>\n                                <span id="edit-file-size" class="text-xs text-gray-500"></span>\n                            </div>\n                            <span class="text-sm text-gray-600 whitespace-nowrap" id="edit-upload-text">\n                                Arraste e solte ou <span class="text-primary font-medium">clique</span> (JPG, PNG, GIF)\n                            </span>\n                        </div>\n                    </div>\n                    <input \n                      type="text" \n                      id="edit-keywords" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Palavra-chave" \n                    />\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    '),B=document.getElementById("form-estoque"),P=document.getElementById("edit-modal"),A=document.getElementById("close-edit-modal"),N=document.getElementById("edit-form"),M=(0,r.rJ)(r.kA,"produtos"),T=document.getElementById("image-modal"),document.getElementById("modal-image"),F=document.getElementById("close-modal"),q=document.getElementById("filter-modal"),z=document.getElementById("open-filter-modal"),R=document.getElementById("close-filter-modal"),_=document.getElementById("filter-form"),G=document.getElementById("filter-inputs"),H=document.getElementById("order-modal"),$=document.getElementById("open-order-modal"),V=document.getElementById("close-order-modal"),U=document.getElementById("scanner-modal"),Y=document.getElementById("open-scanner-modal"),Z=document.getElementById("close-scanner-modal"),J=document.getElementById("visual-search-modal"),Q=document.getElementById("close-visual-search-modal"),W=document.getElementById("start-visual-camera"),X=document.getElementById("capture-image"),K=document.getElementById("switch-visual-camera"),ee=document.getElementById("search-similar"),te=document.getElementById("new-capture"),ne=document.getElementById("captured-image-container"),re=document.getElementById("captured-image"),oe=document.getElementById("visual-search-results"),ae=document.getElementById("tab-camera"),ie=document.getElementById("tab-upload"),ce=document.getElementById("camera-content"),se=document.getElementById("upload-content"),de=document.getElementById("visual-search-upload"),le=document.getElementById("upload-dropzone"),ue=document.getElementById("upload-preview-container"),pe=document.getElementById("upload-preview"),me=document.getElementById("upload-file-name"),fe=document.getElementById("upload-file-size"),he=document.getElementById("remove-upload"),ge={key:"descricao",order:"asc"},ve=!1,ye="environment",be=!1,xe="environment",we=null,Ee=document.getElementById("registros-products-filtrado"),Le=document.getElementById("registros-products-filtrado-valor"),Ke(),(0,i.d)("./pages/Estoque.js",(function(e){setTimeout((function(){Se(e)}),500)})),F.addEventListener("click",(function(){T.classList.add("hidden")})),T.addEventListener("click",(function(e){e.target===T&&T.classList.add("hidden")})),A.addEventListener("click",(function(){P.classList.add("hidden")})),N.addEventListener("submit",function(){var e=O(j().mark((function e(t){var n,o,a,i,c,s,d,l,u,m,f,h,g,v,y;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=N.querySelector('button[type="submit"]')).disabled=!0,n.textContent="Salvando...",o=document.getElementById("edit-modal").dataset.id,a=document.getElementById("edit-cod").value,i=document.getElementById("edit-codbar").value,c=document.getElementById("edit-descricao").value,s=document.getElementById("edit-categoria").value,d=document.getElementById("edit-qtde").value,l=document.getElementById("edit-preco-venda").value.replace(",","."),u=document.getElementById("edit-keywords").value.split(",").map((function(e){return e.trim()})),m=document.getElementById("edit-imagem").files[0],f=null,!m){e.next=24;break}return e.prev=15,e.next=18,De(m);case 18:f=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),console.error("Erro ao converter a imagem:",e.t0);case 24:return h=(0,r.H9)(r.kA,"produtos",o),g={cod:parseInt(a),codbar:i,descricao:c,categoria:s,qtde:parseInt(d),precoVenda:parseFloat(l),keywords:u},f&&(g.imagem=f),"admin"==p&&(v=document.getElementById("edit-preco-custo").value,y=document.getElementById("edit-fornecedor").value,g.precoCusto=parseFloat(v),g.fornecedor=y),e.next=30,(0,r.mZ)(h,g);case 30:n.disabled=!1,n.textContent="Salvar Alterações",N.reset(),Ie();case 34:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(t){return e.apply(this,arguments)}}()),z.addEventListener("click",(function(){q.classList.remove("hidden");var e=G.querySelectorAll("input");e.length>0&&e[0].focus()})),R.addEventListener("click",(function(){q.classList.add("hidden")})),$.addEventListener("click",(function(){H.classList.remove("hidden")})),V.addEventListener("click",(function(){H.classList.add("hidden")})),S(H.querySelectorAll(".btn-order")).forEach((function(e){e.addEventListener("click",(function(){Be(e)}))})),B&&B.addEventListener("submit",function(){var e=O(j().mark((function e(t){var n,o,a,i,c,s,d,l,u,m,f,h,g;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=B.querySelector('button[type="submit"]')).disabled=!0,n.textContent="Cadastrando...",o=parseInt(document.getElementById("cod").value),a=document.getElementById("codbar").value,i=document.getElementById("descricao").value,c=document.getElementById("categoria").value,s=parseInt(document.getElementById("qtde").value,10),d=parseFloat(document.getElementById("preco-venda").value.replace(",",".")),l=document.getElementById("keywords").value.split(",").map((function(e){return e.trim()})),u=document.getElementById("imagem").files[0],m=null,!u){e.next=23;break}return e.prev=14,e.next=17,De(u);case 17:m=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.error("Erro ao converter a imagem:",e.t0);case 23:return f={cod:o,codbar:a,descricao:i,categoria:c,qtde:s,precoVenda:d,keywords:l,imagem:m},"admin"==p&&(h=parseFloat(document.getElementById("preco-custo").value),g=document.getElementById("fornecedor").value,f.precoCusto=parseFloat(h),f.fornecedor=g),e.prev=25,e.next=28,(0,r.gS)(M,f);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(25),console.log("Erro ao cadastrar produto: "+e.t1.message);case 33:return e.prev=33,n.disabled=!1,n.textContent="Cadastrar Produto",B.reset(),e.finish(33);case 38:case"end":return e.stop()}}),e,null,[[14,20],[25,30,33,38]])})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){}),2),Y.addEventListener("click",(function(){U.classList.remove("hidden"),setTimeout((function(){Me()}),500)})),Z.addEventListener("click",O(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:U.classList.add("hidden");case 3:case"end":return e.stop()}}),e)})))),document.getElementById("restart-scanner").addEventListener("click",O(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne();case 2:setTimeout((function(){Me()}),500);case 3:case"end":return e.stop()}}),e)})))),document.getElementById("switch-camera").addEventListener("click",O(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye="environment"===ye?"user":"environment",e.next=3,Me();case 3:case"end":return e.stop()}}),e)})))),document.getElementById("edit-open-scanner-modal").addEventListener("click",(function(){U.classList.remove("hidden"),window.scannerTarget="edit",setTimeout((function(){Me()}),500)})),qe=document.getElementById("imagem"),ze=document.getElementById("preview-image"),Re=document.getElementById("file-info"),_e=document.getElementById("file-name"),Ge=document.getElementById("file-size"),He=document.getElementById("upload-text"),$e=document.getElementById("imagem-dropzone"),qe.addEventListener("change",(function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){ze.src=e.target.result,ze.classList.remove("hidden"),Re.classList.remove("hidden"),_e.textContent=t.name,Ge.textContent=Fe(t.size),He.classList.add("hidden")},n.readAsDataURL(t)}else ze.classList.add("hidden"),Re.classList.add("hidden"),He.classList.remove("hidden")})),qe.addEventListener("focus",(function(){$e.classList.remove("border-gray-300","border-primary"),$e.classList.add("border-blue-500")})),qe.addEventListener("blur",(function(){$e.classList.remove("border-blue-500","border-primary"),$e.classList.add("border-gray-300")})),Ve=document.getElementById("edit-imagem"),Ue=document.getElementById("edit-preview-image"),Ye=document.getElementById("edit-file-info"),Ze=document.getElementById("edit-file-name"),Je=document.getElementById("edit-file-size"),Qe=document.getElementById("edit-upload-text"),We=document.getElementById("edit-imagem-dropzone"),Ve.addEventListener("change",(function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){Ue.src=e.target.result,Ue.classList.remove("hidden"),Ye.classList.remove("hidden"),Ze.textContent=t.name,Je.textContent=Fe(t.size),Qe.classList.add("hidden")},n.readAsDataURL(t)}else Ue.classList.add("hidden"),Ye.classList.add("hidden"),Qe.classList.remove("hidden")})),Ve.addEventListener("focus",(function(){We.classList.remove("border-gray-300"),We.classList.add("border-primary")})),Ve.addEventListener("blur",(function(){We.classList.remove("border-primary"),We.classList.add("border-gray-300")})),[qe,Ve].forEach((function(e){var t=e.parentElement;function n(e){e.preventDefault(),e.stopPropagation()}function r(e){t.classList.add("border-primary")}function o(e){t.classList.remove("border-primary")}["dragenter","dragover","dragleave","drop"].forEach((function(e){t.addEventListener(e,n,!1)})),["dragenter","dragover"].forEach((function(e){t.addEventListener(e,r,!1)})),["dragleave","drop"].forEach((function(e){t.addEventListener(e,o,!1)})),t.addEventListener("drop",(function(t){var n=t.dataTransfer.files;e.files=n;var r=new Event("change");e.dispatchEvent(r)}),!1)})),document.addEventListener("keydown",(function(e){var t=document.activeElement.tagName.toLowerCase();if("input"!==t&&"textarea"!==t){var n=document.getElementById("filter-modal"),r=document.getElementById("order-modal");n&&!n.classList.contains("hidden")||r&&!r.classList.contains("hidden")||(!e.shiftKey||"f"!==e.key&&"F"!==e.key||(e.preventDefault(),void 0!==z&&z.click()),!e.shiftKey||"o"!==e.key&&"O"!==e.key||(e.preventDefault(),void 0!==$&&$.click()))}})),null===(t=document.getElementById("filter-modal"))||void 0===t||t.classList.add("modal"),null===(n=document.getElementById("order-modal"))||void 0===n||n.classList.add("modal"),null===(c=document.getElementById("scanner-modal"))||void 0===c||c.classList.add("modal"),null===(s=document.getElementById("visual-search-modal"))||void 0===s||s.classList.add("modal"),null===(d=document.getElementById("image-modal"))||void 0===d||d.classList.add("modal"),null===(l=document.getElementById("edit-modal"))||void 0===l||l.classList.add("modal"),document.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||document.querySelectorAll(".modal").forEach((function(e){e.classList.contains("hidden")||e.classList.add("hidden")}))})),console.log("Estoque init fim"),Q.addEventListener("click",O(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:st(),lt("camera"),J.classList.add("hidden");case 5:case"end":return e.stop()}}),e)})))),W.addEventListener("click",(function(){tt()})),X.addEventListener("click",(function(){rt()})),K.addEventListener("click",O(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe="environment"===xe?"user":"environment",e.next=3,tt();case 3:case"end":return e.stop()}}),e)})))),ee.addEventListener("click",(function(){at()})),te.addEventListener("click",(function(){st(),se.classList.contains("hidden")&&lt("camera")})),J.addEventListener("click",(function(e){e.target===J&&Q.click()})),oe.addEventListener("click",(function(e){if(e.target.closest(".edit-best-match")||e.target.closest(".edit-other-match")){var t=(e.target.closest(".edit-best-match")||e.target.closest(".edit-other-match")).getAttribute("data-product-id"),n=D.find((function(e){return e.id===t}));n&&(J.classList.add("hidden"),ke(n))}})),ae.addEventListener("click",(function(){lt("camera")})),ie.addEventListener("click",(function(){lt("upload")})),de.addEventListener("change",(function(e){var t=e.target.files[0];t&&ut(t)})),le.addEventListener("dragover",(function(e){e.preventDefault(),le.classList.remove("border-gray-300"),le.classList.add("border-primary")})),le.addEventListener("dragleave",(function(e){e.preventDefault(),le.classList.remove("border-primary"),le.classList.add("border-gray-300")})),le.addEventListener("drop",(function(e){e.preventDefault(),le.classList.remove("border-primary"),le.classList.add("border-gray-300");var t=e.dataTransfer.files;t.length>0&&ut(t[0])})),he.addEventListener("click",(function(){dt(),we=null,ne.classList.add("hidden")}));case 178:case"end":return e.stop()}var mt,ft}),e,null,[[33,46]])}))),M.apply(this,arguments)}},1673:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>g});var r=n(1676),o=n(6115),a=n(4541),i=n(2758),c=(n(8466),n(620)),s=n.n(c);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function l(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};l(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var s=m(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==d(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),l(I,s,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}function g(){return v.apply(this,arguments)}function v(){return v=h(u().mark((function e(){var t,n,c,d,m,f,g,v,y,b,x,w,E,L,k,I,B,S,j,C,P,A,O,D,N,M,T,F,q,z,R,_,G,H,$,V,U,Y,Z,J,Q,W,X,K,ee,te,ne,re,oe,ae,ie,ce,se,de,le,ue,pe,me,fe,he,ge,ve,ye,be,xe,we,Ee;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye=function(){return(ye=h(u().mark((function e(){var t,n,r,o,a,i,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return(t=document.querySelector("#interactive"))&&(t.innerHTML=""),n={inputStream:{name:"Live",type:"LiveStream",target:t,constraints:{facingMode:{exact:ne},aspectRatio:{min:1,max:2},width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"}},decoder:{readers:["ean_reader"],multiple:!1,debug:{drawBoundingBox:!0,showFrequency:!0,drawScanline:!0,showPattern:!0}},locator:{patchSize:"medium",halfSample:!0},frequency:10},e.prev=5,r=function(e){if(13!==e.length)return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n])*(n%2==0?1:3);return(10-t%10)%10===parseInt(e[12])},e.next=9,new Promise((function(e,t){s().init(n,(function(r){if(r)return console.error("Erro ao inicializar com câmera ".concat(ne,":"),r),ne="environment"===ne?"user":"environment",n.inputStream.constraints.facingMode={exact:ne},void s().init(n,(function(n){if(n)return console.error("Erro ao inicializar com câmera alternativa:",n),void t(n);e()}));e()}))}));case 9:console.log("Quagga inicializado com sucesso!"),te=!0,s().start(),(o=t.querySelector("video"))&&(a=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),o.style.transform=a&&"user"!==ne?"scaleX(1)":"scaleX(-1)"),i=null,c=0,s().onDetected((function(e){var t=e.codeResult.code;if(r(t))if(t===i){if(++c>=2){var n="edit"===window.scannerTarget?"edit-codbar":"codbar";document.getElementById(n).value=t,ge().then((function(){W.classList.add("hidden"),new Audio("https://www.soundjay.com/buttons/sounds/button-09.mp3").play()}))}}else i=t,c=1;else console.log("Código inválido:",t)})),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(5),console.error("Erro ao inicializar o scanner:",e.t0),Swal.fire({icon:"error",title:"Erro ao acessar a câmera",text:"Não foi possível acessar a câmera. Verifique se você deu permissão de acesso.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),W.classList.add("hidden");case 25:case"end":return e.stop()}}),e,null,[[5,20]])})))).apply(this,arguments)},ve=function(){return ye.apply(this,arguments)},ge=function(){return new Promise((function(e){try{te&&(s().stop(),te=!1),"function"==typeof s().offDetected&&s().offDetected(),"function"==typeof s().offProcessed&&s().offProcessed();var t=document.querySelector("#interactive");t&&(t.innerHTML=""),setTimeout(e,500)}catch(t){console.log("Aviso: Erro ao limpar o scanner, mas isso não afeta o funcionamento:",t),e()}}))},he=function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))},fe=function(){return fe=h(u().mark((function e(){var t,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Atualizando tabela de produtos..."),(t=document.getElementById("product-table-body")).innerHTML="",O&&(n=function(e){console.log("Clicou no botão de editar produto:",e.currentTarget.dataset);var t=e.currentTarget.dataset;oe(t)},(O=(0,o.wy)(O,ee.key,ee.order)).forEach((function(e){var n=document.createElement("tr"),r="",o="";"admin"==g&&(r='\n                    <td class="border p-2">R$ '.concat(e.precoCusto?e.precoCusto.toFixed(2).replace(".",","):"","</td>\n                    "),o='\n                    <td class="border p-2">R$ '.concat((e.precoVenda-e.precoCusto).toFixed(2).replace(".",","),'</td>\n                    <td class="border p-2">').concat(e.fornecedor||"-","</td>\n                    ")),n.innerHTML='\n                    <td class="border p-2 text-center" nowrap>\n                        <button \n                            class="bg-yellow-500 text-white py-1 px-2 rounded" \n                            data-id="'.concat(e.id,'"\n                            data-cod="').concat(e.cod||"",'"\n                            data-descricao="').concat(e.descricao,'"\n                            data-categoria="').concat(e.categoria||"",'"\n                            data-qtde="').concat(e.qtde,'"\n                            data-preco-custo="').concat(e.precoCusto,'"\n                            data-preco-venda="').concat(e.precoVenda,'"\n                            data-fornecedor="').concat(e.fornecedor||"",'"\n                            data-keywords="').concat(e.keywords?e.keywords.join(","):"",'"\n                            data-imagem="').concat(e.imagem||"",'">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button data-id="').concat(e.id,'" class="btn-remover-produto bg-red-500 text-white py-1 px-2 rounded">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                    <td class="border p-2">').concat(e.cod,'</td>\n                    <td class="border p-2">').concat(e.descricao,'</td>\n                    <td class="border p-2">').concat(e.qtde,'</td>\n                    <td class="border p-2">R$ ').concat(e.precoVenda.toFixed(2).replace(".",","),"</td>\n                    ").concat(r,"\n                    ").concat(o,'\n                    <td class="border p-2">\n                        ').concat(e.codbar?'<span class="inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10">\n                                '.concat(e.codbar,"\n                            </span>"):"",'\n                    </td>\n                    <td class="border p-2">').concat(e.categoria,'</td>\n                    <td class="border p-2">\n                    ').concat(e.imagem?'<img src="'.concat(e.imagem,'" alt="Imagem do Produto" class="w-10 h-10 object-cover cursor-pointer")">'):"",'\n                    </td>\n                    <td class="border p-2">').concat(e.keywords?e.keywords.map((function(e){return'<span class="inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10">'.concat(e,"</span>")})).join(""):"","</td>\n                "),t.appendChild(n)})),l(t.querySelectorAll("img.object-cover")).forEach((function(e){e.addEventListener("click",(function(){re(e.src)}))})),a=l(t.querySelectorAll("button[data-preco-custo]")),(0,o.RT)(a,"click",n),a.forEach((function(e){e.addEventListener("click",n)}))),console.log("Atualizado tabela de produtos."),document.getElementById("total-registros-products-valor").innerText=O.length,de(),t.querySelectorAll("button[data-id].btn-remover-produto").forEach((function(e){e.addEventListener("click",function(){var e=h(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Swal.fire({title:"Tem certeza?",text:"Você não poderá reverter esta ação!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(function(){var e=h(u().mark((function e(n){var o,a,i,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=13;break}return o=t.target.closest("button[data-id].btn-remover-produto").getAttribute("data-id"),a=(0,r.rJ)(r.kA,"vendas"),e.next=5,(0,r.GG)(a);case 5:if(i=e.sent,c=!1,i.forEach((function(e){e.data().produtos.some((function(e){return e.id===o}))&&(c=!0)})),!c){e.next=11;break}return Swal.fire({icon:"warning",title:"Não é possível excluir o produto!",text:"Já existem vendas com este produto.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 11:return e.next=13,(0,r.kd)((0,r.H9)(r.kA,"produtos",o));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)},me=function(){return fe.apply(this,arguments)},pe=function(e){return e.reduce((function(e,t){return t.cod>e?t.cod:e}),-1/0)},ue=function(){return(ue=h(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(O=t),me(),document.getElementById("cod").value=pe(O)+1;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},le=function(e){return ue.apply(this,arguments)},de=function(){var e=q.querySelectorAll("tr"),t=0,n=0,r=0,o=0;e.forEach((function(e){var a={qtde:4,precoCusto:6,precoVenda:5,lucro:7,categoria:10};"admin"!=g&&(a={qtde:3,precoCusto:null,precoVenda:4,categoria:5,lucro:null});var i=null!==a.categoria&&e.querySelector("td:nth-child("+a.categoria+")").innerText||"";if("SERVIÇOS"!=i&&"serviços"!=i){var c=null!==a.qtde&&parseInt(e.querySelector("td:nth-child("+a.qtde+")").innerText)||0,s=null!==a.precoCusto&&parseFloat(e.querySelector("td:nth-child("+a.precoCusto+")").innerText.replace("R$ ","").replace(",","."))||0,d=null!==a.precoVenda&&parseFloat(e.querySelector("td:nth-child("+a.precoVenda+")").innerText.replace("R$ ","").replace(",","."))||0,l=null!==a.lucro&&parseFloat(e.querySelector("td:nth-child("+a.lucro+")").innerText.replace("R$ ","").replace(",","."))||0;t+=c,n+=s*c,r+=d*c,o+=l*c}})),document.getElementById("total-qtde").innerText=t,document.getElementById("total-preco-venda").innerText="R$ ".concat(r.toFixed(2).replace(".",",")),"admin"==g&&(document.getElementById("total-preco-custo").innerText="R$ ".concat(n.toFixed(2).replace(".",",")),document.getElementById("total-lucro").innerText="R$ ".concat(o.toFixed(2).replace(".",",")))},ie=function(e){e.dataset.key==ee.key&&"asc"==ee.order?ee.order="desc":ee.order="asc",ee.key=e.dataset.key,me(),Z.classList.add("hidden")},ae=function(){N.classList.add("hidden")},oe=function(e){console.log("abrir modal de edição do estoque"),document.getElementById("edit-cod").value=e.cod||"",document.getElementById("edit-codbar").value=e.codbar||"",document.getElementById("edit-descricao").value=e.descricao,document.getElementById("edit-categoria").value=e.categoria||"",document.getElementById("edit-qtde").value=e.qtde,document.getElementById("edit-preco-venda").value=e.precoVenda,document.getElementById("edit-keywords").value=e.keywords||"",e.imagem,"admin"==g&&(document.getElementById("edit-preco-custo").value=e.precoCusto,document.getElementById("edit-fornecedor").value=e.fornecedor||""),console.log(N.id),N.classList.remove("hidden"),N.setAttribute("data-id",e.id)},re=function(e){_.src=e,R.classList.remove("hidden")},C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="";return"number"===e&&(o+=' inputmode="numeric" pattern="[0-9]*"'),'\n        <div class="relative '.concat(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",'">\n            <input \n                type="').concat(e,'" \n                id="').concat(t,'" \n                class="peer w-full pt-4 pb-1 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                placeholder=" " \n                ').concat(r?"required":""," \n                ").concat(o,'\n            />\n            <label for="').concat(t,'" class="absolute left-2 top-1 text-gray-500 text-xs bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-xs peer-focus:text-primary">\n                ').concat(n,"\n            </label>\n        </div>")},console.log("Estoque init inicio"),f=document.getElementById("content-dashboard"),g=null,e.prev=19,e.next=22,(0,a.k)();case 22:if(v=e.sent,ke=2,y=function(e){if(Array.isArray(e))return e}(Le=v)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(Le,ke)||p(Le,ke)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=y[0],x=y[1],!b){e.next=29;break}return window.location.hash=b,e.abrupt("return");case 29:g=x.tipo,e.next=36;break;case 32:return e.prev=32,e.t0=e.catch(19),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 36:w="",E="",L=7,k="",I="",B="max-h-[25rem]",S="","admin"==g&&(w='\n        <th class="border p-2">Preço de Custo</th>\n        ',E='\n        <th class="border p-2">Lucro</th>\n        <th class="border p-2">Fornecedor</th>\n        ',L+=3,k='\n        <td class="border p-2" id="total-preco-custo" nowrap>R$ 0,00</td>\n        ',I='\n        <td class="border p-2" id="total-lucro" nowrap>R$ 0,00</td>\n        ',B="max-h-[25rem]",S='\n        <input \n            type="number" \n            step="0.01" \n            id="edit-preco-custo" \n            class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n            placeholder="Preço de Custo" \n            required\n        />\n        <input \n            type="text" \n            id="edit-fornecedor" \n            class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n            placeholder="Fornecedor"\n        />\n        ',C("number","preco-custo","Custo (R$) *",!0,"step='0.01' md:w-32"),C("text","fornecedor","Fornecedor")),j='\n    <form id="form-estoque" class="space-y-4">\n        <div class="grid grid-cols-3 md:grid-cols-4 gap-4">\n            <div class="col-span-1">\n                <div class="relative w-full">\n                    <input \n                        type="number" \n                        id="cod" \n                        class="peer w-full pt-4 pb-1 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                        placeholder=" " \n                        required\n                    />\n                    <label for="cod" class="absolute left-2 top-1 text-gray-500 text-xs bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-xs peer-focus:text-primary">\n                        Cod interno *\n                    </label>\n                </div>\n            </div>\n            <div class="col-span-2 md:col-span-1 flex relative w-full">\n                <input \n                    type="number" \n                    id="codbar" \n                    class="peer w-full pt-4 pb-1 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    placeholder=" " \n                />\n                <label for="codbar" class="absolute left-2 top-1 text-gray-500 text-xs bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-xs peer-focus:text-primary">\n                    Código de barras\n                </label>\n                <button \n                    type="button"\n                    id="open-scanner-modal"\n                    class="bg-primary text-white px-4 rounded-r hover:bg-primary-dark flex items-center ml-2">\n                    <i class="fas fa-barcode"></i>\n                </button>\n            </div>\n            <div class="col-span-3 md:col-span-1">\n                '.concat(C("text","descricao","Descrição do produto *",!0),'\n            </div>\n            <div class="col-span-3 md:col-span-1">\n                ').concat(C("text","categoria","Categoria do produto"),'\n            </div>\n        </div>\n        <div class="grid grid-cols-1 grid-cols-3 md:grid-cols-12 gap-4">\n            ').concat(C("number","qtde","Qtd estoque *",!0,"md:col-span-2"),"\n            ").concat(C("number","preco-custo","Custo (R$) *",!0,"step='0.01' md:col-span-2"),"\n            ").concat(C("number","preco-venda","Venda (R$) *",!0,"step='0.01' md:col-span-2"),"\n            ").concat(C("text","fornecedor","Fornecedor",!1,"col-span-3"),"\n            ").concat(C("text","keywords","Palavras-chave",!1,"col-span-3"),'\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-1 gap-4">\n            <div class="relative">\n                <input \n                    type="file" \n                    id="imagem" \n                    accept="image/*"\n                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                />\n                <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="imagem-dropzone">\n                    <img id="preview-image" src="" alt="Preview" class="w-8 h-8 object-cover rounded mr-2 hidden" />\n                    <div id="file-info" class="flex flex-col mr-2 hidden">\n                        <span id="file-name" class="text-xs font-medium"></span>\n                        <span id="file-size" class="text-xs text-gray-500"></span>\n                    </div>\n                    <span class="text-sm text-gray-600 whitespace-nowrap" id="upload-text">\n                        Arraste e solte ou <span class="text-primary font-medium">clique</span> (JPG, PNG, GIF)\n                    </span>\n                </div>\n            </div>\n        </div>\n        <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded">\n            Cadastrar Produto\n        </button>\n    </form>\n    '),P='<td class="border p-2 bg-gray-100 h-8"></td>'.repeat(L),A='\n    <tr class="animate-pulse">\n        '.concat(P,"\n    </tr>\n    ").repeat(10),f.innerHTML='\n      <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Estoque</h1>\n\n        '.concat(j,'\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Filtrar Produtos\n        </button>\n\n        <button \n            id="open-order-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Ordenar\n        </button>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 md:w-[32rem] shadow-lg max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Filtrar Produtos</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>\n                    \n                    <div class="flex items-center space-x-2">\n                        <input \n                            type="checkbox" \n                            id="sem-codbar" \n                            class="w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded"\n                        >\n                        <label for="sem-codbar" class="text-sm font-medium text-gray-700">\n                            Produtos sem código de barras\n                        </label>\n                    </div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div \n            id="order-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Ordenar Produtos</h2>\n                    <div class="space-y-4 mb-4">\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="cod">\n                        Cod\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="descricao">\n                        Descrição\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="qtde">\n                        Quantidade\n                        </button>\n                    </div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-order-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="hidden bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Ordenação\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div \n            id="scanner-modal" \n            class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-[40rem] shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Escanear Código de Barras</h2>\n                <div id="interactive" class="viewport scanner-viewport"></div>\n                <div class="flex justify-end space-x-2 mt-4">\n                    <button \n                        type="button" \n                        id="switch-camera" \n                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">\n                        <i class="fas fa-camera-rotate"></i>\n                    </button>\n                    <button \n                        type="button" \n                        id="restart-scanner" \n                        class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">\n                        <i class="fas fa-sync-alt mr-2"></i>\n                        Reiniciar Câmera\n                    </button>\n                    <button \n                        type="button" \n                        id="close-scanner-modal" \n                        class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                        Fechar\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- Lista de Produtos --\x3e\n        <div id="product-list" class="mt-2">\n            <div class="').concat(B,' overflow-y-auto rounded-lg">\n                <table id="product-table" class="w-full border-collapse">\n                    <thead class="sticky bg-primary text-white z-5" style="top: -1px;">\n                        <tr>\n                            <th class="border p-2">Ações</th>\n                            <th class="border p-2">Cod</th>\n                            <th class="border p-2">Descrição</th>\n                            <th class="border p-2">Quantidade</th>\n                            <th class="border p-2">Preço de Venda</th>\n                            ').concat(w,"\n                            ").concat(E,'\n                            <th class="border p-2">\n                                <div class="flex items-center justify-center gap-2">\n                                    <i class="fas fa-barcode"></i><span class="hidden">Cod de Barras</span>\n                                </div>\n                            </th>\n                            <th class="border p-2">Categoria</th>\n                            <th class="border p-2">Imagem</th>\n                            <th class="border p-2">Palavra-chave</th>\n                        </tr>\n                    </thead>\n                    <tbody id="product-table-body">\n                        ').concat(A,'\n                    </tbody>\n                    <tfoot class="sticky bg-primary text-white z-5" style="bottom: -1px;">\n                        <tr>\n                            <td class="border p-2" colspan="3">Total</td>\n                            <td class="border p-2" id="total-qtde"></td>\n                            <td class="border p-2" id="total-preco-venda" nowrap>R$ 0,00</td>\n                            ').concat(k,"\n                            ").concat(I,'\n                            <td class="border p-2" colspan="5"></td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n\n        <div id="total-registros-products" class="text-center text-gray-500 text-sm mt-2">\n            <div class="flex justify-center items-center gap-4">\n                <span>\n                    Total no estoque: <span id="total-registros-products-valor" class="font-semibold text-primary">0</span>\n                </span>\n                <span id="registros-products-filtrado" class="hidden">\n                    <i class="fas fa-filter text-primary"></i>\n                    Encontrados no filtro: <span id="registros-products-filtrado-valor" class="font-semibold text-primary">0</span>\n                </span>\n            </div>\n        </div>\n\n        <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-4">\n                <button id="close-modal" \n                        class="absolute top-2 right-2 bg-gray-300 hover:bg-red-600 hover:text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl leading-none">\n                    &times;\n                </button>\n                <img id="modal-image" src="" alt="Imagem do Produto" class="max-w-full max-h-[80vh] object-contain">\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-[40rem] max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Editar Produto</h2>\n                <form id="edit-form" class="space-y-4">\n                    <input \n                      type="number" \n                      id="edit-cod" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Cod" \n                      required\n                    />\n                    <div class="flex gap-2">\n                        <div class="flex-grow">\n                            <input \n                              type="number" \n                              id="edit-codbar" \n                              class="w-full p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-primary" \n                              placeholder="Código de Barras"\n                            />\n                        </div>\n                        <button \n                            type="button"\n                            id="edit-open-scanner-modal"\n                            class="bg-primary text-white px-4 rounded-r hover:bg-primary-dark flex items-center">\n                            <i class="fas fa-barcode"></i>\n                        </button>\n                    </div>\n                    <input \n                      type="text" \n                      id="edit-descricao" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Descrição" \n                      required\n                    />\n                    <input \n                      type="text" \n                      id="edit-categoria" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Categoria" \n                    />\n                    <input \n                        type="number" \n                        id="edit-qtde" \n                        class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                        placeholder="Quantidade" \n                        required\n                    />\n                    <input \n                        type="number" \n                        step="0.01" \n                        id="edit-preco-venda" \n                        class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                        placeholder="Preço de Venda" \n                        required\n                    />\n                    ').concat(S,'\n                    <div class="relative">\n                        <input \n                            type="file" \n                            id="edit-imagem" \n                            accept="image/*"\n                            class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                        />\n                        <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="edit-imagem-dropzone">\n                            <img id="edit-preview-image" src="" alt="Preview" class="w-8 h-8 object-cover rounded mr-2 hidden" />\n                            <div id="edit-file-info" class="flex flex-col mr-2 hidden">\n                                <span id="edit-file-name" class="text-xs font-medium"></span>\n                                <span id="edit-file-size" class="text-xs text-gray-500"></span>\n                            </div>\n                            <span class="text-sm text-gray-600 whitespace-nowrap" id="edit-upload-text">\n                                Arraste e solte ou <span class="text-primary font-medium">clique</span> (JPG, PNG, GIF)\n                            </span>\n                        </div>\n                    </div>\n                    <input \n                      type="text" \n                      id="edit-keywords" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Palavra-chave" \n                    />\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    '),O=[],D=document.getElementById("form-estoque"),N=document.getElementById("edit-modal"),M=document.getElementById("close-edit-modal"),T=document.getElementById("edit-form"),F=document.getElementById("product-table"),q=document.getElementById("product-table-body"),z=(0,r.rJ)(r.kA,"produtos"),R=document.getElementById("image-modal"),_=document.getElementById("modal-image"),G=document.getElementById("close-modal"),H=document.getElementById("filter-modal"),$=document.getElementById("open-filter-modal"),V=document.getElementById("close-filter-modal"),U=document.getElementById("filter-form"),Y=document.getElementById("filter-inputs"),Z=document.getElementById("order-modal"),J=document.getElementById("open-order-modal"),Q=document.getElementById("close-order-modal"),W=document.getElementById("scanner-modal"),X=document.getElementById("open-scanner-modal"),K=document.getElementById("close-scanner-modal"),ee={key:"descricao",order:"asc"},te=!1,ne="environment",(0,i.d)("./pages/Estoque.js",le),G.addEventListener("click",(function(){R.classList.add("hidden")})),R.addEventListener("click",(function(e){e.target===R&&R.classList.add("hidden")})),M.addEventListener("click",(function(){N.classList.add("hidden")})),T.addEventListener("submit",function(){var e=h(u().mark((function e(t){var n,o,a,i,c,s,d,l,p,m,f,h,v,y,b;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=T.querySelector('button[type="submit"]')).disabled=!0,n.textContent="Salvando...",o=document.getElementById("edit-modal").dataset.id,a=document.getElementById("edit-cod").value,i=document.getElementById("edit-codbar").value,c=document.getElementById("edit-descricao").value,s=document.getElementById("edit-categoria").value,d=document.getElementById("edit-qtde").value,l=document.getElementById("edit-preco-venda").value,p=document.getElementById("edit-keywords").value.split(",").map((function(e){return e.trim()})),m=document.getElementById("edit-imagem").files[0],f=null,!m){e.next=24;break}return e.prev=15,e.next=18,he(m);case 18:f=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),console.error("Erro ao converter a imagem:",e.t0);case 24:return h=(0,r.H9)(r.kA,"produtos",o),v={cod:parseInt(a),codbar:i,descricao:c,categoria:s,qtde:parseInt(d),precoVenda:parseFloat(l),keywords:p},f&&(v.imagem=f),"admin"==g&&(y=document.getElementById("edit-preco-custo").value,b=document.getElementById("edit-fornecedor").value,v.precoCusto=parseFloat(y),v.fornecedor=b),e.next=30,(0,r.mZ)(h,v);case 30:n.disabled=!1,n.textContent="Salvar Alterações",T.reset(),ae();case 34:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(t){return e.apply(this,arguments)}}()),$.addEventListener("click",(function(){H.classList.remove("hidden");var e=Y.querySelectorAll("input");e.length>0&&e[0].focus()})),V.addEventListener("click",(function(){H.classList.add("hidden")})),J.addEventListener("click",(function(){Z.classList.remove("hidden")})),Q.addEventListener("click",(function(){Z.classList.add("hidden")})),l(Z.querySelectorAll(".btn-order")).forEach((function(e){e.addEventListener("click",(function(){ie(e)}))})),ce=document.getElementById("registros-products-filtrado"),se=document.getElementById("registros-products-filtrado-valor"),(0,o.bi)(U,Y,F,H,ce,se),D&&D.addEventListener("submit",function(){var e=h(u().mark((function e(t){var n,o,a,i,c,s,d,l,p,m,f,h,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=D.querySelector('button[type="submit"]')).disabled=!0,n.textContent="Cadastrando...",o=parseInt(document.getElementById("cod").value),a=document.getElementById("codbar").value,i=document.getElementById("descricao").value,c=document.getElementById("categoria").value,s=parseInt(document.getElementById("qtde").value,10),d=parseFloat(document.getElementById("preco-venda").value),l=document.getElementById("keywords").value.split(",").map((function(e){return e.trim()})),p=document.getElementById("imagem").files[0],m=null,!p){e.next=23;break}return e.prev=14,e.next=17,he(p);case 17:m=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.error("Erro ao converter a imagem:",e.t0);case 23:return f={cod:o,codbar:a,descricao:i,categoria:c,qtde:s,precoVenda:d,keywords:l,imagem:m},"admin"==g&&(h=parseFloat(document.getElementById("preco-custo").value),v=document.getElementById("fornecedor").value,f.precoCusto=parseFloat(h),f.fornecedor=v),e.prev=25,e.next=28,(0,r.gS)(z,f);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(25),console.log("Erro ao cadastrar produto: "+e.t1.message);case 33:return e.prev=33,n.disabled=!1,n.textContent="Cadastrar Produto",D.reset(),e.finish(33);case 38:case"end":return e.stop()}}),e,null,[[14,20],[25,30,33,38]])})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){}),2),(0,o.E4)(F,Y,[3,4]),F.addEventListener("filterApplied",(function(){de()})),X.addEventListener("click",(function(){W.classList.remove("hidden"),setTimeout((function(){ve()}),500)})),K.addEventListener("click",h(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:W.classList.add("hidden");case 3:case"end":return e.stop()}}),e)})))),document.getElementById("restart-scanner").addEventListener("click",h(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:setTimeout((function(){ve()}),500);case 3:case"end":return e.stop()}}),e)})))),document.getElementById("switch-camera").addEventListener("click",h(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne="environment"===ne?"user":"environment",e.next=3,ve();case 3:case"end":return e.stop()}}),e)})))),document.getElementById("edit-open-scanner-modal").addEventListener("click",(function(){W.classList.remove("hidden"),window.scannerTarget="edit",setTimeout((function(){ve()}),500)})),be=document.getElementById("imagem"),document.getElementById("imagem-preview"),document.getElementById("preview-image"),document.getElementById("file-name"),document.getElementById("file-size"),xe=document.getElementById("imagem-dropzone"),be.addEventListener("focus",(function(){xe.classList.remove("border-gray-300","border-primary"),xe.classList.add("border-blue-500")})),be.addEventListener("blur",(function(){xe.classList.remove("border-blue-500","border-primary"),xe.classList.add("border-gray-300")})),we=document.getElementById("edit-imagem"),document.getElementById("edit-imagem-preview"),document.getElementById("edit-preview-image"),document.getElementById("edit-file-name"),document.getElementById("edit-file-size"),Ee=document.getElementById("edit-imagem-dropzone"),we.addEventListener("focus",(function(){Ee.classList.remove("border-gray-300"),Ee.classList.add("border-primary")})),we.addEventListener("blur",(function(){Ee.classList.remove("border-primary"),Ee.classList.add("border-gray-300")})),[be,we].forEach((function(e){var t=e.parentElement;function n(e){e.preventDefault(),e.stopPropagation()}function r(e){t.classList.add("border-primary")}function o(e){t.classList.remove("border-primary")}["dragenter","dragover","dragleave","drop"].forEach((function(e){t.addEventListener(e,n,!1)})),["dragenter","dragover"].forEach((function(e){t.addEventListener(e,r,!1)})),["dragleave","drop"].forEach((function(e){t.addEventListener(e,o,!1)})),t.addEventListener("drop",(function(t){var n=t.dataTransfer.files;e.files=n;var r=new Event("change");e.dispatchEvent(r)}),!1)})),document.addEventListener("keydown",(function(e){var t=document.activeElement.tagName.toLowerCase();if("input"!==t&&"textarea"!==t){var n=document.getElementById("filter-modal"),r=document.getElementById("order-modal");n&&!n.classList.contains("hidden")||r&&!r.classList.contains("hidden")||("f"!==e.key&&"F"!==e.key||(e.preventDefault(),void 0!==$&&$.click()),"o"!==e.key&&"O"!==e.key||(e.preventDefault(),void 0!==J&&J.click()))}})),null===(t=document.getElementById("filter-modal"))||void 0===t||t.classList.add("modal"),null===(n=document.getElementById("order-modal"))||void 0===n||n.classList.add("modal"),null===(c=document.getElementById("scanner-modal"))||void 0===c||c.classList.add("modal"),null===(d=document.getElementById("image-modal"))||void 0===d||d.classList.add("modal"),null===(m=document.getElementById("edit-modal"))||void 0===m||m.classList.add("modal"),document.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||document.querySelectorAll(".modal").forEach((function(e){e.classList.contains("hidden")||e.classList.add("hidden")}))})),console.log("Estoque init fim");case 124:case"end":return e.stop()}var Le,ke}),e,null,[[19,32]])}))),v.apply(this,arguments)}},3473:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calcularTotaisPorMetodoPagamento:()=>k,getCaixaAberto:()=>E,getFechamentosCaixa:()=>x,init:()=>D,renderizarFechamentoCaixa:()=>j,salvarFechamentoCaixa:()=>B});var r=n(1676),o=n(4541),a=n(6887),i=n(4837),c=n(6115);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(){f=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};l(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==d(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=m;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=p(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),l(I,s,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){y(a,r,o,i,c,"next",e)}function c(e){y(a,r,o,i,c,"throw",e)}i(void 0)}))}}function x(){return w.apply(this,arguments)}function w(){return w=b(f().mark((function e(){var t,n,o,i,c,s,d,l,p,h,g,v,y,b,x,w,E,L,k,I,B=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=B.length>0&&void 0!==B[0]&&B[0],n=B.length>1&&void 0!==B[1]?B[1]:{},e.prev=2,o=(0,a.xI)(),i=o.currentUser){e.next=8;break}return console.error("Usuário não está logado"),e.abrupt("return",[]);case 8:if(c=(0,r.rJ)(r.kA,"caixas"),s=[],!t){e.next=45;break}if(n.status){e.next=34;break}return d=[],n.usuarioId&&d.push((0,r._M)("usuarioId","==",n.usuarioId)),d.push((0,r._M)("status","==","fechado")),d.push((0,r.My)("dataFechamento","desc")),l=r.P.apply(void 0,[c].concat(d)),e.next=19,(0,r.GG)(l);case 19:return p=e.sent,h=p.docs.map((function(e){return u({id:e.id},e.data())})),g=[],n.usuarioId&&g.push((0,r._M)("usuarioId","==",n.usuarioId)),g.push((0,r._M)("status","==","aberto")),g.push((0,r.My)("dataAbertura","desc")),v=r.P.apply(void 0,[c].concat(g)),e.next=28,(0,r.GG)(v);case 28:y=e.sent,b=y.docs.map((function(e){return u({id:e.id},e.data())})),(s=[].concat(m(h),m(b))).sort((function(e,t){var n,r,o,a,i,c,s,d,l=(null===(n=e.dataFechamento)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||(null===(o=e.dataAbertura)||void 0===o||null===(a=o.toDate)||void 0===a?void 0:a.call(o))||new Date(0);return((null===(i=t.dataFechamento)||void 0===i||null===(c=i.toDate)||void 0===c?void 0:c.call(i))||(null===(s=t.dataAbertura)||void 0===s||null===(d=s.toDate)||void 0===d?void 0:d.call(s))||new Date(0))-l})),e.next=43;break;case 34:return x=[],n.usuarioId&&x.push((0,r._M)("usuarioId","==",n.usuarioId)),x.push((0,r._M)("status","==",n.status)),"fechado"===n.status?x.push((0,r.My)("dataFechamento","desc")):"aberto"===n.status&&x.push((0,r.My)("dataAbertura","desc")),w=r.P.apply(void 0,[c].concat(x)),e.next=41,(0,r.GG)(w);case 41:E=e.sent,s=E.docs.map((function(e){return u({id:e.id},e.data())}));case 43:e.next=53;break;case 45:return L=[(0,r._M)("usuarioId","==",i.uid)],n.status?L.push((0,r._M)("status","==",n.status)):L.push((0,r._M)("status","==","fechado")),"fechado"!==n.status&&n.status?"aberto"===n.status&&L.push((0,r.My)("dataAbertura","desc")):L.push((0,r.My)("dataFechamento","desc")),k=r.P.apply(void 0,[c].concat(L)),e.next=51,(0,r.GG)(k);case 51:I=e.sent,s=I.docs.map((function(e){return u({id:e.id},e.data())}));case 53:return e.abrupt("return",s);case 56:return e.prev=56,e.t0=e.catch(2),console.error("Erro ao buscar fechamentos:",e.t0),e.abrupt("return",[]);case 60:case"end":return e.stop()}}),e,null,[[2,56]])}))),w.apply(this,arguments)}function E(){return L.apply(this,arguments)}function L(){return(L=b(f().mark((function e(){var t,n,o,i,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=(0,a.xI)(),n=t.currentUser){e.next=6;break}return console.error("Usuário não está logado"),e.abrupt("return",null);case 6:return o=(0,r.rJ)(r.kA,"caixas"),i=(0,r.P)(o,(0,r._M)("usuarioId","==",n.uid),(0,r._M)("status","==","aberto")),e.next=10,(0,r.GG)(i);case 10:if(!(c=e.sent).empty){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",u({id:c.docs[0].id},c.docs[0].data()));case 16:return e.prev=16,e.t0=e.catch(0),console.error("Erro ao buscar caixa aberto:",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=b(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in n={dinheiro:0,pix:0,credito:0,debito:0,crediario:0,total:0},t.forEach((function(e){var t=e.totalLiquido||e.total;if(n.total+=t,"Único"===e.metodoPagamento.tipo)if("object"===d(e.metodoPagamento.opcaoEscolhida))e.metodoPagamento.opcaoEscolhida.dinheiro?n.dinheiro+=t:e.metodoPagamento.opcaoEscolhida.crediario&&(n.crediario+=t);else{var r=e.metodoPagamento.opcaoEscolhida.toLowerCase();void 0!==n[r]&&(n[r]+=t)}else if("Múltiplo"===e.metodoPagamento.tipo)for(var o=e.metodoPagamento.opcaoEscolhida,a=0,i=Object.entries(o);a<i.length;a++){var c=s(i[a],2),l=c[0],u=c[1];"parcelas"!==l&&u&&!isNaN(u)&&void 0!==n[l]&&(n[l]+=parseFloat(u))}})),n)n[r]=(0,c.xu)(n[r],2);return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return S.apply(this,arguments)}function S(){return(S=b(f().mark((function e(t){var n,o,i,c,s,d,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,a.xI)().currentUser){e.next=5;break}return e.abrupt("return",{success:!1,error:"Usuário não está logado"});case 5:if(!t.caixaId){e.next=35;break}return n=(0,r.H9)(r.kA,"caixas",t.caixaId),o={status:"fechado",dataFechamento:new Date,valorFinal:t.valorReal,diferenca:t.diferenca,valorEsperado:t.valorEsperado,observacoes:t.observacoes,quantidadeVendas:t.quantidadeVendas||0,fechamentoProgresso:null},i={},e.prev=9,c=(0,r.rJ)(r.kA,"caixas",t.caixaId,"fechamentoComprovantes"),e.next=13,(0,r.GG)(c);case 13:if(s=e.sent,d={},s.docs.forEach((function(e){var t=e.data();if(t.imagemBase64&&t.metodo){d[t.metodo]||(d[t.metodo]=[]);var n=void 0!==t.indice?t.indice:d[t.metodo].length;d[t.metodo][n]=t.imagemBase64}})),Object.keys(d).forEach((function(e){var n=d[e].filter((function(e){return void 0!==e}));n.length>0&&(t.diferencasComComprovantes&&t.diferencasComComprovantes[e]?i[e]={diferenca:t.diferencasComComprovantes[e].diferenca||0,fotos:n}:i[e]={diferenca:0,fotos:n})})),t.diferencasComComprovantes&&Object.keys(t.diferencasComComprovantes).forEach((function(e){if(!i[e]&&t.diferencasComComprovantes[e]){var n=t.diferencasComComprovantes[e];void 0!==n.diferenca&&0!==n.diferenca&&(i[e]={diferenca:n.diferenca||0,fotos:n.fotos&&Array.isArray(n.fotos)?n.fotos:[]})}})),!(s.docs.length>0)){e.next=23;break}return l=(0,r.wP)(r.kA),s.docs.forEach((function(e){l.delete(e.ref)})),e.next=23,l.commit();case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(9),console.error("Erro ao consolidar comprovantes:",e.t0),t.diferencasComComprovantes&&Object.keys(t.diferencasComComprovantes).forEach((function(e){var n=t.diferencasComComprovantes[e];n&&void 0!==n.diferenca&&0!==n.diferenca&&(i[e]={diferenca:n.diferenca||0,fotos:n.fotos&&Array.isArray(n.fotos)?n.fotos:[]})}));case 29:return Object.keys(i).length>0&&(o.diferencasComComprovantes=i),e.next=32,(0,r.mZ)(n,o);case 32:return e.abrupt("return",{success:!0,id:t.caixaId});case 35:return e.abrupt("return",{success:!1,error:"ID do caixa não fornecido"});case 36:e.next=42;break;case 38:return e.prev=38,e.t1=e.catch(0),console.error("Erro ao salvar fechamento:",e.t1),e.abrupt("return",{success:!1,error:e.t1.message});case 42:case"end":return e.stop()}}),e,null,[[0,38],[9,25]])})))).apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return(C=b(f().mark((function e(){var t,n,o,a,c,s,d,l,u,p,h,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:if(t=e.sent){e.next=8;break}return document.getElementById("sem-caixa-aberto").classList.remove("hidden"),document.getElementById("com-caixa-aberto").classList.add("hidden"),e.abrupt("return");case 8:return document.getElementById("sem-caixa-aberto").classList.add("hidden"),document.getElementById("com-caixa-aberto").classList.remove("hidden"),n=t.valorInicial||0,o={total:t.totalVendas||0,dinheiro:t.totalDinheiro||0,pix:t.totalPix||0,credito:t.totalCredito||0,debito:t.totalDebito||0,crediario:t.totalCrediario||0},e.next=14,(0,i.loadVendas)();case 14:if(a=e.sent,c=[],t.dataAbertura&&(s="function"==typeof t.dataAbertura.toDate?t.dataAbertura.toDate():t.dataAbertura,c=a.filter((function(e){return e.caixaId?e.caixaId===t.id:!!e.criadoEm&&("function"==typeof e.criadoEm.toDate?e.criadoEm.toDate():e.criadoEm)>=s}))),d=c.length,P(o,d||0,n),!t.fechamentoProgresso){e.next=42;break}if((l=t.fechamentoProgresso).valoresReais&&Object.assign(F,l.valoresReais),l.diferencasComComprovantes&&Object.assign(z,l.diferencasComComprovantes),void 0!==l.metodoAtualIndex&&null!==l.metodoAtualIndex&&(M=l.metodoAtualIndex),!l.valoresReais){e.next=41;break}u=-1,p=f().mark((function e(){var n,o,a,i,c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T[g],(o=l.valoresReais[n]||0)&&0!==o){e.next=5;break}return u=g,e.abrupt("return",0);case 5:if(a=q[n]||0,0==(i=o-a)){e.next=28;break}if(l.diferencasComComprovantes&&l.diferencasComComprovantes[n]&&l.diferencasComComprovantes[n].temComprovantes){e.next=28;break}return u=g,R=n,_=[],e.prev=13,c=(0,r.rJ)(r.kA,"caixas",t.id,"fechamentoComprovantes"),s=(0,r.P)(c,(0,r._M)("metodo","==",n),(0,r.My)("indice","asc")),e.next=18,(0,r.GG)(s);case 18:e.sent.docs.forEach((function(e){var t=e.data();t.imagemBase64&&_.push(t.imagemBase64)})),_.length>0&&(z[n]||(z[n]={diferenca:i,fotos:[]}),z[n].fotos=m(_)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(13),console.error("Erro ao carregar comprovantes:",e.t0);case 26:return setTimeout((function(){oe(n,a,o,i)}),500),e.abrupt("return",{v:void 0});case 28:case"end":return e.stop()}}),e,null,[[13,23]])})),g=0;case 28:if(!(g<T.length)){e.next=38;break}return e.delegateYield(p(),"t0",30);case 30:if(0!==(h=e.t0)){e.next=33;break}return e.abrupt("break",38);case 33:if(!h){e.next=35;break}return e.abrupt("return",h.v);case 35:g++,e.next=28;break;case 38:-1!==u&&null===R?(M=u,setTimeout((function(){ee()}),500)):-1===u&&setTimeout((function(){ce()}),500),e.next=42;break;case 41:void 0!==l.metodoAtualIndex&&null!==l.metodoAtualIndex&&(M>=T.length?setTimeout((function(){ce()}),500):setTimeout((function(){ee()}),500));case 42:document.getElementById("valor-abertura-display").textContent="R$ ".concat(t.valorInicial.toFixed(2).replace(".",",")),t.dataAbertura&&"function"==typeof t.dataAbertura.toDate?document.getElementById("data-abertura").textContent=t.dataAbertura.toDate().toLocaleString("pt-BR"):t.dataAbertura instanceof Date?document.getElementById("data-abertura").textContent=t.dataAbertura.toLocaleString("pt-BR"):document.getElementById("data-abertura").textContent="Data não disponível",document.getElementById("btn-fechar-caixa").disabled=!1,e.next=51;break;case 47:e.prev=47,e.t1=e.catch(0),console.error("Erro ao renderizar fechamento de caixa:",e.t1),Swal.fire({icon:"error",title:"Erro ao carregar dados",text:"Ocorreu um erro ao carregar os dados do fechamento.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 51:case"end":return e.stop()}}),e,null,[[0,47]])})))).apply(this,arguments)}function P(e,t,n){document.getElementById("total-vendas-valor").textContent="R$ ".concat(e.total.toFixed(2).replace(".",",")),document.getElementById("quantidade-vendas").textContent=t||0,document.getElementById("total-dinheiro").textContent="R$ ".concat((e.dinheiro+n).toFixed(2).replace(".",",")),document.getElementById("total-pix").textContent="R$ ".concat(e.pix.toFixed(2).replace(".",",")),document.getElementById("total-credito").textContent="R$ ".concat(e.credito.toFixed(2).replace(".",",")),document.getElementById("total-debito").textContent="R$ ".concat(e.debito.toFixed(2).replace(".",",")),document.getElementById("total-crediario").textContent="R$ ".concat(e.crediario.toFixed(2).replace(".",","));var r=e.total+n;document.getElementById("esperado-dinheiro").textContent="R$ ".concat((e.dinheiro+n).toFixed(2).replace(".",",")),document.getElementById("esperado-pix").textContent="R$ ".concat(e.pix.toFixed(2).replace(".",",")),document.getElementById("esperado-credito").textContent="R$ ".concat(e.credito.toFixed(2).replace(".",",")),document.getElementById("esperado-debito").textContent="R$ ".concat(e.debito.toFixed(2).replace(".",",")),document.getElementById("esperado-crediario").textContent="R$ ".concat(e.crediario.toFixed(2).replace(".",",")),document.getElementById("esperado-total").textContent="R$ ".concat(r.toFixed(2).replace(".",",")),document.getElementById("etapa-fechamento")&&function(){var e,t,n,r,o,a;Object.keys(F).forEach((function(e){return delete F[e]})),Object.keys(z).forEach((function(e){return delete z[e]})),R=null,_=[],parseFloat((null===(e=document.getElementById("valor-abertura-display"))||void 0===e?void 0:e.textContent.replace("R$ ","").replace(",","."))||"0"),q.dinheiro=parseFloat((null===(t=document.getElementById("esperado-dinheiro"))||void 0===t?void 0:t.textContent.replace("R$ ","").replace(",","."))||"0")||0,q.pix=parseFloat((null===(n=document.getElementById("esperado-pix"))||void 0===n?void 0:n.textContent.replace("R$ ","").replace(",","."))||"0")||0,q.credito=parseFloat((null===(r=document.getElementById("esperado-credito"))||void 0===r?void 0:r.textContent.replace("R$ ","").replace(",","."))||"0")||0,q.debito=parseFloat((null===(o=document.getElementById("esperado-debito"))||void 0===o?void 0:o.textContent.replace("R$ ","").replace(",","."))||"0")||0,q.crediario=parseFloat((null===(a=document.getElementById("esperado-crediario"))||void 0===a?void 0:a.textContent.replace("R$ ","").replace(",","."))||"0")||0,M=0,ee();var i=document.getElementById("btn-proximo-metodo"),c=document.getElementById("valor-real-metodo");if(i){var s=i.cloneNode(!0);i.parentNode.replaceChild(s,i),document.getElementById("btn-proximo-metodo").addEventListener("click",(function(){te()}))}c&&(c.removeEventListener("keypress",(function(){})),c.addEventListener("keypress",(function(e){"Enter"===e.key&&te()}))),function(){var e=document.getElementById("comprovante-url-diferenca"),t=document.getElementById("comprovante-file-diferenca"),n=document.getElementById("comprovante-btn-diferenca"),r=document.getElementById("comprovante-camera-diferenca"),o=document.getElementById("btn-continuar-diferenca"),a=(document.getElementById("modal-camera-diferenca"),document.getElementById("fechar-modal-camera-diferenca")),i=document.getElementById("capturar-foto-diferenca"),c=document.getElementById("cancelar-camera-diferenca");e&&(e.addEventListener("paste",function(){var t=b(f().mark((function t(n){var r,o,a,i,c,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.clipboardData.items,o=h(r),t.prev=2,o.s();case 4:if((a=o.n()).done){t.next=18;break}if(-1===(i=a.value).type.indexOf("image")){t.next=16;break}return c=i.getAsFile(),t.next=10,K(c);case 10:return s=t.sent,t.next=13,Z(s);case 13:return e.value="",n.preventDefault(),t.abrupt("break",18);case 16:t.next=4;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),o.e(t.t0);case 23:return t.prev=23,o.f(),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[2,20,23,26]])})));return function(e){return t.apply(this,arguments)}}()),e.addEventListener("input",function(){var t=b(f().mark((function t(n){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=n.target.value.trim()).startsWith("data:image/")){t.next=6;break}return t.next=4,Z(r);case 4:e.value="",n.preventDefault();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e.setAttribute("inputmode","none")),n&&n.addEventListener("click",(function(){null==t||t.click()}));var s=document.getElementById("comprovante-galeria-diferenca");s&&s.addEventListener("click",(function(){null==t||t.click()})),t&&t.addEventListener("change",function(){var e=b(f().mark((function e(t){var n,r,o,a,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.from(t.target.files),r=0,o=n;case 2:if(!(r<o.length)){e.next=13;break}if(!(a=o[r]).type.startsWith("image/")){e.next=10;break}return e.next=7,K(a);case 7:return i=e.sent,e.next=10,Z(i);case 10:r++,e.next=2;break;case 13:t.target.value="";case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r&&r.addEventListener("click",H),a&&a.addEventListener("click",V),c&&c.addEventListener("click",V),i&&i.addEventListener("click",U),o&&(o.removeEventListener("click",ae),o.addEventListener("click",ae))}()}()}function A(){return O.apply(this,arguments)}function O(){return(O=b(f().mark((function e(){var t,n,r,o,a,i,c,s,d,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:if(t=e.sent){e.next=7;break}return Swal.fire({icon:"error",title:"Sem caixa aberto",text:"Não há um caixa aberto para realizar o fechamento.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 7:if(n=document.getElementById("real-total").textContent.replace("R$ ","").replace(",","."),r=document.getElementById("esperado-total").textContent.replace("R$ ","").replace(",","."),o=parseFloat(n)||0,a=parseFloat(r)||0,i=o-a,c=document.getElementById("observacoes").value,s=parseInt(document.getElementById("quantidade-vendas").textContent)||0,!isNaN(o)){e.next=17;break}return Swal.fire({icon:"error",title:"Valor inválido",text:"Por favor, informe o valor real em caixa.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.abrupt("return");case 17:return e.next=19,Swal.fire({title:"Confirmar Fechamento de Caixa",text:"Você está prestes a registrar o fechamento do caixa. Deseja continuar?",icon:"question",showCancelButton:!0,confirmButtonText:"Sim, fechar caixa",cancelButtonText:"Cancelar"});case 19:if(e.sent.isConfirmed){e.next=22;break}return e.abrupt("return");case 22:return d={caixaId:t.id,valorAbertura:t.valorInicial,valorReal:o,valorEsperado:a,diferenca:i,observacoes:c,quantidadeVendas:s,diferencasComComprovantes:z},e.next=25,B(d);case 25:(l=e.sent).success?(Swal.fire({icon:"success",title:"Fechamento Realizado",text:"O fechamento de caixa foi registrado com sucesso!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),j()):Swal.fire({icon:"error",title:"Erro ao Fechar Caixa",text:l.error||"Ocorreu um erro ao registrar o fechamento de caixa.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),console.error("Erro ao realizar fechamento:",e.t0),Swal.fire({icon:"error",title:"Erro ao Fechar Caixa",text:"Ocorreu um erro ao processar o fechamento de caixa.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 33:case"end":return e.stop()}}),e,null,[[0,29]])})))).apply(this,arguments)}function D(){return N.apply(this,arguments)}function N(){return N=b(f().mark((function e(){var t,n,r,a,i,c,d,l,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("content-dashboard").innerHTML='\n    <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n      <h1 class="text-2xl font-bold text-gray-800 mb-4">Fechamento de Caixa</h1>\n      \n      \x3c!-- Mensagem quando não há caixa aberto --\x3e\n      <div id="sem-caixa-aberto" class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 hidden">\n        <p class="font-bold">Nenhum caixa aberto</p>\n        <p>Não há um caixa aberto para o usuário atual. Abra um caixa na página de Caixa para poder realizar o fechamento.</p>\n      </div>\n      \n      \x3c!-- Conteúdo quando há caixa aberto --\x3e\n      <div id="com-caixa-aberto" class="hidden">\n        \x3c!-- Cards lado a lado usando grid --\x3e\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">\n          \x3c!-- Informações do caixa --\x3e\n          <div class="bg-white shadow rounded-lg p-4">\n            <h2 class="text-lg font-semibold mb-3">Informações do Caixa</h2>\n            \n            <div class="grid grid-cols-2 gap-4">\n              <div>\n                <p class="text-gray-600">Data de abertura:</p>\n                <p id="data-abertura" class="text-lg font-medium">-</p>\n              </div>\n              <div>\n                <p class="text-gray-600">Valor de abertura:</p>\n                <p id="valor-abertura-display" class="text-lg font-medium">-</p>\n              </div>\n            </div>\n          </div>\n          \n          \x3c!-- Resumo das vendas --\x3e\n          <div class="bg-white shadow rounded-lg p-4">\n            <h2 class="text-lg font-semibold mb-3">Resumo das Vendas</h2>\n            \n            <div class="grid grid-cols-2 gap-4">\n              <div>\n                <p class="text-gray-600">Total de vendas:</p>\n                <p id="total-vendas-valor" class="text-xl font-bold text-green-600">R$ 0,00</p>\n              </div>\n              <div>\n                <p class="text-gray-600">Quantidade de vendas:</p>\n                <p id="quantidade-vendas" class="text-xl font-bold">0</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        \x3c!-- Etapa de fechamento por método --\x3e\n        <div id="etapa-fechamento" class="bg-white shadow rounded-lg p-6 mb-6">\n          <div class="mb-4">\n            <h2 class="text-lg font-semibold mb-2" id="etapa-titulo">Fechamento de Caixa</h2>\n            <p class="text-gray-600" id="etapa-descricao">Informe o valor real encontrado para cada método de pagamento</p>\n          </div>\n          \n          \x3c!-- Método atual sendo processado --\x3e\n          <div id="metodo-atual-container" class="space-y-4">\n            <div class="bg-gray-50 rounded-lg p-4">\n              <h3 class="text-md font-semibold text-gray-800 mb-3" id="metodo-nome">Dinheiro</h3>\n              \n              <div class="mb-4">\n                <label for="valor-real-metodo" class="block text-sm font-medium text-gray-700 mb-2">Valor real encontrado (R$)</label>\n                <input \n                  type="number" \n                  id="valor-real-metodo" \n                  class="block w-full p-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-lg"\n                  step="0.01"\n                  min="0"\n                  placeholder="0,00"\n                  inputmode="decimal"\n                  pattern="[0-9]*"\n                />\n              </div>\n              \n              \x3c!-- Resultado da comparação (mostra valor esperado e diferença) --\x3e\n              <div id="resultado-comparacao" class="hidden mt-4 p-4 rounded-lg border-2">\n                <div class="mb-3">\n                  <p class="text-sm text-gray-600 mb-1">Valor esperado:</p>\n                  <p class="text-xl font-bold text-gray-800" id="valor-esperado-metodo-resultado">R$ 0,00</p>\n                </div>\n                <div class="flex items-center justify-between mb-2">\n                  <span class="text-sm font-medium text-gray-700">Diferença:</span>\n                  <span id="diferenca-valor" class="text-xl font-bold"></span>\n                </div>\n                <p id="mensagem-resultado" class="text-sm"></p>\n              </div>\n            </div>\n          </div>\n          \n          \x3c!-- Progresso --\x3e\n          <div class="mt-6 mb-4">\n            <div class="flex items-center justify-between text-sm text-gray-600 mb-2">\n              <span>Progresso</span>\n              <span id="progresso-texto">0 / 5</span>\n            </div>\n            <div class="w-full bg-gray-200 rounded-full h-2.5">\n              <div id="progresso-barra" class="bg-primary h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>\n            </div>\n          </div>\n          \n          <div class="flex justify-end mt-6">\n            <button \n              id="btn-proximo-metodo" \n              class="bg-primary text-white px-6 py-2 rounded hover:bg-primary-dark focus:outline-none"\n            >\n              Confirmar e Próximo\n              <i class="fas fa-arrow-right ml-2"></i>\n            </button>\n          </div>\n        </div>\n\n        \x3c!-- Etapa de explicar diferença (quando houver diferença) --\x3e\n        <div id="etapa-explicar-diferenca" class="bg-white shadow rounded-lg p-6 mb-6 hidden">\n          <div class="mb-4">\n            <h2 class="text-lg font-semibold mb-2">Explicar Diferença</h2>\n            <p class="text-gray-600">Houve uma diferença no <span id="metodo-diferenca-nome" class="font-semibold">Dinheiro</span>. Por favor, anexe fotos de comprovantes para justificar a diferença.</p>\n          </div>\n          \n          <div class="bg-gray-50 rounded-lg p-4 mb-4">\n            <div class="grid grid-cols-2 gap-4 mb-4">\n              <div>\n                <p class="text-sm text-gray-600">Valor esperado:</p>\n                <p class="text-xl font-bold text-gray-800" id="diferenca-valor-esperado">R$ 0,00</p>\n              </div>\n              <div>\n                <p class="text-sm text-gray-600">Valor real:</p>\n                <p class="text-xl font-bold text-gray-800" id="diferenca-valor-real">R$ 0,00</p>\n              </div>\n            </div>\n            <div class="mt-4">\n              <p class="text-sm text-gray-600">Diferença:</p>\n              <p id="diferenca-total-exibir" class="text-2xl font-bold">R$ 0,00</p>\n            </div>\n          </div>\n          \n          <div class="mb-4">\n            <label class="block text-sm font-medium text-gray-700 mb-2">Fotos de Comprovantes</label>\n            <p class="text-xs text-gray-500 mb-2">Cole imagens (Ctrl+V) ou selecione arquivos para anexar comprovantes</p>\n            \n            \x3c!-- Área para coleção de imagens --\x3e\n            <div class="flex flex-col md:flex-row gap-2 items-stretch mb-2">\n              <input \n                type="text" \n                id="comprovante-url-diferenca" \n                class="flex-1 p-3 md:p-2 text-base md:text-sm border-2 rounded-lg md:rounded-l-lg md:rounded-r-none focus:outline-none focus:ring-2 focus:ring-primary" \n                placeholder="Cole a imagem aqui (Ctrl+V ou toque para colar)"\n              />\n              <input \n                type="file" \n                id="comprovante-file-diferenca" \n                accept="image/*" \n                class="hidden"\n                multiple\n              />\n              <div class="flex gap-2">\n                <button \n                  type="button"\n                  id="comprovante-btn-diferenca" \n                  class="bg-gray-500 text-white px-4 py-3 md:py-2 hover:bg-gray-600 focus:outline-none border-2 border-gray-300 rounded-lg md:rounded-none md:rounded-r-none flex items-center justify-center flex-1 md:flex-initial hidden md:flex"\n                >\n                  <i class="fas fa-folder-open mr-2"></i>\n                  <span class="hidden lg:inline">Arquivos</span>\n                </button>\n                <button \n                  type="button"\n                  id="comprovante-galeria-diferenca" \n                  class="bg-gray-500 text-white px-4 py-3 md:py-2 hover:bg-gray-600 focus:outline-none border-2 border-gray-300 rounded-lg md:rounded-none md:rounded-r-none flex items-center justify-center flex-1 md:hidden"\n                >\n                  <i class="fas fa-images mr-2"></i>\n                  Galeria\n                </button>\n                <button \n                  type="button"\n                  id="comprovante-camera-diferenca" \n                  class="bg-blue-500 text-white px-4 py-3 md:py-2 rounded-lg md:rounded-none md:rounded-r-lg hover:bg-blue-600 focus:outline-none border-2 border-l-0 border-gray-300 flex items-center justify-center flex-1 md:flex-initial"\n                >\n                  <i class="fas fa-camera mr-2"></i>\n                  <span class="hidden sm:inline">Câmera</span>\n                </button>\n              </div>\n            </div>\n            \n            \x3c!-- Modal para tirar foto --\x3e\n            <div id="modal-camera-diferenca" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">\n              <div class="bg-white rounded-lg p-6 max-w-2xl w-full mx-4">\n                <div class="flex justify-between items-center mb-4">\n                  <h3 class="text-lg font-semibold">Tirar Foto</h3>\n                  <button \n                    id="fechar-modal-camera-diferenca"\n                    class="text-gray-500 hover:text-gray-700 text-2xl"\n                  >\n                    <i class="fas fa-times"></i>\n                  </button>\n                </div>\n                \n                <div class="mb-4">\n                  <video \n                    id="video-camera-diferenca" \n                    autoplay \n                    playsinline\n                    class="w-full rounded-lg border-2 border-gray-300"\n                    style="max-height: 500px; object-fit: contain;"\n                  ></video>\n                  <canvas id="canvas-camera-diferenca" class="hidden"></canvas>\n                </div>\n                \n                <div class="flex justify-center gap-4">\n                  <button \n                    id="capturar-foto-diferenca"\n                    class="bg-primary text-white px-6 py-2 rounded hover:bg-primary-dark focus:outline-none"\n                  >\n                    <i class="fas fa-camera mr-2"></i>\n                    Capturar Foto\n                  </button>\n                  <button \n                    id="cancelar-camera-diferenca"\n                    class="bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600 focus:outline-none"\n                  >\n                    Cancelar\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n            \x3c!-- Preview das imagens --\x3e\n            <div id="comprovantes-preview-diferenca" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">\n              \x3c!-- Imagens serão adicionadas aqui --\x3e\n            </div>\n          </div>\n          \n          <div class="flex justify-end mt-6">\n            <button \n              id="btn-continuar-diferenca" \n              class="bg-primary text-white px-6 py-2 rounded hover:bg-primary-dark focus:outline-none"\n            >\n              Continuar\n              <i class="fas fa-arrow-right ml-2"></i>\n            </button>\n          </div>\n        </div>\n\n        \x3c!-- Etapa 2: Confirmação final e fechamento --\x3e\n        <div id="etapa-2" class="hidden">\n          \x3c!-- Valores esperados por método de pagamento --\x3e\n          \n          <div class="bg-white shadow rounded-lg p-4 mb-6 hidden">\n            <h2 class="text-lg font-semibold mb-3">Valores Esperados por Método de Pagamento</h2>\n            \n            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">\n              <div class="bg-gray-50 p-3 rounded">\n                <p class="text-gray-600">Dinheiro:</p>\n                <p id="total-dinheiro" class="text-lg font-bold">R$ 0,00</p>\n              </div>\n              <div class="bg-gray-50 p-3 rounded">\n                <p class="text-gray-600">PIX:</p>\n                <p id="total-pix" class="text-lg font-bold">R$ 0,00</p>\n              </div>\n              <div class="bg-gray-50 p-3 rounded">\n                <p class="text-gray-600">Crédito:</p>\n                <p id="total-credito" class="text-lg font-bold">R$ 0,00</p>\n              </div>\n              <div class="bg-gray-50 p-3 rounded">\n                <p class="text-gray-600">Débito:</p>\n                <p id="total-debito" class="text-lg font-bold">R$ 0,00</p>\n              </div>\n              <div class="bg-gray-50 p-3 rounded">\n                <p class="text-gray-600">Crediário:</p>\n                <p id="total-crediario" class="text-lg font-bold">R$ 0,00</p>\n              </div>\n            </div>\n          </div>\n          \n          \x3c!-- Valores esperados (ocultos, usados para cálculos) --\x3e\n          <div class="hidden">\n            <span id="esperado-dinheiro">R$ 0,00</span>\n            <span id="esperado-pix">R$ 0,00</span>\n            <span id="esperado-credito">R$ 0,00</span>\n            <span id="esperado-debito">R$ 0,00</span>\n            <span id="esperado-crediario">R$ 0,00</span>\n          </div>\n          \n          \x3c!-- Valores reais e diferenças --\x3e\n          <div class="bg-white shadow rounded-lg p-4 mb-2">\n            <h2 class="text-lg font-semibold mb-3">Valores Reais e Diferenças</h2>\n            \n            <div id="metodos-com-diferenca-container" class="grid grid-cols-1 md:grid-cols-3 gap-4">\n              \x3c!-- Métodos serão adicionados dinamicamente aqui --\x3e\n            </div>\n            \n            \x3c!-- Total sempre visível --\x3e\n            <div class="mt-4 pt-4 border-t border-gray-300">\n              <h3 class="text-md font-medium text-gray-700 mb-2">Total</h3>\n              <p class="text-gray-600">Valor esperado: <span id="esperado-total">R$ 0,00</span></p>\n              <p class="text-gray-600">Valor real: <span id="real-total">R$ 0,00</span></p>\n              <p class="font-medium">Diferença: <span id="diferenca-total" class="font-bold">R$ 0,00</span></p>\n            </div>\n          </div>\n          \n          \x3c!-- Observações e botão de fechamento --\x3e\n          <div class="bg-white shadow rounded-lg p-4 mb-6">\n            <h2 class="text-lg font-semibold mb-3">Finalizar Fechamento</h2>\n            \n            <div class="mb-4">\n              <label for="observacoes" class="block text-sm font-medium text-gray-700 mb-1">Observações</label>\n              <textarea \n                id="observacoes" \n                rows="3" \n                class="block w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n                placeholder="Registre aqui qualquer observação relevante sobre o fechamento..."\n              ></textarea>\n            </div>\n            \n            <div class="mt-6 flex justify-end">\n              <button \n                id="btn-fechar-caixa" \n                class="bg-primary text-white px-6 py-2 rounded hover:bg-primary-dark focus:outline-none"\n              >\n                Realizar Fechamento\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Histórico de fechamentos --\x3e\n      <div id="historico-fechamentos" class="bg-white shadow rounded-lg p-4 mb-4 hidden">\n        <div class="flex justify-between items-center mb-4">\n          <h2 class="text-lg font-semibold">Histórico de Fechamentos</h2>\n        </div>\n        \n        \x3c!-- Filtros --\x3e\n        <div class="mb-4 grid grid-cols-1 md:grid-cols-4 gap-4">\n          <div>\n            <label for="filtro-operador" class="block text-sm font-medium text-gray-700 mb-1">Operador</label>\n            <select \n              id="filtro-operador" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n            >\n              <option value="">Todos os operadores</option>\n            </select>\n          </div>\n          <div>\n            <label for="filtro-situacao" class="block text-sm font-medium text-gray-700 mb-1">Situação</label>\n            <select \n              id="filtro-situacao" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n            >\n              <option value="">Todos</option>\n              <option value="fechado">Fechado</option>\n              <option value="aberto">Aberto</option>\n            </select>\n          </div>\n          <div class="flex items-end gap-2">\n            <button \n              id="btn-limpar-filtros" \n              class="flex-1 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 focus:outline-none"\n            >\n              <i class="fas fa-times mr-2"></i>\n              Limpar Filtros\n            </button>\n          </div>\n          <div class="flex items-end gap-2">\n              <button \n                id="btn-excluir-selecionados" \n                class="flex-1 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 focus:outline-none disabled:bg-gray-300 disabled:cursor-not-allowed"\n                disabled\n              >\n                <i class="fas fa-trash-alt mr-2"></i>\n                Excluir Selecionados\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <div id="lista-fechamentos" class="overflow-x-auto">\n          <table class="min-w-full divide-y divide-gray-200">\n            <thead class="bg-gray-50">\n              <tr>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">\n                  <input type="checkbox" id="select-all-fechamentos" class="rounded border-gray-300 text-primary focus:ring-primary">\n                </th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data Abertura</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Data Fechamento</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operador</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Situação</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Vendas</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qtd. Vendas</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Esperado</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Real</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Diferença</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dif. Métodos</th>\n                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>\n              </tr>\n            </thead>\n            <tbody id="fechamentos-tbody" class="bg-white divide-y divide-gray-200">\n              \x3c!-- Dados serão inseridos aqui --\x3e\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      \x3c!-- Modal de Detalhes do Fechamento --\x3e\n      <div id="modal-detalhes-fechamento" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">\n        <div class="bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col">\n          <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">\n            <h2 class="text-xl font-bold text-gray-800">Detalhes do Fechamento de Caixa</h2>\n            <button id="close-modal-detalhes-fechamento" class="text-gray-500 hover:text-gray-700 text-2xl">\n              <i class="fas fa-times"></i>\n            </button>\n          </div>\n          <div id="modal-detalhes-fechamento-content" class="p-6 overflow-y-auto flex-1">\n            \x3c!-- Conteúdo será inserido aqui --\x3e\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Modal de Editar Datas do Fechamento --\x3e\n      <div id="modal-editar-fechamento" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">\n        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">\n          <div class="px-6 py-4 border-b flex justify-between items-center">\n            <h2 class="text-xl font-bold text-gray-800">Editar Datas do Caixa</h2>\n            <button id="close-modal-editar-fechamento" class="text-gray-500 hover:text-gray-700 text-2xl">\n              <i class="fas fa-times"></i>\n            </button>\n          </div>\n          <div class="p-6">\n            <form id="form-editar-fechamento">\n              <input type="hidden" id="editar-fechamento-id">\n              \n              <div class="mb-4">\n                <label for="editar-data-abertura" class="block text-sm font-medium text-gray-700 mb-2">\n                  Data de Abertura\n                </label>\n                <input \n                  type="datetime-local" \n                  id="editar-data-abertura" \n                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"\n                  required\n                >\n              </div>\n              \n              <div class="mb-4" id="container-data-fechamento">\n                <label for="editar-data-fechamento" class="block text-sm font-medium text-gray-700 mb-2">\n                  Data de Fechamento\n                </label>\n                <input \n                  type="datetime-local" \n                  id="editar-data-fechamento" \n                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"\n                >\n              </div>\n              \n              <div class="flex justify-end gap-2 mt-6">\n                <button \n                  type="button" \n                  id="cancelar-editar-fechamento"\n                  class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 focus:outline-none"\n                >\n                  Cancelar\n                </button>\n                <button \n                  type="submit" \n                  class="px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark focus:outline-none"\n                >\n                  Salvar\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  ',t=null,e.prev=3,e.next=6,(0,o.k)();case 6:if(n=e.sent,r=s(n,2),a=r[0],i=r[1],!a){e.next=13;break}return window.location.hash=a,e.abrupt("return");case 13:t=i.tipo,e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(3),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 20:if(j(),"admin"!==t){e.next=37;break}return document.getElementById("historico-fechamentos").classList.remove("hidden"),e.next=25,pe();case 25:fe(!0),document.getElementById("filtro-operador").addEventListener("change",(function(){fe(!0)})),document.getElementById("filtro-situacao").addEventListener("change",(function(){fe(!0)})),document.getElementById("btn-limpar-filtros").addEventListener("click",(function(){document.getElementById("filtro-operador").value="",document.getElementById("filtro-situacao").value="",fe(!0)})),c=document.getElementById("modal-editar-fechamento"),d=document.getElementById("close-modal-editar-fechamento"),l=document.getElementById("cancelar-editar-fechamento"),u=document.getElementById("form-editar-fechamento"),d&&d.addEventListener("click",(function(){c.classList.add("hidden")})),l&&l.addEventListener("click",(function(){c.classList.add("hidden")})),u&&u.addEventListener("submit",function(){var e=b(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ee();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c&&c.addEventListener("click",(function(e){e.target===c&&c.classList.add("hidden")}));case 37:document.getElementById("btn-fechar-caixa").addEventListener("click",b(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:case"end":return e.stop()}}),e)}))));case 38:case"end":return e.stop()}}),e,null,[[3,16]])}))),N.apply(this,arguments)}var M=0,T=["dinheiro","pix","credito","debito","crediario"],F={},q={},z={},R=null,_=[],G=null;function H(){return $.apply(this,arguments)}function $(){return($=b(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("modal-camera-diferenca"),n=document.getElementById("video-camera-diferenca"),e.prev=2,e.next=5,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});case 5:G=e.sent,n.srcObject=G,t.classList.remove("hidden"),n.play(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Erro ao acessar câmera:",e.t0),Swal.fire({icon:"error",title:"Erro ao acessar câmera",text:"Não foi possível acessar a câmera. Verifique as permissões do navegador.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function V(){var e=document.getElementById("modal-camera-diferenca"),t=document.getElementById("video-camera-diferenca");G&&(G.getTracks().forEach((function(e){return e.stop()})),G=null),t.srcObject=null,e.classList.add("hidden")}function U(){return Y.apply(this,arguments)}function Y(){return(Y=b(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("video-camera-diferenca"),(n=document.getElementById("canvas-camera-diferenca")).width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0,n.width,n.height),r=n.toDataURL("image/jpeg",.8),e.next=9,Z(r);case 9:V(),Swal.fire({icon:"success",title:"Foto capturada!",text:"A foto foi adicionada aos comprovantes.",showConfirmButton:!1,timer:1500,timerProgressBar:!0});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return J.apply(this,arguments)}function J(){return(J=b(f().mark((function e(t){var n,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_.length,_.push(t),X(),!R){e.next=19;break}return e.prev=4,e.next=7,E();case 7:if(!(o=e.sent)){e.next=13;break}return a=(0,r.rJ)(r.kA,"caixas",o.id,"fechamentoComprovantes"),e.next=12,(0,r.gS)(a,{metodo:R,imagemBase64:t,criadoEm:new Date,indice:n});case 12:console.log("Comprovante salvo: método ".concat(R,", índice ").concat(n));case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("Erro ao salvar comprovante:",e.t0),Swal.fire({icon:"error",title:"Erro ao salvar imagem",text:"Não foi possível salvar a imagem: ".concat(e.t0.message||"Erro desconhecido"),showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 19:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function Q(e){return W.apply(this,arguments)}function W(){return(W=b(f().mark((function e(t){var n,o,a,i,c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.splice(t,1),X(),!R){e.next=26;break}return e.prev=3,e.next=6,E();case 6:if(!(n=e.sent)){e.next=21;break}return o=(0,r.rJ)(r.kA,"caixas",n.id,"fechamentoComprovantes"),a=(0,r.P)(o,(0,r._M)("metodo","==",R),(0,r.My)("criadoEm","asc")),e.next=12,(0,r.GG)(a);case 12:if(i=e.sent,!(c=i.docs)[t]){e.next=17;break}return e.next=17,(0,r.kd)((0,r.H9)(r.kA,"caixas",n.id,"fechamentoComprovantes",c[t].id));case 17:return s=(0,r.wP)(r.kA),c.forEach((function(e,o){if(o!==t){var a=o>t?o-1:o,i=(0,r.H9)(r.kA,"caixas",n.id,"fechamentoComprovantes",e.id);s.update(i,{indice:a})}})),e.next=21,s.commit();case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),console.error("Erro ao remover comprovante:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[3,23]])})))).apply(this,arguments)}function X(){var e=document.getElementById("comprovantes-preview-diferenca");e.innerHTML="",_.forEach((function(t,n){var r=document.createElement("div");r.className="relative group",r.innerHTML='\n      <img src="'.concat(t,'" class="w-full h-32 object-cover rounded border-2 border-gray-300 cursor-pointer" />\n      <button \n        type="button"\n        onclick="removerComprovanteDiferencaPorIndex(').concat(n,')"\n        class="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"\n      >\n        <i class="fas fa-times text-xs"></i>\n      </button>\n    '),e.appendChild(r)}))}function K(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.onerror=n,r.readAsDataURL(e)}))}function ee(){var e=T[M];document.getElementById("metodo-nome").textContent={dinheiro:"Dinheiro",pix:"PIX",credito:"Cartão de Crédito",debito:"Cartão de Débito",crediario:"Crediário"}[e],document.getElementById("valor-real-metodo").value=F[e]||"",document.getElementById("valor-real-metodo").focus(),document.getElementById("resultado-comparacao").classList.add("hidden");var t=(M+1)/T.length*100;document.getElementById("progresso-barra").style.width="".concat(t,"%"),document.getElementById("progresso-texto").textContent="".concat(M+1," / ").concat(T.length),M===T.length-1?document.getElementById("btn-proximo-metodo").innerHTML='Finalizar <i class="fas fa-check ml-2"></i>':document.getElementById("btn-proximo-metodo").innerHTML='Confirmar e Próximo <i class="fas fa-arrow-right ml-2"></i>'}function te(){return ne.apply(this,arguments)}function ne(){return(ne=b(f().mark((function e(){var t,n,r,o,a,i,c,s,d,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T[M],n=document.getElementById("valor-real-metodo"),r=parseFloat(n.value),!(isNaN(r)||r<0)){e.next=7;break}return Swal.fire({icon:"warning",title:"Valor inválido",text:"Por favor, informe o valor real encontrado para este método.",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),n.focus(),e.abrupt("return");case 7:return F[t]=isNaN(r)?0:r,o=q[t]||0,a=F[t]-o,i=document.getElementById("resultado-comparacao"),c=document.getElementById("valor-esperado-metodo-resultado"),s=document.getElementById("diferenca-valor"),d=document.getElementById("mensagem-resultado"),c.textContent="R$ ".concat(o.toFixed(2).replace(".",",")),i.classList.remove("hidden"),0===a?(i.className="mt-4 p-4 rounded-lg border-2 border-green-500 bg-green-50",s.textContent="R$ ".concat(a.toFixed(2).replace(".",",")),s.className="text-xl font-bold text-green-600",d.textContent="✓ Valor bateu com o esperado!",d.className="text-sm text-green-700"):a>0?(i.className="mt-4 p-4 rounded-lg border-2 border-yellow-500 bg-yellow-50",s.textContent="+ R$ ".concat(a.toFixed(2).replace(".",",")),s.className="text-xl font-bold text-yellow-600",d.textContent="⚠ Valor real é maior que o esperado em R$ ".concat(a.toFixed(2).replace(".",",")),d.className="text-sm text-yellow-700"):(i.className="mt-4 p-4 rounded-lg border-2 border-red-500 bg-red-50",s.textContent="R$ ".concat(a.toFixed(2).replace(".",",")),s.className="text-xl font-bold text-red-600",d.textContent="⚠ Valor real é menor que o esperado em R$ ".concat(Math.abs(a).toFixed(2).replace(".",",")),d.className="text-sm text-red-700"),e.next=19,E();case 19:if(!(l=e.sent)){e.next=23;break}return e.next=23,de(l.id,F,z,M);case 23:0!==a?(R=t,_=[],setTimeout((function(){oe(t,o,F[t],a)}),1500)):setTimeout((function(){re()}),1500);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){M<T.length-1?(M++,ee()):ce()}function oe(e,t,n,r){document.getElementById("metodo-diferenca-nome").textContent={dinheiro:"Dinheiro",pix:"PIX",credito:"Cartão de Crédito",debito:"Cartão de Débito",crediario:"Crediário"}[e],document.getElementById("diferenca-valor-esperado").textContent="R$ ".concat(t.toFixed(2).replace(".",",")),document.getElementById("diferenca-valor-real").textContent="R$ ".concat(n.toFixed(2).replace(".",","));var o=document.getElementById("diferenca-total-exibir");r>0?(o.textContent="+ R$ ".concat(r.toFixed(2).replace(".",",")),o.className="text-2xl font-bold text-yellow-600"):(o.textContent="R$ ".concat(r.toFixed(2).replace(".",",")),o.className="text-2xl font-bold text-red-600"),z[e]&&z[e].fotos?(_=m(z[e].fotos),X()):(_=[],document.getElementById("comprovantes-preview-diferenca").innerHTML=""),document.getElementById("comprovante-url-diferenca").value="",document.getElementById("comprovante-file-diferenca").value="",document.getElementById("etapa-fechamento").classList.add("hidden"),document.getElementById("etapa-explicar-diferenca").classList.remove("hidden"),document.getElementById("comprovante-url-diferenca").focus()}function ae(){return ie.apply(this,arguments)}function ie(){return(ie=b(f().mark((function e(){var t,n,o,a,i,c,s,d,l,u,p,g,v,y,b,x,w,L,k;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(),t=document.getElementById("btn-continuar-diferenca"),n=t.innerHTML,e.prev=3,t.disabled=!0,t.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Continuando...',z[R]={diferenca:F[R]-q[R],fotos:m(_)},!((o=_.length)>0)){e.next=52;break}return Swal.fire({title:"Salvando comprovantes...",html:"Salvando ".concat(o," ").concat(1===o?"imagem":"imagens","..."),allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:function(){Swal.showLoading()}}),e.next=12,E();case 12:if(!(a=e.sent)){e.next=48;break}return i=(0,r.rJ)(r.kA,"caixas",a.id,"fechamentoComprovantes"),c=(0,r.P)(i,(0,r._M)("metodo","==",R),(0,r.My)("indice","asc")),e.next=18,(0,r.GG)(c);case 18:if(s=e.sent,d=s.docs.map((function(e){return e.data().imagemBase64})),l=[],_.forEach((function(e,t){d.includes(e)||l.push({base64:e,indice:t})})),!(l.length>0)){e.next=41;break}u=(0,r.wP)(r.kA),p=0,g=0,v=h(l);try{for(v.s();!(y=v.n()).done;){b=y.value,x=b.base64,w=b.indice;try{L=(0,r.H9)(i),u.set(L,{metodo:R,imagemBase64:x,criadoEm:new Date,indice:w}),p++}catch(e){console.error("Erro ao adicionar comprovante ".concat(w," ao batch:"),e),g++}}}catch(e){v.e(e)}finally{v.f()}if(!(p>0)){e.next=31;break}return e.next=31,u.commit();case 31:if(Swal.close(),!(g>0)){e.next=37;break}return e.next=35,Swal.fire({icon:"warning",title:"Aviso",html:"".concat(p," ").concat(1===p?"imagem foi salva":"imagens foram salvas"," com sucesso.<br>").concat(g," ").concat(1===g?"imagem não pôde ser salva":"imagens não puderam ser salvas","."),showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 35:e.next=39;break;case 37:return e.next=39,Swal.fire({icon:"success",title:"Comprovantes salvos!",html:"".concat(p," ").concat(1===p?"imagem foi salva":"imagens foram salvas"," com sucesso."),showConfirmButton:!1,timer:2e3,timerProgressBar:!0});case 39:e.next=44;break;case 41:return Swal.close(),e.next=44,Swal.fire({icon:"info",title:"Comprovantes já salvos",html:"Todas as ".concat(o," ").concat(1===o?"imagem já estava salva":"imagens já estavam salvas","."),showConfirmButton:!1,timer:2e3,timerProgressBar:!0});case 44:return e.next=46,de(a.id,F,z,M);case 46:e.next=50;break;case 48:throw Swal.close(),new Error("Caixa não encontrado");case 50:e.next=58;break;case 52:return e.next=54,E();case 54:if(!(k=e.sent)){e.next=58;break}return e.next=58,de(k.id,F,z,M);case 58:document.getElementById("etapa-explicar-diferenca").classList.add("hidden"),document.getElementById("etapa-fechamento").classList.remove("hidden"),_=[],R=null,t.disabled=!1,t.innerHTML=n,re(),e.next=75;break;case 67:return e.prev=67,e.t0=e.catch(3),console.error("Erro ao continuar após explicar diferença:",e.t0),Swal.close(),t.disabled=!1,t.innerHTML=n,e.next=75,Swal.fire({icon:"error",title:"Erro ao salvar comprovantes",html:"Ocorreu um erro ao salvar os comprovantes:<br><strong>".concat(e.t0.message||"Erro desconhecido","</strong><br><br>Tente novamente."),confirmButtonText:"OK"});case 75:case"end":return e.stop()}}),e,null,[[3,67]])})))).apply(this,arguments)}function ce(){return se.apply(this,arguments)}function se(){return(se=b(f().mark((function e(){var t,n,r,o,a,i,c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,de(n.id,F);case 6:r=Object.values(F).reduce((function(e,t){return e+(t||0)}),0),document.getElementById("real-total").textContent="R$ ".concat(r.toFixed(2).replace(".",",")),o=parseFloat((null===(t=document.getElementById("esperado-total"))||void 0===t?void 0:t.textContent.replace("R$ ","").replace(",","."))||"0")||0,a=r-o,i={dinheiro:(F.dinheiro||0)-q.dinheiro,pix:(F.pix||0)-q.pix,credito:(F.credito||0)-q.credito,debito:(F.debito||0)-q.debito,crediario:(F.crediario||0)-q.crediario},c={dinheiro:"Dinheiro",pix:"PIX",credito:"Cartão de Crédito",debito:"Cartão de Débito",crediario:"Crediário"},(s=document.getElementById("metodos-com-diferenca-container")).innerHTML="",T.forEach((function(e){var t=i[e];if(0!==t){var n=document.createElement("div");n.className="bg-gray-50 rounded-lg p-4",n.innerHTML='\n        <h3 class="text-md font-medium text-gray-700 mb-2">'.concat(c[e],'</h3>\n        <p class="text-gray-600">Valor esperado: <span>R$ ').concat(q[e].toFixed(2).replace(".",","),'</span></p>\n        <p class="text-gray-600">Valor real: <span>R$ ').concat((F[e]||0).toFixed(2).replace(".",","),'</span></p>\n        <p class="font-medium">Diferença: <span id="diferenca-').concat(e,'" class="font-bold">R$ ').concat(t.toFixed(2).replace(".",","),"</span></p>\n      "),s.appendChild(n),ue("diferenca-".concat(e),t)}})),0===s.children.length&&(s.innerHTML='\n      <div class="col-span-full text-center py-4">\n        <p class="text-green-600 font-semibold">\n          <i class="fas fa-check-circle mr-2"></i>\n          Todos os valores bateram com o esperado!\n        </p>\n      </div>\n    '),document.getElementById("diferenca-total").textContent="R$ ".concat(a.toFixed(2).replace(".",",")),ue("diferenca-total",a),document.getElementById("etapa-fechamento").classList.add("hidden"),document.getElementById("etapa-2").classList.remove("hidden");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return le.apply(this,arguments)}function le(){return le=b(f().mark((function e(t,n){var o,a,i,c,s,l=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>2&&void 0!==l[2]?l[2]:null,a=l.length>3&&void 0!==l[3]?l[3]:null,e.prev=2,i=(0,r.H9)(r.kA,"caixas",t),c={valorRealDinheiro:n.dinheiro||0,valorRealPix:n.pix||0,valorRealCredito:n.credito||0,valorRealDebito:n.debito||0,valorRealCrediario:n.crediario||0,valorRealTotal:Object.values(n).reduce((function(e,t){return e+(t||0)}),0)},null!==o&&"object"===d(o)?(s={},Object.keys(o).forEach((function(e){var t=o[e];if(t&&"object"===d(t)&&void 0!==t.diferenca){var n=t.fotos&&Array.isArray(t.fotos)&&t.fotos.length>0,r=n?t.fotos.length:0;s[e]={diferenca:t.diferenca||0,temComprovantes:n,quantidadeComprovantes:r}}})),(Object.keys(s).length>0||null!==a||null!==M)&&(c.fechamentoProgresso={diferencasComComprovantes:s,metodoAtualIndex:null!==a?a:null!==M?M:0,valoresReais:n||{}})):null===a&&null===M||(c.fechamentoProgresso={diferencasComComprovantes:{},metodoAtualIndex:null!==a?a:null!==M?M:0,valoresReais:n||{}}),e.next=8,(0,r.mZ)(i,c);case 8:return e.abrupt("return",!0);case 11:throw e.prev=11,e.t0=e.catch(2),console.error("Erro ao atualizar valores reais:",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),le.apply(this,arguments)}function ue(e,t){var n=document.getElementById(e);t<0?(n.classList.add("text-red-500"),n.classList.remove("text-green-500")):(n.classList.add("text-green-500"),n.classList.remove("text-red-500"))}function pe(){return me.apply(this,arguments)}function me(){return(me=b(f().mark((function e(){var t,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,r.rJ)(r.kA,"usuarios"),e.next=4,(0,r.GG)(t);case 4:n=e.sent,o=document.getElementById("filtro-operador"),n.docs.forEach((function(e){var t=e.data(),n=t.nome||t.email||"Usuário desconhecido",r=document.createElement("option");r.value=e.id,r.textContent=n,o.appendChild(r)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Erro ao carregar usuários para filtro:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function fe(){return he.apply(this,arguments)}function he(){return he=b(f().mark((function e(){var t,n,r,o,a,i,c,s,d,l,u,p,m,g,v=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]&&v[0],e.prev=1,o=function(){var e=document.querySelectorAll(".checkbox-fechamento:checked"),t=document.getElementById("btn-excluir-selecionados");t&&(t.disabled=0===e.length)},a=function(){var e=document.querySelectorAll(".checkbox-fechamento"),t=document.querySelectorAll(".checkbox-fechamento:checked");m&&(m.checked=e.length>0&&e.length===t.length,m.indeterminate=t.length>0&&t.length<e.length)},i=(null===(n=document.getElementById("filtro-operador"))||void 0===n?void 0:n.value)||"",c=(null===(r=document.getElementById("filtro-situacao"))||void 0===r?void 0:r.value)||"",s={},i&&(s.usuarioId=i),c&&(s.status=c),e.next=11,x(!0,s);case 11:return d=e.sent,e.next=14,ve(d);case 14:if(l=e.sent,(u=document.getElementById("fechamentos-tbody")).innerHTML="",0!==d.length){e.next=20;break}return u.innerHTML='\n        <tr>\n          <td colspan="12" class="px-6 py-4 text-center text-sm text-gray-500">\n            Nenhum fechamento de caixa encontrado.\n          </td>\n        </tr>\n      ',e.abrupt("return");case 20:p=function(e){if(!e)return"-";var t=null;if("function"==typeof e.toDate)t=e.toDate();else{if(!(e instanceof Date))return"-";t=e}return t.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},d.forEach((function(e){var n=p(e.dataAbertura),r="fechado"===e.status?p(e.dataFechamento):"-",o=e.usuarioId&&l[e.usuarioId]?l[e.usuarioId]:"Usuário desconhecido",a="aberto"===e.status?'<span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">Aberto</span>':'<span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">Fechado</span>',i=ge(e)?'<span class="px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800" title="Há diferença em algum método de pagamento"><i class="fas fa-exclamation-triangle mr-1"></i>Sim</span>':'<span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-600">Não</span>',c=document.createElement("tr");c.innerHTML='\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n          <input type="checkbox" class="checkbox-fechamento rounded border-gray-300 text-primary focus:ring-primary" data-id="'.concat(e.id,'">\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">\n          ').concat(n,'\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">\n          ').concat(r,'\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n          ').concat(o,'\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n          ').concat(a,'\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ ').concat((e.totalVendas||0).toFixed(2).replace(".",","),'</td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">').concat(e.quantidadeVendas||0,'</td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">').concat(e.valorEsperado?"R$ ".concat((e.valorEsperado||0).toFixed(2).replace(".",",")):"-",'</td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">').concat(e.valorFinal?"R$ ".concat((e.valorFinal||0).toFixed(2).replace(".",",")):"-",'</td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm ').concat((e.diferenca||0)<0?"text-red-500":"text-green-500",'">\n          ').concat(void 0!==e.diferenca?"R$ ".concat((e.diferenca||0).toFixed(2).replace(".",",")):"-",'\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n          ').concat("fechado"===e.status?i:"-",'\n        </td>\n        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n          ').concat("fechado"===e.status?'\n            <button \n              class="btn-detalhes-fechamento bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 focus:outline-none mr-1"\n              data-id="'.concat(e.id,'"\n              title="Ver detalhes"\n            >\n              <i class="fas fa-eye"></i>\n            </button>\n            <button \n              class="btn-editar-fechamento bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 focus:outline-none mr-1"\n              data-id="').concat(e.id,'"\n              title="Editar datas"\n            >\n              <i class="fas fa-edit"></i>\n            </button>\n            <button \n              class="btn-imprimir-fechamento bg-primary text-white px-3 py-1 rounded hover:bg-primary-dark focus:outline-none mr-1"\n              data-id="').concat(e.id,'"\n              title="Imprimir"\n            >\n              <i class="fas fa-print"></i>\n            </button>\n            <button \n              class="btn-remover-fechamento bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 focus:outline-none"\n              data-id="').concat(e.id,'"\n              title="Excluir"\n            >\n              <i class="fas fa-trash-alt"></i>\n            </button>\n          '):t?'\n            <button \n              class="btn-editar-fechamento bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 focus:outline-none mr-1"\n              data-id="'.concat(e.id,'"\n              title="Editar data de abertura"\n            >\n              <i class="fas fa-edit"></i>\n            </button>\n            <button \n              class="btn-remover-fechamento bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 focus:outline-none"\n              data-id="').concat(e.id,'"\n              title="Excluir caixa aberto (Apenas Admin)"\n            >\n              <i class="fas fa-trash-alt"></i>\n            </button>\n          '):'<span class="text-gray-400 text-xs">Caixa ainda aberto</span>',"\n        </td>\n      "),u.appendChild(c)})),document.querySelectorAll(".btn-detalhes-fechamento").forEach((function(e){e.addEventListener("click",function(){var e=b(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentTarget.getAttribute("data-id"),!(r=d.find((function(e){return e.id===n})))){e.next=5;break}return e.next=5,ke(r,l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.querySelectorAll(".btn-imprimir-fechamento").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),n=d.find((function(e){return e.id===t}));n&&Be(n)}))})),document.querySelectorAll(".btn-editar-fechamento").forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),n=d.find((function(e){return e.id===t}));n&&we(n)}))})),(m=document.getElementById("select-all-fechamentos"))&&m.addEventListener("change",(function(e){document.querySelectorAll(".checkbox-fechamento").forEach((function(t){t.checked=e.target.checked})),o()})),document.querySelectorAll(".checkbox-fechamento").forEach((function(e){e.addEventListener("change",(function(){o(),a()}))})),(g=document.getElementById("btn-excluir-selecionados"))&&g.addEventListener("click",b(f().mark((function e(){var n,r,o,a,i,c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.querySelectorAll(".checkbox-fechamento:checked"),0!==(r=Array.from(n).map((function(e){return e.getAttribute("data-id")}))).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Swal.fire({title:"Confirmar Exclusão",html:"Você está prestes a excluir <strong>".concat(r.length,"</strong> ").concat(1===r.length?"fechamento":"fechamentos"," de caixa. Esta ação não pode ser desfeita."),icon:"warning",showCancelButton:!0,confirmButtonText:"Sim, excluir ".concat(r.length," ").concat(1===r.length?"fechamento":"fechamentos"),cancelButtonText:"Cancelar",confirmButtonColor:"#d33"});case 6:if(!e.sent.isConfirmed){e.next=34;break}g.disabled=!0,g.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Excluindo...',o=0,a=0,i=h(r),e.prev=13,i.s();case 15:if((c=i.n()).done){e.next=23;break}return s=c.value,e.next=19,be(s);case 19:e.sent.success?o++:a++;case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),i.e(e.t0);case 28:return e.prev=28,i.f(),e.finish(28);case 31:g.disabled=!1,g.innerHTML='<i class="fas fa-trash-alt mr-2"></i> Excluir Selecionados',o>0?(Swal.fire({icon:"success",title:"Exclusão Concluída",html:"".concat(o," ").concat(1===o?"fechamento excluído":"fechamentos excluídos"," com sucesso").concat(a>0?"<br><small>".concat(a," ").concat(1===a?"erro":"erros"," ao excluir</small>"):""),showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),fe(t)):Swal.fire({icon:"error",title:"Erro ao Excluir",text:"Não foi possível excluir os fechamentos selecionados.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 34:case"end":return e.stop()}}),e,null,[[13,25,28,31]])})))),document.querySelectorAll(".btn-remover-fechamento").forEach((function(e){e.addEventListener("click",function(){var e=b(f().mark((function e(n){var r,o,a,i,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.currentTarget.getAttribute("data-id"),!(o=d.find((function(e){return e.id===r})))){e.next=15;break}return a="Data não disponível","fechado"===o.status&&o.dataFechamento?"function"==typeof o.dataFechamento.toDate?a=o.dataFechamento.toDate().toLocaleDateString("pt-BR"):o.dataFechamento instanceof Date&&(a=o.dataFechamento.toLocaleDateString("pt-BR")):"aberto"===o.status&&o.dataAbertura&&("function"==typeof o.dataAbertura.toDate?a=o.dataAbertura.toDate().toLocaleDateString("pt-BR"):o.dataAbertura instanceof Date&&(a=o.dataAbertura.toLocaleDateString("pt-BR"))),o.status,i="aberto"===o.status?"Você está prestes a excluir um caixa aberto (aberto em ".concat(a,"). Esta ação não pode ser desfeita."):"Você está prestes a excluir o fechamento de caixa de ".concat(a,". Esta ação não pode ser desfeita."),e.next=9,Swal.fire({title:"Confirmar Exclusão",text:i,icon:"warning",showCancelButton:!0,confirmButtonText:"Sim, excluir",cancelButtonText:"Cancelar",confirmButtonColor:"#d33"});case 9:if(!e.sent.isConfirmed){e.next=15;break}return e.next=13,be(r);case 13:(c=e.sent).success?(Swal.fire({icon:"success",title:"aberto"===o.status?"Caixa Removido":"Fechamento Removido",text:"aberto"===o.status?"O caixa aberto foi removido com sucesso!":"O fechamento de caixa foi removido com sucesso!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),fe(t)):Swal.fire({icon:"error",title:"Erro ao Remover",text:c.error||"Ocorreu um erro ao remover o fechamento de caixa.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(1),console.error("Erro ao carregar histórico de fechamentos:",e.t0),document.getElementById("fechamentos-tbody").innerHTML='\n      <tr>\n        <td colspan="6" class="px-6 py-4 text-center text-sm text-red-500">\n          Erro ao carregar histórico de fechamentos.\n        </td>\n      </tr>\n    ';case 37:case"end":return e.stop()}}),e,null,[[1,33]])}))),he.apply(this,arguments)}function ge(e){if("fechado"!==e.status)return!1;if(!(e.valorRealDinheiro||e.valorRealPix||e.valorRealCredito||e.valorRealDebito||e.valorRealCrediario))return!1;var t=e.valorInicial||0,n=(e.totalDinheiro||0)+t,r=e.valorRealDinheiro||0,o=Math.abs(r-n),a=e.totalPix||0,i=e.valorRealPix||0,c=Math.abs(i-a),s=e.totalCredito||0,d=e.valorRealCredito||0,l=Math.abs(d-s),u=e.totalDebito||0,p=e.valorRealDebito||0,m=Math.abs(p-u),f=e.totalCrediario||0,h=e.valorRealCrediario||0,g=Math.abs(h-f);return o>.01||c>.01||l>.01||m>.01||g>.01}function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=b(f().mark((function e(t){var n,o,a,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=new Set,t.forEach((function(e){e.usuarioId&&n.add(e.usuarioId)})),0!==n.size){e.next=5;break}return e.abrupt("return",{});case 5:return o=(0,r.rJ)(r.kA,"usuarios"),e.next=8,(0,r.GG)(o);case 8:return a=e.sent,i={},a.docs.forEach((function(e){var t=e.data();n.has(e.id)&&(i[e.id]=t.nome||t.email||"Nome não disponível")})),e.abrupt("return",i);case 14:return e.prev=14,e.t0=e.catch(0),console.error("Erro ao buscar informações dos usuários:",e.t0),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function be(e){return xe.apply(this,arguments)}function xe(){return(xe=b(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,a.xI)().currentUser){e.next=5;break}return e.abrupt("return",{success:!1,error:"Usuário não está logado"});case 5:return n=(0,r.H9)(r.kA,"caixas",t),e.next=8,(0,r.kd)(n);case 8:return e.abrupt("return",{success:!0});case 11:return e.prev=11,e.t0=e.catch(0),console.error("Erro ao remover fechamento:",e.t0),e.abrupt("return",{success:!1,error:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function we(e){var t=document.getElementById("modal-editar-fechamento"),n=document.getElementById("editar-fechamento-id"),r=document.getElementById("editar-data-abertura"),o=document.getElementById("editar-data-fechamento"),a=document.getElementById("container-data-fechamento");if(t&&n&&r&&o){n.value=e.id;var i=null;if(e.dataAbertura&&("function"==typeof e.dataAbertura.toDate?i=e.dataAbertura.toDate():e.dataAbertura instanceof Date&&(i=e.dataAbertura)),i){var c=i.getFullYear(),s=String(i.getMonth()+1).padStart(2,"0"),d=String(i.getDate()).padStart(2,"0"),l=String(i.getHours()).padStart(2,"0"),u=String(i.getMinutes()).padStart(2,"0");r.value="".concat(c,"-").concat(s,"-").concat(d,"T").concat(l,":").concat(u)}if("fechado"===e.status&&e.dataFechamento){a.classList.remove("hidden");var p=null;if(e.dataFechamento&&("function"==typeof e.dataFechamento.toDate?p=e.dataFechamento.toDate():e.dataFechamento instanceof Date&&(p=e.dataFechamento)),p){var m=p.getFullYear(),f=String(p.getMonth()+1).padStart(2,"0"),h=String(p.getDate()).padStart(2,"0"),g=String(p.getHours()).padStart(2,"0"),v=String(p.getMinutes()).padStart(2,"0");o.value="".concat(m,"-").concat(f,"-").concat(h,"T").concat(g,":").concat(v)}else o.value=""}else a.classList.add("hidden"),o.value="";t.classList.remove("hidden")}else console.error("Elementos do modal de edição não encontrados")}function Ee(){return Le.apply(this,arguments)}function Le(){return(Le=b(f().mark((function e(){var t,n,o,a,i,c,s,d,l,u,p,m,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("editar-fechamento-id"),n=document.getElementById("editar-data-abertura"),o=document.getElementById("editar-data-fechamento"),a=document.getElementById("container-data-fechamento"),i=document.getElementById("modal-editar-fechamento"),c=document.querySelector('#form-editar-fechamento button[type="submit"]'),t&&n){e.next=9;break}return console.error("Elementos do formulário não encontrados"),e.abrupt("return");case 9:if(s=t.value,d=n.value,s&&d){e.next=14;break}return Swal.fire({icon:"error",title:"Erro",text:"Por favor, preencha a data de abertura.",confirmButtonColor:"#10b981"}),e.abrupt("return");case 14:return e.prev=14,c&&(c.disabled=!0,c.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i>Salvando...'),l=(0,r.H9)(r.kA,"caixas",s),u=new Date(d),p={dataAbertura:u},a.classList.contains("hidden")||(m=o.value)&&(h=new Date(m),p.dataFechamento=h),e.next=22,(0,r.mZ)(l,p);case 22:return i.classList.add("hidden"),e.next=25,Swal.fire({icon:"success",title:"Sucesso!",text:"Datas atualizadas com sucesso.",confirmButtonColor:"#10b981",timer:2e3,timerProgressBar:!0});case 25:return e.next=27,fe(!0);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(14),console.error("Erro ao salvar edição do fechamento:",e.t0),Swal.fire({icon:"error",title:"Erro",text:"Erro ao salvar as alterações. Por favor, tente novamente.",confirmButtonColor:"#10b981"});case 33:return e.prev=33,c&&(c.disabled=!1,c.innerHTML="Salvar"),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[14,29,33,36]])})))).apply(this,arguments)}function ke(e){return Ie.apply(this,arguments)}function Ie(){return Ie=b(f().mark((function e(t){var n,o,a,c,l,u,p,h,g,v,y,b,x,w,E,L,k,I,B,S,j,C,P=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=P.length>1&&void 0!==P[1]?P[1]:{},o=document.getElementById("modal-detalhes-fechamento"),(a=document.getElementById("modal-detalhes-fechamento-content")).innerHTML='\n    <div class="flex items-center justify-center py-8">\n      <i class="fas fa-spinner fa-spin text-primary text-3xl"></i>\n      <span class="ml-3 text-gray-600">Carregando detalhes...</span>\n    </div>\n  ',o.classList.remove("hidden"),!t.id){e.next=17;break}return e.prev=6,c=(0,r.rJ)(r.kA,"caixas",t.id,"fechamentoComprovantes"),e.next=10,(0,r.GG)(c);case 10:(l=e.sent).empty||(u={},l.docs.forEach((function(e){var t=e.data();if(t.imagemBase64&&t.metodo){u[t.metodo]||(u[t.metodo]=[]);var n=void 0!==t.indice?t.indice:u[t.metodo].length;u[t.metodo][n]=t.imagemBase64}})),t.diferencasComComprovantes||(t.diferencasComComprovantes={}),Object.keys(u).forEach((function(e){var n=u[e].filter((function(e){return void 0!==e}));if(n.length>0){t.diferencasComComprovantes[e]||(t.diferencasComComprovantes[e]={diferenca:0,fotos:[]});var r=t.diferencasComComprovantes[e].fotos||[],o=[].concat(m(r),m(n)),a=Array.from(new Set(o));t.diferencasComComprovantes[e].fotos=a}}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Erro ao buscar comprovantes:",e.t0);case 17:return p=[],e.prev=18,e.next=21,(0,i.loadVendas)();case 21:h=e.sent,t.id&&(g=null,v=null,t.dataAbertura&&(g="function"==typeof t.dataAbertura.toDate?t.dataAbertura.toDate():t.dataAbertura),t.dataFechamento&&(v="function"==typeof t.dataFechamento.toDate?t.dataFechamento.toDate():t.dataFechamento),!v&&g&&(v=new Date(g)),p=h.filter((function(e){var n=e.caixaId===t.id;if(!e.caixaId||!n)return!1;if(g&&e.criadoEm){var r="function"==typeof e.criadoEm.toDate?e.criadoEm.toDate():e.criadoEm;if(r){var o=new Date(g);o.setHours(0,0,0,0);var a=new Date(r);if(a.setHours(0,0,0,0),v){var i=new Date(v);if(i.setHours(0,0,0,0),o.getTime()===i.getTime())return a.getTime()===o.getTime();var c=new Date(g);c.setHours(0,0,0,0);var s=new Date(v);return s.setHours(23,59,59,999),r>=c&&r<=s}return a.getTime()>=o.getTime()}}return!0}))),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(18),console.error("Erro ao carregar vendas:",e.t1);case 28:y="Data não disponível",t.dataAbertura&&("function"==typeof t.dataAbertura.toDate?y=t.dataAbertura.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):t.dataAbertura instanceof Date&&(y=t.dataAbertura.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))),b="Data não disponível",t.dataFechamento&&("function"==typeof t.dataFechamento.toDate?b=t.dataFechamento.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):t.dataFechamento instanceof Date&&(b=t.dataFechamento.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))),x=t.usuarioId&&n[t.usuarioId]?n[t.usuarioId]:"Usuário desconhecido",w=(t.diferenca||0)<0?"text-red-500":"text-green-500",E=function(e){if(!e)return"Não informado";if("Único"===e.tipo){if("object"!==d(e.opcaoEscolhida))return e.opcaoEscolhida||"Não informado";if(e.opcaoEscolhida.dinheiro)return"Dinheiro";if(e.opcaoEscolhida.crediario)return"Crediário"}else if("Múltiplo"===e.tipo){var t=[];return e.opcaoEscolhida&&Object.keys(e.opcaoEscolhida).forEach((function(n){"parcelas"!==n&&e.opcaoEscolhida[n]&&t.push(n.charAt(0).toUpperCase()+n.slice(1))})),t.length>0?t.join(" + "):"Múltiplo"}return"Não informado"},L=function(e){return e?"function"==typeof e.toDate?e.toDate().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):e instanceof Date?e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data não disponível":"Data não disponível"},k=function(e){var t={dinheiro:0,pix:0,credito:0,debito:0,crediario:0};return e.forEach((function(e){var n=e.totalLiquido||e.total||0,r=e.metodoPagamento;if(r)if("Único"===r.tipo)if("object"===d(r.opcaoEscolhida))r.opcaoEscolhida.dinheiro?t.dinheiro+=n:r.opcaoEscolhida.crediario&&(t.crediario+=n);else{var o,a=null===(o=r.opcaoEscolhida)||void 0===o?void 0:o.toLowerCase();"pix"===a?t.pix+=n:"crédito"===a||"credito"===a?t.credito+=n:"débito"===a||"debito"===a?t.debito+=n:"dinheiro"===a&&(t.dinheiro+=n)}else if("Múltiplo"===r.tipo){var i=r.opcaoEscolhida;if(i)for(var c=0,l=Object.entries(i);c<l.length;c++){var u=s(l[c],2),p=u[0],m=u[1];if("parcelas"!==p&&m&&!isNaN(m)){var f=p.toLowerCase();"dinheiro"===f&&void 0!==t.dinheiro?t.dinheiro+=parseFloat(m):"pix"===f&&void 0!==t.pix?t.pix+=parseFloat(m):"crédito"!==f&&"credito"!==f||void 0===t.credito?"débito"!==f&&"debito"!==f||void 0===t.debito?"crediario"===f&&void 0!==t.crediario&&(t.crediario+=parseFloat(m)):t.debito+=parseFloat(m):t.credito+=parseFloat(m)}}}})),t},I=k(p),B=p.length>0?p.map((function(e,t){var n=L(e.criadoEm),r=E(e.metodoPagamento),o=e.totalLiquido||e.total||0,a=e.caixaId||'<span class="text-gray-400 italic">Não informado</span>';return'\n          <tr class="hover:bg-gray-50">\n            <td class="border border-gray-300 px-4 py-2 text-center">'.concat(t+1,'</td>\n            <td class="border border-gray-300 px-4 py-2">').concat(n,'</td>\n            <td class="border border-gray-300 px-4 py-2">').concat(r,'</td>\n            <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(o.toFixed(2).replace(".",","),'</td>\n            <td class="border border-gray-300 px-4 py-2 font-mono text-sm">').concat(a,"</td>\n          </tr>\n        ")})).join(""):'<tr><td colspan="5" class="border border-gray-300 px-4 py-4 text-center text-gray-500">Nenhuma venda encontrada</td></tr>',a.innerHTML='\n    <div class="space-y-6">\n      \x3c!-- Cabeçalho --\x3e\n      <div class="text-center border-b pb-4">\n        <h3 class="text-2xl font-bold text-gray-800">Fechamento de Caixa</h3>\n        <p class="text-gray-600 mt-2">Data Abertura: '.concat(y,'</p>\n        <p class="text-gray-600">Data Fechamento: ').concat(b,'</p>\n        <p class="text-gray-600">Operador: ').concat(x,'</p>\n        <p class="text-gray-500 text-sm mt-1">ID do Caixa: <span class="font-mono font-semibold">').concat(t.id,'</span></p>\n      </div>\n      \n      \x3c!-- Resumo de Vendas --\x3e\n      <div class="bg-gray-50 rounded-lg p-4">\n        <h4 class="text-lg font-semibold text-gray-800 mb-3">Resumo de Vendas</h4>\n        <div class="grid grid-cols-2 gap-4">\n          <div>\n            <p class="text-gray-600">Total de vendas:</p>\n            <p class="text-xl font-bold text-green-600">R$ ').concat((t.totalVendas||0).toFixed(2).replace(".",","),'</p>\n          </div>\n          <div>\n            <p class="text-gray-600">Quantidade de vendas:</p>\n            <p class="text-xl font-bold">').concat(t.quantidadeVendas||0,'</p>\n          </div>\n        </div>\n      </div>\n      \n      \x3c!-- Detalhamento das Vendas --\x3e\n      <div>\n        <h4 class="text-lg font-semibold text-gray-800 mb-3">Detalhamento das Vendas</h4>\n        <p class="text-sm text-gray-600 mb-3">Vendas que compõem o valor esperado do fechamento:</p>\n        <div class="overflow-x-auto max-h-64 overflow-y-auto">\n          <table class="min-w-full border-collapse border border-gray-300">\n            <thead class="bg-gray-100 sticky top-0">\n              <tr>\n                <th class="border border-gray-300 px-4 py-2 text-left font-semibold">#</th>\n                <th class="border border-gray-300 px-4 py-2 text-left font-semibold">Data/Hora</th>\n                <th class="border border-gray-300 px-4 py-2 text-left font-semibold">Método de Pagamento</th>\n                <th class="border border-gray-300 px-4 py-2 text-right font-semibold">Valor</th>\n                <th class="border border-gray-300 px-4 py-2 text-left font-semibold">Caixa ID</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(B,'\n            </tbody>\n          </table>\n        </div>\n      </div>\n      \n      \x3c!-- Comparação Esperado vs Real por Método --\x3e\n      <div>\n        <h4 class="text-lg font-semibold text-gray-800 mb-3">Análise de Diferenças por Método de Pagamento</h4>\n        <p class="text-sm text-gray-600 mb-3">Compare os valores esperados com os valores reais encontrados para identificar onde está a diferença:</p>\n        <div class="overflow-x-auto">\n          <table class="min-w-full border-collapse border border-gray-300">\n            <thead>\n              <tr class="bg-gray-100">\n                <th class="border border-gray-300 px-4 py-2 text-left font-semibold">Método</th>\n                <th class="border border-gray-300 px-4 py-2 text-right font-semibold">Esperado</th>\n                <th class="border border-gray-300 px-4 py-2 text-right font-semibold">Real</th>\n                <th class="border border-gray-300 px-4 py-2 text-right font-semibold">Diferença</th>\n                <th class="border border-gray-300 px-4 py-2 text-center font-semibold">Comprovantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(function(){var e=t.valorInicial||0,n=I.dinheiro+e,r=t.valorRealDinheiro||0,o=r-n,a=I.pix,i=t.valorRealPix||0,c=i-a,s=I.credito,d=t.valorRealCredito||0,l=d-s,u=I.debito,p=t.valorRealDebito||0,m=p-u,f=I.crediario,h=t.valorRealCrediario||0,g=h-f,v=function(e){return e.toFixed(2).replace(".",",")},y=function(e){return'<span class="'.concat(e<0?"text-red-500 font-semibold":e>0?"text-green-500 font-semibold":"",'">R$ ').concat(v(e),"</span>")},b=function(e){var n=t.diferencasComComprovantes&&t.diferencasComComprovantes[e]&&t.diferencasComComprovantes[e].fotos;if(!n||!Array.isArray(n)||0===n.length)return'<span class="text-gray-400 text-sm">-</span>';"comprovantes-".concat(e,"-").concat(t.id);var r=n.map((function(t,n){var r=t.replace(/'/g,"\\'"),o="dinheiro"===e?"Dinheiro":"pix"===e?"PIX":"credito"===e?"Cartão de Crédito":"debito"===e?"Cartão de Débito":"Crediário";return'\n                      <img \n                        src="'.concat(t,'" \n                        alt="Comprovante ').concat(n+1,'"\n                        class="w-12 h-12 object-cover rounded border-2 border-gray-300 cursor-pointer hover:border-primary transition-all"\n                        onclick="abrirModalImagemFechamento(\'').concat(r,"', 'Comprovante ").concat(n+1," - ").concat(o,'\')"\n                        title="Clique para ampliar"\n                      />\n                    ')})).join("");return'\n                    <div class="flex flex-wrap gap-2 justify-center items-center">\n                      '.concat(r,"\n                    </div>\n                  ")};return'\n                  <tr>\n                    <td class="border border-gray-300 px-4 py-2 font-medium">Dinheiro</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ '.concat(v(n),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(r),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">').concat(y(o),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-center">').concat(b("dinheiro"),'</td>\n                  </tr>\n                  <tr>\n                    <td class="border border-gray-300 px-4 py-2 font-medium">PIX</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(a),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(i),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">').concat(y(c),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-center">').concat(b("pix"),'</td>\n                  </tr>\n                  <tr>\n                    <td class="border border-gray-300 px-4 py-2 font-medium">Cartão de Crédito</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(s),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(d),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">').concat(y(l),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-center">').concat(b("credito"),'</td>\n                  </tr>\n                  <tr>\n                    <td class="border border-gray-300 px-4 py-2 font-medium">Cartão de Débito</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(u),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(p),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">').concat(y(m),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-center">').concat(b("debito"),'</td>\n                  </tr>\n                  <tr>\n                    <td class="border border-gray-300 px-4 py-2 font-medium">Crediário</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(f),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(h),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">').concat(y(g),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-center">').concat(b("crediario"),'</td>\n                  </tr>\n                  <tr class="bg-gray-50 font-bold">\n                    <td class="border border-gray-300 px-4 py-2">TOTAL</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(t.valorEsperado||0),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right">R$ ').concat(v(t.valorFinal||0),'</td>\n                    <td class="border border-gray-300 px-4 py-2 text-right ').concat(w,'">R$ ').concat(v(t.diferenca||0),'</td>\n                    <td class="border border-gray-300 px-4 py-2"></td>\n                  </tr>\n                ')}(),'\n            </tbody>\n          </table>\n        </div>\n        <div class="mt-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded">\n          <p class="text-sm text-yellow-800">\n            <i class="fas fa-info-circle mr-2"></i>\n            <strong>Nota:</strong> O valor esperado de dinheiro inclui o valor de abertura do caixa (R$ ').concat((t.valorInicial||0).toFixed(2).replace(".",","),').\n          </p>\n        </div>\n      </div>\n      \n      \x3c!-- Fechamento de Caixa --\x3e\n      <div class="bg-gray-50 rounded-lg p-4">\n        <h4 class="text-lg font-semibold text-gray-800 mb-3">Resumo do Fechamento</h4>\n        <div class="space-y-2">\n          <div class="flex justify-between">\n            <span class="text-gray-600">Valor de abertura:</span>\n            <span class="font-semibold">R$ ').concat((t.valorInicial||0).toFixed(2).replace(".",","),'</span>\n          </div>\n          <div class="flex justify-between">\n            <span class="text-gray-600">Valor esperado em caixa:</span>\n            <span class="font-semibold">R$ ').concat((t.valorEsperado||0).toFixed(2).replace(".",","),'</span>\n          </div>\n          <div class="flex justify-between">\n            <span class="text-gray-600">Valor real em caixa:</span>\n            <span class="font-semibold">R$ ').concat((t.valorFinal||0).toFixed(2).replace(".",","),'</span>\n          </div>\n          <div class="flex justify-between border-t pt-2 mt-2">\n            <span class="text-gray-800 font-semibold">Diferença total:</span>\n            <span class="font-bold ').concat(w,'">R$ ').concat((t.diferenca||0).toFixed(2).replace(".",","),"</span>\n          </div>\n        </div>\n      </div>\n      \n      ").concat(t.observacoes?'\n      \x3c!-- Observações --\x3e\n      <div>\n        <h4 class="text-lg font-semibold text-gray-800 mb-3">Observações</h4>\n        <div class="bg-gray-50 rounded-lg p-4">\n          <p class="text-gray-700 whitespace-pre-wrap">'.concat(t.observacoes,"</p>\n        </div>\n      </div>\n      "):"","\n    </div>\n  "),o.classList.remove("hidden"),S=document.getElementById("close-modal-detalhes-fechamento"),j=S.cloneNode(!0),S.parentNode.replaceChild(j,S),j.addEventListener("click",(function(){o.classList.add("hidden")})),C=function(e){e.target===o&&o.classList.add("hidden")},o.removeEventListener("click",C),o.addEventListener("click",C);case 48:case"end":return e.stop()}}),e,null,[[6,14],[18,25]])}))),Ie.apply(this,arguments)}function Be(e){var t=window.open("","_blank");t.document.open();var n="Data não disponível";e.dataFechamento&&("function"==typeof e.dataFechamento.toDate?n=e.dataFechamento.toDate().toLocaleDateString("pt-BR"):e.dataFechamento instanceof Date&&(n=e.dataFechamento.toLocaleDateString("pt-BR"))),t.document.write("\n    <html>\n    <head>\n      <title>Fechamento de Caixa - ".concat(n,'</title>\n      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          padding: 20px;\n        }\n        .header {\n          text-align: center;\n          margin-bottom: 20px;\n        }\n        .section {\n          margin-bottom: 15px;\n          padding-bottom: 15px;\n          border-bottom: 1px solid #eee;\n        }\n        .footer {\n          margin-top: 30px;\n          text-align: center;\n          font-size: 12px;\n          color: #666;\n        }\n        table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n        table, th, td {\n          border: 1px solid #ddd;\n        }\n        th, td {\n          padding: 8px;\n          text-align: left;\n        }\n        th {\n          background-color: #f2f2f2;\n        }\n        .negative {\n          color: #e53e3e;\n        }\n        .positive {\n          color: #38a169;\n        }\n        @media print {\n          body {\n            padding: 0;\n          }\n          button {\n            display: none;\n          }\n        }\n      </style>\n    </head>\n    <body>\n      <div class="header">\n        <h1 class="text-xl font-bold">Fechamento de Caixa</h1>\n        <p>Data: ').concat(n,'</p>\n      </div>\n      \n      <div class="section">\n        <h2 class="text-lg font-semibold">Resumo de Vendas</h2>\n        <p>Total de vendas: <strong>R$ ').concat((e.totalVendas||0).toFixed(2).replace(".",","),"</strong></p>\n        <p>Quantidade de vendas: <strong>").concat(e.quantidadeVendas||0,'</strong></p>\n      </div>\n      \n      <div class="section">\n        <h2 class="text-lg font-semibold">Valores por Método de Pagamento</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>Método</th>\n              <th>Valor</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Dinheiro</td>\n              <td>R$ ').concat((e.totalDinheiro||0).toFixed(2).replace(".",","),"</td>\n            </tr>\n            <tr>\n              <td>PIX</td>\n              <td>R$ ").concat((e.totalPix||0).toFixed(2).replace(".",","),"</td>\n            </tr>\n            <tr>\n              <td>Cartão de Crédito</td>\n              <td>R$ ").concat((e.totalCredito||0).toFixed(2).replace(".",","),"</td>\n            </tr>\n            <tr>\n              <td>Cartão de Débito</td>\n              <td>R$ ").concat((e.totalDebito||0).toFixed(2).replace(".",","),"</td>\n            </tr>\n            <tr>\n              <td>Crediário</td>\n              <td>R$ ").concat((e.totalCrediario||0).toFixed(2).replace(".",","),'</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      \n      <div class="section">\n        <h2 class="text-lg font-semibold">Fechamento de Caixa</h2>\n        <p>Valor de abertura: <strong>R$ ').concat((e.valorInicial||0).toFixed(2).replace(".",","),"</strong></p>\n        <p>Valor esperado em caixa: <strong>R$ ").concat((e.valorEsperado||0).toFixed(2).replace(".",","),"</strong></p>\n        <p>Valor real em caixa: <strong>R$ ").concat((e.valorFinal||0).toFixed(2).replace(".",","),'</strong></p>\n        <p>Diferença: <strong class="').concat((e.diferenca||0)<0?"negative":"positive",'">\n          R$ ').concat((e.diferenca||0).toFixed(2).replace(".",","),"\n        </strong></p>\n      </div>\n      \n      ").concat(e.observacoes?'\n      <div class="section">\n        <h2 class="text-lg font-semibold">Observações</h2>\n        <p>'.concat(e.observacoes,"</p>\n      </div>\n      "):"",'\n      \n      <div class="footer">\n        <p>Fechamento realizado em: ').concat(n,'</p>\n      </div>\n      \n      <div class="mt-4 text-center">\n        <button onclick="window.print()" class="bg-blue-500 text-white px-4 py-2 rounded">Imprimir</button>\n      </div>\n    </body>\n    </html>\n  ')),t.document.close(),t.onload=function(){t.print()}}window.removerComprovanteDiferencaPorIndex=function(){var e=b(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.abrirModalImagemFechamento=function(e,t){var n=document.getElementById("image-modal-fechamento");if(n){var r=n.querySelector("h3"),o=n.querySelector("img");r&&(r.textContent=t),o&&(o.src=e)}else(n=document.createElement("div")).id="image-modal-fechamento",n.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] hidden",n.innerHTML='\n      <div class="relative max-w-4xl max-h-full p-4">\n        <button class="absolute top-2 right-2 text-white text-2xl hover:text-gray-300 z-10 bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center" onclick="fecharModalImagemFechamento()">\n          <i class="fas fa-times"></i>\n        </button>\n        <div class="bg-white rounded-lg overflow-hidden shadow-2xl">\n          <div class="p-3 border-b bg-gray-50">\n            <h3 class="text-lg font-semibold text-gray-800">'.concat(t,'</h3>\n          </div>\n          <div class="p-4 bg-gray-900 flex items-center justify-center">\n            <img src="').concat(e,'" alt="').concat(t,'" class="max-w-full max-h-[80vh] object-contain">\n          </div>\n        </div>\n      </div>\n    '),document.body.appendChild(n),n.addEventListener("click",(function(e){e.target===n&&fecharModalImagemFechamento()})),document.addEventListener("keydown",(function(e){"Escape"!==e.key||n.classList.contains("hidden")||fecharModalImagemFechamento()}));n.classList.remove("hidden")},window.fecharModalImagemFechamento=function(){var e=document.getElementById("image-modal-fechamento");e&&e.classList.add("hidden")}},6172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>b});var r=n(1676),o=n(6115),a=n(4541),i=n(7664);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function m(){m=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};l(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,s){var d=p(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==c(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=p(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),l(I,d,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function f(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,c,"next",e)}function c(e){g(a,r,o,i,c,"throw",e)}i(void 0)}))}}var y=[];function b(){return x.apply(this,arguments)}function x(){return x=v(m().mark((function e(){var t,n,c,s,l,h,g,b,x,w,E,L,k,I,B,S,j,C,P,A,O,D,N,M,T,F,q,z,R,_,G,H,$,V,U,Y,Z,J,Q,W,X,K,ee,te,ne,re,oe,ae,ie,ce,se,de,le,ue,pe,me,fe,he,ge,ve,ye,be,xe,we,Ee,Le,ke,Ie,Be,Se,je,Ce,Pe,Ae,Oe,De,Ne,Me,Te,Fe;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe=function(e){e.dataset.key==M.key&&"asc"==M.order?M.order="desc":M.order="asc",M.key=e.dataset.key,H(),O.classList.add("hidden")},Te=function(){return(Te=v(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return"• ".concat(e.name," (").concat(e.formattedSize,")")})).join("\n"),e.next=3,Swal.fire({icon:"warning",title:"Arquivos muito grandes detectados",html:'\n                <div class="text-left">\n                    <p class="mb-3">Os seguintes arquivos são muito grandes e podem causar problemas:</p>\n                    <div class="bg-gray-100 p-3 rounded text-sm font-mono text-left max-h-40 overflow-y-auto">\n                        '.concat(n,'\n                    </div>\n                    <p class="mt-3 text-sm text-gray-600">\n                        Recomendamos reduzir o tamanho dos arquivos ou dividi-los em partes menores.\n                    </p>\n                </div>\n            '),showCancelButton:!0,confirmButtonText:"Continuar mesmo assim",cancelButtonText:"Cancelar",reverseButtons:!0});case 3:return r=e.sent,e.abrupt("return",r.isConfirmed);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Me=function(e){return Te.apply(this,arguments)},Ne=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10485760,r=[],o=p(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.size>n&&r.push({name:a.name,size:a.size,formattedSize:De(a.size)})}}catch(e){o.e(e)}finally{o.f()}return r},De=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},pe=function(e,t){Swal.fire({title:e,html:'\n                <img src="'.concat(t,'" \n                     alt="').concat(e,'" \n                     class="w-full max-h-96 object-contain border rounded shadow-sm">\n            '),width:"60%",confirmButtonText:"Fechar",showCloseButton:!0})},ue=function(e,t){console.log("Mostrando modal para ".concat(e," com ").concat(t.length," páginas"));var n=t.map((function(e,t){return console.log("Página ".concat(e.pageNumber,":"),{dataLength:e.data.length,dataStart:e.data.substring(0,50),hasDataUrl:e.data.startsWith("data:")}),'\n                <div class="mb-4">\n                    <h4 class="text-sm font-medium text-gray-700 mb-2">Página '.concat(e.pageNumber,'</h4>\n                    <img src="').concat(e.data,'" \n                         alt="Página ').concat(e.pageNumber,'" \n                         class="w-full max-h-96 object-contain border rounded shadow-sm"\n                         onerror="console.error(\'Erro ao carregar imagem da página ').concat(e.pageNumber,"')\"\n                         onload=\"console.log('Imagem da página ").concat(e.pageNumber," carregada com sucesso')\">\n                </div>\n            ")})).join("");Swal.fire({title:e,html:'\n                <div class="max-h-96 overflow-y-auto">\n                    '.concat(n,"\n                </div>\n            "),width:"80%",confirmButtonText:"Fechar",showCloseButton:!0})},le=function(){return(le=v(m().mark((function e(t,n){var o,a,i,c,s,d,l,u,p,f,h,g,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("🔍 Iniciando recuperação: ".concat(n," do fornecedor ").concat(t)),s=(0,r.rJ)(r.kA,"fornecedores",t,"catalogos",n,"chunks"),console.log("📁 Caminho da subcoleção: fornecedores/".concat(t,"/catalogos/").concat(n,"/chunks")),d=(0,r.P)(s,(0,r.My)("chunkIndex")),e.next=7,(0,r.GG)(d);case 7:if(l=e.sent,console.log("📊 Encontrados ".concat(l.size," chunks para ").concat(n)),!l.empty){e.next=12;break}throw console.error("❌ Nenhum chunk encontrado para ".concat(n)),new Error("Nenhum chunk encontrado para ".concat(n));case 12:return u=[],l.forEach((function(e){var t,n=e.data();console.log("   Chunk ".concat(n.chunkIndex,": ").concat((null===(t=n.data)||void 0===t?void 0:t.length)||0," bytes")),u.push(n)})),p=u.sort((function(e,t){return e.chunkIndex-t.chunkIndex})),f=p.map((function(e){return e.data})).join(""),h=(null===(o=p[0])||void 0===o?void 0:o.data)||"",g=h.startsWith("data:"),console.log("✅ Arquivo reconstruído: ".concat(n),{totalChunks:p.length,fullDataLength:f.length,dataStart:f.substring(0,50),firstChunkStart:h.substring(0,50),hasDataUrlPrefix:g,type:(null===(a=u[0])||void 0===a?void 0:a.fileType)||"image"}),v=f,g||"image"!==(null===(i=u[0])||void 0===i?void 0:i.fileType)||(v="data:image/jpeg;base64,"+f,console.log("➕ Adicionado prefixo data URL")),e.abrupt("return",{data:v,type:(null===(c=u[0])||void 0===c?void 0:c.fileType)||"image"});case 24:throw e.prev=24,e.t0=e.catch(0),console.error("❌ Erro ao recuperar arquivo das subcoleções:",e.t0),e.t0;case 28:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)},de=function(e,t){return le.apply(this,arguments)},se=function(){return(se=v(m().mark((function e(t){var n,o,a,i,c,s,d,l,u,f,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("🧹 Limpando subcoleções antigas do fornecedor ".concat(t,"...")),n=(0,r.rJ)(r.kA,"fornecedores",t,"catalogos"),console.log("📁 Consultando subcoleções em: fornecedores/".concat(t,"/catalogos")),e.next=6,(0,r.GG)(n);case 6:if(!(o=e.sent).empty){e.next=10;break}return console.log("   ✅ Nenhuma subcoleção encontrada para limpar"),e.abrupt("return");case 10:console.log("   📁 Encontradas ".concat(o.size," subcoleções para limpar:")),o.docs.forEach((function(e,t){console.log("     ".concat(t+1,". ").concat(e.id))})),a=p(o.docs),e.prev=13,a.s();case 15:if((i=a.n()).done){e.next=42;break}return c=i.value,console.log("   🗑️ Processando subcoleção: ".concat(c.id)),s=(0,r.rJ)(r.kA,"fornecedores",t,"catalogos",c.id,"chunks"),e.next=21,(0,r.GG)(s);case 21:if((d=e.sent).empty){e.next=35;break}console.log("     📊 Encontrados ".concat(d.size," chunks para deletar")),l=500,u=d.docs,f=m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.wP)(r.kA),n=u.slice(h,h+l),console.log("     🗑️ Deletando lote ".concat(Math.floor(h/l)+1,"/").concat(Math.ceil(u.length/l)," (").concat(n.length," chunks)")),n.forEach((function(e){t.delete(e.ref)})),e.next=6,t.commit();case 6:console.log("     ✅ Lote deletado com sucesso");case 7:case"end":return e.stop()}}),e)})),h=0;case 28:if(!(h<u.length)){e.next=33;break}return e.delegateYield(f(),"t0",30);case 30:h+=l,e.next=28;break;case 33:e.next=36;break;case 35:console.log("     ℹ️ Nenhum chunk encontrado nesta subcoleção");case 36:return console.log("     🗑️ Deletando documento da subcoleção: ".concat(c.id)),e.next=39,(0,r.kd)(c.ref);case 39:console.log("     ✅ Documento da subcoleção deletado");case 40:e.next=15;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(13),a.e(e.t1);case 47:return e.prev=47,a.f(),e.finish(47);case 50:console.log("   ✅ Subcoleções antigas limpas com sucesso"),e.next=57;break;case 53:e.prev=53,e.t2=e.catch(0),console.error("❌ Erro ao limpar subcoleções antigas:",e.t2),console.error("   Detalhes do erro:",e.t2.message);case 57:case"end":return e.stop()}}),e,null,[[0,53],[13,44,47,50]])})))).apply(this,arguments)},ce=function(e){return se.apply(this,arguments)},ie=function(){return(ie=v(m().mark((function e(t,n,o){var a,i,c,s,d,l,u,f,h,g;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,J("Atualizando fornecedor...",0,1),Q(1,1,"Atualizando dados do fornecedor..."),e.next=5,(0,r.mZ)((0,r.H9)(r.kA,"fornecedores",t),n);case 5:return console.log("🔄 Iniciando limpeza de subcoleções para fornecedor ".concat(t)),e.next=8,ce(t);case 8:if(console.log("✅ Limpeza de subcoleções concluída"),!(o&&o.length>0)){e.next=53;break}a=0,i=p(o);try{for(i.s();!(c=i.n()).done;)c.value.type,a+=1}catch(e){i.e(e)}finally{i.f()}s=0,d=[],l=p(o),e.prev=16,l.s();case 18:if((u=l.n()).done){e.next=37;break}if("pdf_page"!==(f=u.value).type){e.next=29;break}return h="".concat(f.originalName,"_page_").concat(f.pageIndex+1),Q(s+1,a,"Salvando página ".concat(f.pageIndex+1,": ").concat(f.originalName)),e.next=25,K(t,h,f.chunks,"pdf_page");case 25:d.push({fileName:h,originalName:f.originalName,type:"pdf_page",pageIndex:f.pageIndex,totalChunks:f.totalChunks}),s++,e.next=35;break;case 29:return g=f.originalName,Q(s+1,a,"Salvando imagem: ".concat(f.originalName)),e.next=33,K(t,g,f.chunks,"image");case 33:d.push({fileName:g,originalName:f.originalName,type:"image",totalChunks:f.chunks.length}),s++;case 35:e.next=18;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(16),l.e(e.t0);case 42:return e.prev=42,l.f(),e.finish(42);case 45:return Q(a,a,"Finalizando atualização..."),console.log("🧹 Limpando catálogos antigos do fornecedor..."),e.next=49,(0,r.mZ)((0,r.H9)(r.kA,"fornecedores",t),{catalogos:[]});case 49:return console.log("📝 Adicionando ".concat(d.length," novos catálogos...")),e.next=52,(0,r.mZ)((0,r.H9)(r.kA,"fornecedores",t),{catalogos:d});case 52:Q(a,a,"Atualização concluída!");case 53:W(),e.next=61;break;case 56:throw e.prev=56,e.t1=e.catch(0),W(),console.error("Erro ao atualizar fornecedor com subcoleções:",e.t1),e.t1;case 61:case"end":return e.stop()}}),e,null,[[0,56],[16,39,42,45]])})))).apply(this,arguments)},ae=function(e,t,n){return ie.apply(this,arguments)},oe=function(){return(oe=v(m().mark((function e(t,n){var o,a,i,c,s,l,u,f,h,g,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("=== SALVANDO FORNECEDOR ==="),console.log("Fornecedor: ".concat(t.nome||"Nome não informado")),console.log("Arquivos processados: ".concat(n.length)),J("Salvando fornecedor...",0,1),Q(1,1,"Criando documento do fornecedor..."),e.next=8,(0,r.gS)((0,r.rJ)(r.kA,"fornecedores"),d(d({},t),{},{catalogos:[]}));case 8:if(o=e.sent,!(n&&n.length>0)){e.next=49;break}a=0,i=p(n);try{for(i.s();!(c=i.n()).done;)c.value.type,a+=1}catch(e){i.e(e)}finally{i.f()}s=0,l=[],u=p(n),e.prev=16,u.s();case 18:if((f=u.n()).done){e.next=37;break}if("pdf_page"!==(h=f.value).type){e.next=29;break}return g="".concat(h.originalName,"_page_").concat(h.pageIndex+1),Q(s+1,a,"Salvando página ".concat(h.pageIndex+1,": ").concat(h.originalName)),e.next=25,K(o.id,g,h.chunks,"pdf_page");case 25:l.push({fileName:g,originalName:h.originalName,type:"pdf_page",pageIndex:h.pageIndex,totalChunks:h.totalChunks}),s++,e.next=35;break;case 29:return v=h.originalName,Q(s+1,a,"Salvando imagem: ".concat(h.originalName)),e.next=33,K(o.id,v,h.chunks,"image");case 33:l.push({fileName:v,originalName:h.originalName,type:"image",totalChunks:h.chunks.length}),s++;case 35:e.next=18;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(16),u.e(e.t0);case 42:return e.prev=42,u.f(),e.finish(42);case 45:return Q(a,a,"Finalizando salvamento..."),e.next=48,(0,r.mZ)(o,{catalogos:l});case 48:console.log("✅ Fornecedor salvo com sucesso");case 49:return W(),e.abrupt("return",o.id);case 53:throw e.prev=53,e.t1=e.catch(0),W(),console.error("Erro ao salvar fornecedor:",e.t1),e.t1;case 58:case"end":return e.stop()}}),e,null,[[0,53],[16,39,42,45]])})))).apply(this,arguments)},re=function(e,t){return oe.apply(this,arguments)},ne=function(){return(ne=v(m().mark((function e(t){var n,r,o,a,c,s,d,l,u,p,f,h,g,v,y,b,x,w,E,L,k;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return",[]);case 2:console.log("=== INICIANDO PROCESSAMENTO DE ARQUIVOS ==="),console.log("Total de arquivos para processar: ".concat(t.length)),n=[],r=t.length,o=0,a=0,J("Iniciando processamento...",0,r),e.prev=9,c=0;case 11:if(!(c<t.length)){e.next=60;break}if(s=t[c],console.log("\n--- Processando arquivo ".concat(c+1,"/").concat(r,": ").concat(s.name," ---")),console.log("Tipo do arquivo: ".concat(s.type)),console.log("Tamanho do arquivo: ".concat((s.size/1024/1024).toFixed(2)," MB")),Q(c+1,r,"Processando arquivo ".concat(c+1," de ").concat(r,": ").concat(s.name)),"application/pdf"!==s.type){e.next=41;break}return Q(c+1,r,"Convertendo PDF: ".concat(s.name)),e.next=21,(0,i.VQ)(s);case 21:for(d=e.sent,console.log("PDF convertido: ".concat(d.length," páginas encontradas")),l=[],u=0,Q(c+1,r,"Dividindo ".concat(d.length," páginas em chunks: ").concat(s.name)),p=s.size/1024/1024,f=p>5?5e4:1e5,console.log("📏 Arquivo ".concat(p.toFixed(2),"MB - Usando chunks de ").concat(f/1024,"KB")),h=0;h<d.length;h++)g=d[h],v=X(g,f),console.log("Página ".concat(h+1,": ").concat(v.length," chunks criados")),u+=v.length,Q(c+1,r,"Página ".concat(h+1,"/").concat(d.length," - ").concat(v.length," chunks: ").concat(s.name)),l.push({pageIndex:h,chunks:v});for(o+=d.length,a+=u,console.log("📊 RESUMO DO PDF: ".concat(s.name)),console.log("   • Páginas encontradas: ".concat(d.length)),console.log("   • Total de chunks criados: ".concat(u)),console.log("   • Média de chunks por página: ".concat((u/d.length).toFixed(1))),console.log("🔍 DEBUG: Processando PDF ".concat(s.name," com ").concat(l.length," páginas")),y=0;y<l.length;y++)b=l[y],x={originalName:s.name,type:"pdf_page",pageIndex:y,chunks:b.chunks,totalChunks:b.chunks.length},n.push(x),console.log("   📄 Página ".concat(y+1,": ").concat(b.chunks.length," chunks"));Q(c+1,r,"PDF processado: ".concat(s.name," (").concat(d.length," páginas)")),e.next=57;break;case 41:return Q(c+1,r,"Processando imagem: ".concat(s.name)),e.next=44,Z(s);case 44:w=e.sent,E=s.size/1024/1024,L=E>5?5e4:1e5,console.log("📏 Imagem ".concat(E.toFixed(2),"MB - Usando chunks de ").concat(L/1024,"KB")),k=X(w,L),o+=1,a+=k.length,console.log("📊 RESUMO DA IMAGEM: ".concat(s.name)),console.log("   • Páginas encontradas: 1 (imagem única)"),console.log("   • Total de chunks criados: ".concat(k.length)),console.log("   • Tamanho base64: ".concat((w.length/1024).toFixed(2)," KB")),Q(c+1,r,"Imagem processada: ".concat(s.name," (").concat(k.length," chunks)")),n.push({originalName:s.name,type:"image",chunks:k});case 57:c++,e.next=11;break;case 60:return console.log("\n=== RESUMO FINAL DO PROCESSAMENTO ==="),console.log("📁 Total de arquivos processados: ".concat(r)),console.log("📄 Total de páginas encontradas: ".concat(o)),console.log("🔸 Total de chunks criados: ".concat(a)),console.log("📊 Média de chunks por página: ".concat((a/o).toFixed(1))),console.log("💾 Tamanho médio por chunk: ".concat(250..toFixed(0)," KB")),console.log("==========================================\n"),console.log("🔍 DEBUG: Arquivos processados que serão salvos:"),n.forEach((function(e,t){console.log("   ".concat(t+1,". ").concat(e.originalName," (").concat(e.type,") - Página ").concat(e.pageIndex+1," - ").concat(e.totalChunks," chunks"))})),Q(r,r,"Processamento concluído! Salvando no Firebase..."),W(),e.abrupt("return",n);case 74:throw e.prev=74,e.t0=e.catch(9),W(),console.error("❌ ERRO NO PROCESSAMENTO:",e.t0),e.t0;case 79:case"end":return e.stop()}}),e,null,[[9,74]])})))).apply(this,arguments)},te=function(e){return ne.apply(this,arguments)},ee=function(){return ee=v(m().mark((function e(t,n,o){var a,i,c,s,d,l,u,p,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=f.length>3&&void 0!==f[3]?f[3]:"image",console.log("💾 Salvando chunks: ".concat(n," (").concat(o.length," chunks)")),c=(0,r.rJ)(r.kA,"fornecedores",t,"catalogos",n,"chunks"),s=o.length>50?5:10,d=[],l=0;l<o.length;l+=s)d.push(o.slice(l,l+s));console.log("   • Total de lotes: ".concat(d.length)),console.log("   • Chunks por lote: ".concat(s)),console.log("   • Tamanho médio por chunk: ".concat(((null===(a=o[0])||void 0===a?void 0:a.length)||0).toFixed(2)," KB")),u=m().mark((function e(){var t,n,a,l,u,f,h,g,v,y;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=d[p],n=(0,r.wP)(r.kA),console.log("   • Salvando lote ".concat(p+1,"/").concat(d.length," (").concat(t.length," chunks)")),(a=document.querySelector("#progress-modal h3"))&&(l=a.textContent,u="".concat(l," - Lote ").concat(p+1,"/").concat(d.length," (").concat(t.length," chunks)"),a.textContent=u),f=0;f<t.length;f++)h=t[f],g=p*s+f,v=(0,r.H9)(c),n.set(v,{chunkIndex:g,data:h,totalChunks:o.length,fileType:i,timestamp:new Date});return e.next=8,n.commit();case 8:if(console.log("   ✅ Lote ".concat(p+1," salvo com sucesso")),!(p<d.length-1)){e.next=14;break}return y=d.length>20?500:200,console.log("   ⏳ Aguardando ".concat(y,"ms antes do próximo lote...")),e.next=14,new Promise((function(e){return setTimeout(e,y)}));case 14:case"end":return e.stop()}}),e)})),p=0;case 11:if(!(p<d.length)){e.next=16;break}return e.delegateYield(u(),"t0",13);case 13:p++,e.next=11;break;case 16:return console.log("✅ Todos os chunks salvos: ".concat(n)),e.abrupt("return",{fileName:n,totalChunks:o.length,fileType:i});case 18:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)},K=function(e,t,n){return ee.apply(this,arguments)},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5;console.log("Dividindo base64 em chunks:",{dataLength:e.length,dataStart:e.substring(0,50),hasDataUrl:e.startsWith("data:"),maxChunkSize:t});for(var n=[],r=e.length,o=0;o<r;o+=t){var a=e.substring(o,o+t);n.push(a)}return console.log("Dividido em ".concat(n.length," chunks")),n},W=function(){var e=document.getElementById("progress-modal");e&&e.remove()},Q=function(e,t,n){var r=document.getElementById("progress-modal");if(r){var o=r.querySelector("#progress-bar"),a=r.querySelector("#progress-text"),i=r.querySelector("#progress-details"),c=r.querySelector("h3");if(o&&(o.style.width="".concat(e/t*100,"%")),a&&(a.textContent="".concat(e," de ").concat(t)),i&&(i.textContent=n),c){var s=c.textContent.split(" - ")[0];c.textContent="".concat(s," - ").concat(n)}}},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=document.createElement("div");r.id="progress-modal",r.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",r.innerHTML='\n            <div class="bg-white rounded-lg p-6 max-w-lg w-full mx-4">\n                        <div class="text-center">\n                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"></div>\n                    <h3 class="text-lg font-semibold mb-2">'.concat(e,'</h3>\n                    <div class="w-full bg-gray-200 rounded-full h-2 mb-2">\n                        <div id="progress-bar" class="bg-primary h-2 rounded-full transition-all duration-300" style="width: ').concat(n>0?t/n*100:0,'%"></div>\n                                </div>\n                    <p id="progress-text" class="text-sm text-gray-600 mb-2">').concat(t," de ").concat(n,'</p>\n                    <p id="progress-details" class="text-xs text-gray-500">Aguarde, processando...</p>\n                                </div>\n                                </div>\n        '),document.body.appendChild(r)},Z=function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))},Y=function(){return(Y=v(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Swal.fire({title:"Tem certeza?",text:"Esta ação não poderá ser revertida!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"});case 2:if(!e.sent.isConfirmed){e.next=16;break}return e.prev=4,e.next=7,(0,r.kd)((0,r.H9)(r.kA,"fornecedores",t));case 7:Swal.fire({icon:"success",title:"Excluído!",text:"O fornecedor foi excluído com sucesso.",showConfirmButton:!1,timer:2e3}),y=y.filter((function(e){return e.id!==t})),H(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Erro ao excluir fornecedor:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível excluir o fornecedor.",showConfirmButton:!1,timer:3e3});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)},U=function(e){return Y.apply(this,arguments)},V=function(e){console.log("Abrindo modal de edição do fornecedor"),document.getElementById("edit-descricao").value=e.descricao||"",document.getElementById("edit-nome-contato").value=e.nomeContato||"",document.getElementById("edit-contato").value=e.contato||"",document.getElementById("edit-forma-contato").value=e.formaContato||"",document.getElementById("edit-tipo").value=e.tipo||"",e.logo?(document.getElementById("edit-logo-name").textContent="Logo atual",document.getElementById("edit-logo-info").classList.remove("hidden"),document.getElementById("edit-upload-logo-text").classList.add("hidden")):(document.getElementById("edit-logo-info").classList.add("hidden"),document.getElementById("edit-upload-logo-text").classList.remove("hidden")),e.catalogos&&e.catalogos.length>0?(document.getElementById("edit-catalogos-count").textContent="".concat(e.catalogos.length," catálogo").concat(e.catalogos.length>1?"s":""," cadastrado").concat(e.catalogos.length>1?"s":""),document.getElementById("edit-catalogos-info").classList.remove("hidden"),document.getElementById("edit-upload-catalogos-text").classList.add("hidden")):(document.getElementById("edit-catalogos-info").classList.add("hidden"),document.getElementById("edit-upload-catalogos-text").classList.remove("hidden")),L.classList.remove("hidden"),L.setAttribute("data-id",e.id)},$=function(e){var t=document.getElementById("details-modal"),n=document.getElementById("details-modal-content"),r="";"convencional"===e.tipo?r='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Convencional</span>':"criativo"===e.tipo?r='<span class="bg-purple-100 text-purple-800 text-xs font-medium px-2 py-0.5 rounded">Criativo</span>':"ambos"===e.tipo&&(r='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Convencional e Criativo</span>');var o="";"whatsapp"===e.formaContato?o='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">WhatsApp</span>':"email"===e.formaContato&&(o='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Email</span>');var a="";if(console.log("🔍 Dados do fornecedor no modal:",e),console.log("📁 Catálogos do fornecedor:",e.catalogos),e.catalogos&&e.catalogos.length>0){a='<div class="mt-3"><h4 class="font-semibold text-sm mb-2">Catálogos:</h4><div class="space-y-3">';var i={};e.catalogos.forEach((function(e){console.log("📄 Catálogo individual:",e);var t=e.originalName;i[t]||(i[t]=[]),i[t].push(e)})),console.log("📊 Catálogos agrupados:",i),Object.keys(i).forEach((function(t,n){var r=i[t],o=r[0];if("pdf_page"===o.type){var c=r.length;a+='\n                        <div class="border rounded p-3 bg-gray-50">\n                            <div class="flex justify-between items-start mb-2">\n                                <div class="text-sm font-medium text-gray-700">\n                                    <i class="fas fa-file-pdf mr-1"></i>'.concat(t," (").concat(c," página").concat(c>1?"s":"",')\n                                </div>\n                                <button class="bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded transition-colors duration-200" \n                                        onclick="visualizarPaginas(\'').concat(e.id,"', '").concat(t,"', ").concat(c,')">\n                                    <i class="fas fa-eye mr-1"></i>Ver páginas\n                                </button>\n                            </div>\n                            <div class="text-xs text-gray-600">\n                                <i class="fas fa-database mr-1"></i>').concat(c," página").concat(c>1?"s":""," salva").concat(c>1?"s":""," em subcoleções\n                            </div>\n                        </div>\n                    ")}else if("pdf"===o.type){var s,d=o.totalPages||(null===(s=o.pages)||void 0===s?void 0:s.length)||1;a+='\n                        <div class="border rounded p-3 bg-gray-50">\n                            <div class="flex justify-between items-start mb-2">\n                                <div class="text-sm font-medium text-gray-700">\n                                    <i class="fas fa-file-pdf mr-1"></i>'.concat(t," (").concat(d," página").concat(d>1?"s":"",')\n                                </div>\n                                <button class="bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded transition-colors duration-200" \n                                        onclick="visualizarPaginas(\'').concat(e.id,"', '").concat(t,"', ").concat(d,')">\n                                    <i class="fas fa-eye mr-1"></i>Ver páginas\n                                </button>\n                            </div>\n                            <div class="text-xs text-gray-600">\n                                <i class="fas fa-database mr-1"></i>').concat(d," página").concat(d>1?"s":""," salva").concat(d>1?"s":""," em subcoleções\n                            </div>\n                        </div>\n                    ")}else"image"===o.type?a+='\n                        <div class="border rounded p-3 bg-gray-50">\n                            <div class="flex justify-between items-start mb-2">\n                                <div class="text-sm font-medium text-gray-700">\n                                    <i class="fas fa-image mr-1"></i>'.concat(t,'\n                                </div>\n                                <button class="bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-1 rounded transition-colors duration-200" \n                                        onclick="visualizarImagem(\'').concat(e.id,"', '").concat(t,'\')">\n                                    <i class="fas fa-eye mr-1"></i>Ver imagem\n                                </button>\n                            </div>\n                            <div class="text-xs text-gray-600">\n                                <i class="fas fa-database mr-1"></i>Imagem salva em subcoleções\n                            </div>\n                        </div>\n                    '):a+='\n                        <div class="border rounded p-3 bg-gray-50">\n                            <div class="text-sm font-medium text-gray-700 mb-2">\n                                <i class="fas fa-file mr-1"></i>'.concat(t||"Catálogo ".concat(n+1),"\n                            </div>\n                        </div>\n                    ")})),a+="</div></div>"}else a='<div class="mt-3 text-sm text-gray-500">Nenhum catálogo cadastrado</div>';var c='\n            <div class="flex flex-col items-center mb-4">\n                <div class="w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-2 overflow-hidden">\n                    '.concat(e.logo?'<img src="'.concat(e.logo,'" alt="Logo ').concat(e.descricao,'" class="w-full h-full object-cover">'):'<i class="fas fa-building text-gray-500 text-4xl"></i>','\n                </div>\n                <div class="font-bold text-xl mb-1">').concat(e.descricao,'</div>\n                <div class="text-sm text-gray-700 mb-1">Contato: ').concat(e.nomeContato,'</div>\n                <div class="text-sm text-gray-700 mb-1">').concat(e.contato?"".concat("whatsapp"===e.formaContato?"WhatsApp":"Email",": ").concat(e.contato):"",'</div>\n                <div class="mt-2 flex gap-2">\n                    ').concat(r,"\n                    ").concat(o,"\n                </div>\n            </div>\n            ").concat(a,'\n            <div class="flex gap-2 justify-center mt-4">\n                <button class="bg-yellow-500 text-white px-4 py-2 rounded editar-fornecedor-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i> Editar</button>\n                <button class="bg-red-500 text-white px-4 py-2 rounded remover-fornecedor-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i> Excluir</button>\n            </div>\n        ');n.innerHTML=c,t.classList.remove("hidden"),document.getElementById("close-details-modal").onclick=function(){return t.classList.add("hidden")},n.querySelector(".editar-fornecedor-btn").onclick=function(){t.classList.add("hidden"),V(e)},n.querySelector(".remover-fornecedor-btn").onclick=function(){t.classList.add("hidden"),U(e.id)}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("Atualizando lista de fornecedores (cards)...");var t=document.getElementById("fornecedor-list-cards");if(t){t.innerHTML="";var n=e||y;n&&(M&&M.key&&(n=(0,o.wy)(n,M.key,M.order)),n.forEach((function(e){var r=document.createElement("div");r.className="bg-white rounded shadow p-3 flex flex-row items-center gap-4";var o="";"convencional"===e.tipo?o='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Convencional</span>':"criativo"===e.tipo?o='<span class="bg-purple-100 text-purple-800 text-xs font-medium px-2 py-0.5 rounded">Criativo</span>':"ambos"===e.tipo&&(o='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Ambos</span>');var a="";"whatsapp"===e.formaContato?a='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">WhatsApp</span>':"email"===e.formaContato&&(a='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Email</span>');var i=e.catalogos?e.catalogos.length:0,c=i>0?"".concat(i," catálogo").concat(i>1?"s":""):"Sem catálogos";r.innerHTML='\n                    <div class="flex-shrink-0 flex flex-col items-center justify-center">\n                        <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full flex items-center justify-center mb-1 overflow-hidden">\n                            '.concat(e.logo?'<img src="'.concat(e.logo,'" alt="Logo ').concat(e.descricao,'" class="w-full h-full object-cover">'):'<i class="fas fa-building text-gray-500 text-2xl"></i>',"\n                        </div>\n                        ").concat(o,"\n                        ").concat(a,'\n                    </div>\n                    <div class="flex flex-col flex-1 items-start w-full">\n                        <div class="text-base font-semibold text-gray-800">').concat(e.descricao,'</div>\n                        <div class="text-sm text-gray-600">Contato: ').concat(e.nomeContato,'</div>\n                        <div class="text-sm text-gray-600">').concat(e.contato?"".concat("whatsapp"===e.formaContato?"WhatsApp":"Email",": ").concat(e.contato):"",'</div>\n                        <div class="text-sm text-gray-600 mt-1"><i class="fas fa-file-pdf mr-1"></i>').concat(c,'</div>\n                        <div class="flex gap-2 mt-3">\n                            <button class="bg-primary text-white px-3 py-1 rounded ver-detalhes-btn" data-id="').concat(e.id,'">\n                                <i class="fas fa-eye"></i>\n                            </button>\n                            ').concat("whatsapp"===e.formaContato&&e.contato?'<button class="bg-green-500 text-white px-3 py-1 rounded whatsapp-btn" data-contato="'.concat(e.contato,'">\n                                    <i class="fab fa-whatsapp"></i>\n                                </button>'):"",'\n                        </div>\n                    </div>\n                    <div class="flex flex-col items-end gap-2 ml-auto">\n                        <button class="bg-yellow-500 text-white px-3 py-1 rounded editar-fornecedor-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i></button>\n                        <button class="bg-red-500 text-white px-3 py-1 rounded remover-fornecedor-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i></button>\n                    </div>\n                '),t.appendChild(r),r.querySelector(".ver-detalhes-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),r=n.find((function(e){return e.id==t}));$(r)}));var s=r.querySelector(".whatsapp-btn");s&&s.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-contato"),n="https://wa.me/".concat(t);window.open(n,"_blank")})),r.querySelector(".editar-fornecedor-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),r=n.find((function(e){return e.id==t}));V(r)})),r.querySelector(".remover-fornecedor-btn").addEventListener("click",function(){var e=v(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.currentTarget.getAttribute("data-id"),U(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.getElementById("total-registros-valor").innerText=n.length)}},G=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||y,t=document.getElementById("total-registros-valor");t&&(t.innerText=e.length),e.length!==y.length?(T.classList.remove("hidden"),F.innerText=e.length):T.classList.add("hidden")},_=function(){(0,o.wE)(A,[{name:"descricao",label:"Descrição"},{name:"nomeContato",label:"Nome do Contato"},{name:"tipo",label:"Tipo"},{name:"formaContato",label:"Forma de Contato"}],(function(e){H(e),G(e)}),y,P,S,T,F)},R=function(){return(R=v(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.GG)(B);case 3:t=e.sent,y=t.docs.map((function(e){return d({id:e.id},e.data())})),console.log("📋 Fornecedores carregados:",y),y.forEach((function(e){e.catalogos&&e.catalogos.length>0&&console.log("📁 Fornecedor ".concat(e.descricao," tem ").concat(e.catalogos.length," catálogos:"),e.catalogos)})),H(),_(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Erro ao carregar fornecedores:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível carregar os fornecedores.",showConfirmButton:!1,timer:3e3});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)},z=function(){return R.apply(this,arguments)},q=function(){var e=document.getElementById("fornecedor-list-cards");if(e){for(var t="",n=0;n<6;n++)t+='\n                <div class="bg-white rounded shadow p-3 flex flex-row items-center gap-4 animate-pulse">\n                    <div class="w-16 h-16 rounded-full bg-gray-200"></div>\n                    <div class="flex flex-col flex-1 gap-2">\n                        <div class="h-4 bg-gray-200 rounded w-1/2"></div>\n                        <div class="h-3 bg-gray-100 rounded w-3/4"></div>\n                        <div class="h-3 bg-gray-100 rounded w-1/3"></div>\n                        <div class="h-8 bg-gray-200 rounded w-2/3 mt-2"></div>\n                    </div>\n                </div>\n            ';e.innerHTML=t}},console.log("Fornecedores init inicio"),l=document.getElementById("content-dashboard"),e.prev=37,e.next=40,(0,a.k)();case 40:if(h=e.sent,ze=2,g=function(e){if(Array.isArray(e))return e}(qe=h)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(qe,ze)||f(qe,ze)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=g[0],x=g[1],!b){e.next=47;break}return window.location.hash=b,e.abrupt("return");case 47:if("admin"===x.tipo){e.next=53;break}return window.location.hash="/app",e.abrupt("return");case 53:x.email;case 55:e.next=61;break;case 57:return e.prev=57,e.t0=e.catch(37),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 61:w='\n    <form id="form-fornecedor" class="space-y-4">\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n            '.concat((0,o.LH)("text","descricao","Descrição *",!0),"\n            ").concat((0,o.LH)("text","nome-contato","Nome do contato *",!0),'\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n            ').concat((0,o.LH)("text","contato","Email/Telefone *",!0),'\n            <div class="relative w-full">\n                <select \n                    id="forma-contato" \n                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    required\n                >\n                    <option value="">Selecione</option>\n                    <option value="whatsapp">WhatsApp</option>\n                    <option value="email">Email</option>\n                </select>\n                <label for="forma-contato" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                    Forma de contato *\n                </label>\n            </div>\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n            <div class="relative w-full">\n                <select \n                    id="tipo" \n                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    required\n                >\n                    <option value="">Selecione</option>\n                    <option value="convencional">Convencional</option>\n                    <option value="criativo">Criativo</option>\n                    <option value="ambos">Convencional e Criativo</option>\n                </select>\n                <label for="tipo" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                    Tipo *\n                </label>\n            </div>\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n            <div class="relative w-full">\n                <input \n                    type="file" \n                    id="logo" \n                    accept="image/*"\n                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"\n                />\n                <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="logo-dropzone">\n                    <div id="logo-info" class="flex flex-col mr-2 hidden">\n                        <span id="logo-name" class="text-xs font-medium"></span>\n                        <span id="logo-size" class="text-xs text-gray-500"></span>\n                    </div>\n                    <span class="text-sm text-gray-600 whitespace-nowrap" id="upload-logo-text">\n                        Logo/Logotipo (opcional)\n                    </span>\n                </div>\n            </div>\n            <div class="relative w-full">\n                <input \n                    type="file" \n                    id="catalogos" \n                    accept=".pdf"\n                    multiple\n                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"\n                />\n                <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="catalogos-dropzone">\n                    <div id="catalogos-info" class="flex flex-col mr-2 hidden">\n                        <span id="catalogos-count" class="text-xs font-medium"></span>\n                        <span id="catalogos-size" class="text-xs text-gray-500"></span>\n                    </div>\n                    <span class="text-sm text-gray-600 whitespace-nowrap" id="upload-catalogos-text">\n                        Catálogos PDF (opcional)\n                    </span>\n                </div>\n            </div>\n        </div>\n        <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded">\n            Cadastrar Fornecedor\n        </button>\n    </form>\n    '),l.innerHTML='\n      <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Fornecedores</h1>\n\n        '.concat(w,'\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-4">\n            Filtrar Fornecedores\n        </button>\n\n        <button \n            id="open-order-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-4">\n            Ordenar\n        </button>\n\n        <div id="total-registros" class="text-center text-gray-500 text-sm mt-2">\n            <div class="flex justify-center items-center gap-4">\n                <span>\n                    Total de fornecedores: <span id="total-registros-valor" class="font-semibold text-primary">\n                      <span class="inline-block bg-gray-200 rounded w-12 h-5 align-middle animate-pulse"></span>\n                    </span>\n                </span>\n                <span id="registros-filtrado" class="hidden">\n                    <i class="fas fa-filter text-primary"></i>\n                    Encontrados no filtro: <span id="registros-filtrado-valor" class="font-semibold text-primary">0</span>\n                </span>\n            </div>\n        </div>\n\n        \x3c!-- Lista de Fornecedores em Cards --\x3e\n        <div id="fornecedor-list-cards" class="mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>\n\n        \x3c!-- Modal de detalhes do fornecedor --\x3e\n        <div id="details-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-50">\n            <div class="relative bg-white rounded shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">\n                <button id="close-details-modal" class="absolute top-2 right-2 bg-gray-300 hover:bg-red-600 hover:text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl leading-none">&times;</button>\n                <div id="details-modal-content"></div>\n            </div>\n        </div>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 md:w-[32rem] shadow-lg max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Filtrar Fornecedores</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>\n                    \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div \n            id="order-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Ordenar Fornecedores</h2>\n                    <div class="space-y-4 mb-4">\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="descricao">\n                        Descrição\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="nomeContato">\n                        Nome do Contato\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="tipo">\n                        Tipo\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="formaContato">\n                        Forma de Contato\n                        </button>\n                    </div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-order-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-[40rem] max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Editar Fornecedor</h2>\n                <form id="edit-form" class="space-y-4">\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        ').concat((0,o.LH)("text","edit-descricao","Descrição *",!0),"\n                        ").concat((0,o.LH)("text","edit-nome-contato","Nome do contato *",!0),'\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        ').concat((0,o.LH)("text","edit-contato","Email/Telefone *",!0),'\n                        <div class="relative w-full">\n                            <select \n                                id="edit-forma-contato" \n                                class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                required\n                            >\n                                <option value="">Selecione</option>\n                                <option value="whatsapp">WhatsApp</option>\n                                <option value="email">Email</option>\n                            </select>\n                            <label for="edit-forma-contato" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                Forma de contato *\n                            </label>\n                        </div>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        <div class="relative w-full">\n                            <select \n                                id="edit-tipo" \n                                class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                required\n                            >\n                                <option value="">Selecione</option>\n                                <option value="convencional">Convencional</option>\n                                <option value="criativo">Criativo</option>\n                                <option value="ambos">Convencional e Criativo</option>\n                            </select>\n                            <label for="edit-tipo" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                Tipo *\n                            </label>\n                        </div>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        <div class="relative w-full">\n                            <input \n                                type="file" \n                                id="edit-logo" \n                                accept="image/*"\n                                class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                            />\n                            <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="edit-logo-dropzone">\n                                <div id="edit-logo-info" class="flex flex-col mr-2 hidden">\n                                    <span id="edit-logo-name" class="text-xs font-medium"></span>\n                                    <span id="edit-logo-size" class="text-xs text-gray-500"></span>\n                                </div>\n                                <span class="text-sm text-gray-600 whitespace-nowrap" id="edit-upload-logo-text">\n                                    Alterar logo/logotipo\n                                </span>\n                            </div>\n                        </div>\n                        <div class="relative w-full">\n                            <input \n                                type="file" \n                                id="edit-catalogos" \n                                accept=".pdf"\n                                multiple\n                                class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                            />\n                            <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="edit-catalogos-dropzone">\n                                <div id="edit-catalogos-info" class="flex flex-col mr-2 hidden">\n                                    <span id="edit-catalogos-count" class="text-xs font-medium"></span>\n                                    <span id="edit-catalogos-size" class="text-xs text-gray-500"></span>\n                                </div>\n                                <span class="text-sm text-gray-600 whitespace-nowrap" id="edit-upload-catalogos-text">\n                                    Alterar catálogos PDF\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <button type="submit" \n                      class="w-full bg-[#386c6f] text-white p-2 rounded hover:bg-[#264a4c] transition-colors duration-300 flex items-center justify-center mt-6">\n                      <i class="fas fa-save mr-2"></i>\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    '),E=document.getElementById("form-fornecedor"),L=document.getElementById("edit-modal"),k=document.getElementById("close-edit-modal"),I=document.getElementById("edit-form"),B=(0,r.rJ)(r.kA,"fornecedores"),S=document.getElementById("filter-modal"),j=document.getElementById("open-filter-modal"),C=document.getElementById("close-filter-modal"),P=document.getElementById("filter-form"),A=document.getElementById("filter-inputs"),O=document.getElementById("order-modal"),D=document.getElementById("open-order-modal"),N=document.getElementById("close-order-modal"),M={key:"descricao",order:"asc"},T=document.getElementById("registros-filtrado"),F=document.getElementById("registros-filtrado-valor"),q(),z(),k.addEventListener("click",(function(){L.classList.add("hidden")})),I.addEventListener("submit",function(){var e=v(m().mark((function e(t){var n,o,a,i,c,s,d,l,u,p,f,h,g;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=I.querySelector('button[type="submit"]')).disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Salvando...',o=document.getElementById("edit-modal").dataset.id,a=document.getElementById("edit-descricao").value,i=document.getElementById("edit-nome-contato").value,c=document.getElementById("edit-contato").value,s=document.getElementById("edit-forma-contato").value,d=document.getElementById("edit-tipo").value,l=document.getElementById("edit-logo").files[0],u=document.getElementById("edit-catalogos").files,p=null,!l){e.next=23;break}return e.prev=14,e.next=17,Z(l);case 17:p=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.error("Erro ao processar a logo:",e.t0);case 23:if(f=[],!(u.length>0)){e.next=43;break}if(e.prev=25,!((h=Ne(Array.from(u))).length>0)){e.next=35;break}return e.next=30,Me(h);case 30:if(e.sent){e.next=35;break}return n.disabled=!1,n.innerHTML="Cadastrar Fornecedor",e.abrupt("return");case 35:return e.next=37,te(Array.from(u));case 37:f=e.sent,e.next=43;break;case 40:e.prev=40,e.t1=e.catch(25),console.error("Erro ao processar os catálogos:",e.t1);case 43:return(0,r.H9)(r.kA,"fornecedores",o),g={descricao:a,nomeContato:i,contato:c,formaContato:s,tipo:d,criadoEm:new Date},p&&(g.logo=p),f.length>0&&(g.catalogos=f),e.prev=47,e.next=50,ae(o,g,f);case 50:return Swal.fire({icon:"success",title:"Sucesso!",text:"Fornecedor atualizado com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=53,z();case 53:e.next=59;break;case 55:e.prev=55,e.t2=e.catch(47),console.error("Erro ao atualizar fornecedor:",e.t2),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível alterar o fornecedor.",showConfirmButton:!1,timer:3e3});case 59:return e.prev=59,n.disabled=!1,n.innerHTML='<i class="fas fa-save mr-2"></i> Salvar Alterações',L.classList.add("hidden"),e.finish(59);case 64:case"end":return e.stop()}}),e,null,[[14,20],[25,40],[47,55,59,64]])})));return function(t){return e.apply(this,arguments)}}()),window.visualizarPaginas=function(){var e=v(m().mark((function e(t,n,r){var o,a,i,c,s,d,l,u,p;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Swal.fire({title:"Carregando páginas...",html:'\n                    <div class="text-center">\n                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>\n                        <p class="text-sm text-gray-600">Recuperando '.concat(r," página").concat(r>1?"s":"","...</p>\n                    </div>\n                "),allowOutsideClick:!1,showConfirmButton:!1}),o=[],e.prev=3,a=1;case 5:if(!(a<=r)){e.next=16;break}return i="".concat(n,"_page_").concat(a),console.log("Recuperando página ".concat(a,": ").concat(i)),e.next=10,de(t,i);case 10:c=e.sent,console.log("Dados recuperados para página ".concat(a,":"),{dataLength:c.data.length,dataStart:c.data.substring(0,50),type:c.type}),o.push({pageNumber:a,data:c.data});case 13:a++,e.next=5;break;case 16:e.next=23;break;case 18:if(e.prev=18,e.t0=e.catch(3),console.log("Erro ao recuperar das subcoleções, tentando estrutura antiga..."),(s=y.find((function(e){return e.id===t})))&&s.catalogos&&(d=s.catalogos.find((function(e){return e.originalName===n&&"pdf"===e.type})))&&d.pages)for(l=0;l<d.pages.length;l++)(u=d.pages[l]).chunks&&(p=u.chunks.join(""),o.push({pageNumber:l+1,data:p}));case 23:Swal.close(),o.length>0?ue(n,o):Swal.fire({icon:"error",title:"Erro ao carregar páginas",text:"Não foi possível recuperar as páginas do PDF.",confirmButtonText:"OK"}),e.next=32;break;case 27:e.prev=27,e.t1=e.catch(0),Swal.close(),console.error("Erro ao carregar páginas:",e.t1),Swal.fire({icon:"error",title:"Erro ao carregar páginas",text:"Não foi possível carregar as páginas do PDF.",confirmButtonText:"OK"});case 32:case"end":return e.stop()}}),e,null,[[0,27],[3,18]])})));return function(t,n,r){return e.apply(this,arguments)}}(),window.visualizarImagem=function(){var e=v(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Swal.fire({title:"Carregando imagem...",html:'\n                    <div class="text-center">\n                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>\n                        <p class="text-sm text-gray-600">Recuperando imagem...</p>\n                    </div>\n                ',allowOutsideClick:!1,showConfirmButton:!1}),e.next=4,de(t,n);case 4:r=e.sent,Swal.close(),pe(n,r.data),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),Swal.close(),console.error("Erro ao carregar imagem:",e.t0),Swal.fire({icon:"error",title:"Erro ao carregar imagem",text:"Não foi possível carregar a imagem.",confirmButtonText:"OK"});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),me=document.getElementById("logo"),fe=document.getElementById("logo-info"),he=document.getElementById("logo-name"),ge=document.getElementById("logo-size"),ve=document.getElementById("upload-logo-text"),ye=document.getElementById("catalogos"),be=document.getElementById("catalogos-info"),xe=document.getElementById("catalogos-count"),we=document.getElementById("catalogos-size"),Ee=document.getElementById("upload-catalogos-text"),me.addEventListener("change",(function(e){var t=e.target.files[0];t?(he.textContent=t.name,ge.textContent=De(t.size),fe.classList.remove("hidden"),ve.classList.add("hidden")):(fe.classList.add("hidden"),ve.classList.remove("hidden"))})),ye.addEventListener("change",(function(e){var t=e.target.files;if(t.length>0){for(var n=0,r=0;r<t.length;r++)n+=t[r].size;xe.textContent="".concat(t.length," arquivo").concat(t.length>1?"s":""," selecionado").concat(t.length>1?"s":""),we.textContent=De(n),be.classList.remove("hidden"),Ee.classList.add("hidden")}else be.classList.add("hidden"),Ee.classList.remove("hidden")})),Le=document.getElementById("edit-logo"),ke=document.getElementById("edit-logo-info"),Ie=document.getElementById("edit-logo-name"),Be=document.getElementById("edit-logo-size"),Se=document.getElementById("edit-upload-logo-text"),je=document.getElementById("edit-catalogos"),Ce=document.getElementById("edit-catalogos-info"),Pe=document.getElementById("edit-catalogos-count"),Ae=document.getElementById("edit-catalogos-size"),Oe=document.getElementById("edit-upload-catalogos-text"),Le.addEventListener("change",(function(e){var t=e.target.files[0];t?(Ie.textContent=t.name,Be.textContent=De(t.size),ke.classList.remove("hidden"),Se.classList.add("hidden")):(ke.classList.add("hidden"),Se.classList.remove("hidden"))})),je.addEventListener("change",(function(e){var t=e.target.files;if(t.length>0){for(var n=0,r=0;r<t.length;r++)n+=t[r].size;Pe.textContent="".concat(t.length," arquivo").concat(t.length>1?"s":""," selecionado").concat(t.length>1?"s":""),Ae.textContent=De(n),Ce.classList.remove("hidden"),Oe.classList.add("hidden")}else Ce.classList.add("hidden"),Oe.classList.remove("hidden")})),j.addEventListener("click",(function(){S.classList.remove("hidden");var e=A.querySelectorAll("input");e.length>0&&e[0].focus()})),C.addEventListener("click",(function(){S.classList.add("hidden")})),D.addEventListener("click",(function(){O.classList.remove("hidden")})),N.addEventListener("click",(function(){O.classList.add("hidden")})),u(O.querySelectorAll(".btn-order")).forEach((function(e){e.addEventListener("click",(function(){Fe(e)}))})),E&&E.addEventListener("submit",function(){var e=v(m().mark((function e(t){var n,r,o,a,i,c,s,d,l,u,p,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=E.querySelector('button[type="submit"]')).disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Cadastrando...',r=document.getElementById("descricao").value,o=document.getElementById("nome-contato").value,a=document.getElementById("contato").value,i=document.getElementById("forma-contato").value,c=document.getElementById("tipo").value,s=document.getElementById("logo").files[0],d=document.getElementById("catalogos").files,l=null,!s){e.next=22;break}return e.prev=13,e.next=16,Z(s);case 16:l=e.sent,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("Erro ao processar a logo:",e.t0);case 22:if(u=[],!(d.length>0)){e.next=42;break}if(e.prev=24,!((p=Ne(Array.from(d))).length>0)){e.next=34;break}return e.next=29,Me(p);case 29:if(e.sent){e.next=34;break}return n.disabled=!1,n.innerHTML='<i class="fas fa-save mr-2"></i> Salvar Alterações',e.abrupt("return");case 34:return e.next=36,te(Array.from(d));case 36:u=e.sent,e.next=42;break;case 39:e.prev=39,e.t1=e.catch(24),console.error("Erro ao processar os catálogos:",e.t1);case 42:return e.prev=42,f={descricao:r,nomeContato:o,contato:a,formaContato:i,tipo:c,criadoEm:new Date},l&&(f.logo=l),e.next=47,re(f,u);case 47:return Swal.fire({icon:"success",title:"Sucesso!",text:"Fornecedor cadastrado com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=50,z();case 50:E.reset(),fe.classList.add("hidden"),ve.classList.remove("hidden"),be.classList.add("hidden"),Ee.classList.remove("hidden"),e.next=61;break;case 57:e.prev=57,e.t2=e.catch(42),console.error("Erro ao cadastrar fornecedor:",e.t2),Swal.fire({icon:"error",title:"Erro ao cadastrar!",text:"Não foi possível cadastrar o fornecedor.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0});case 61:return e.prev=61,n.disabled=!1,n.innerHTML="Cadastrar Fornecedor",e.finish(61);case 65:case"end":return e.stop()}}),e,null,[[13,19],[24,39],[42,57,61,65]])})));return function(t){return e.apply(this,arguments)}}()),null===(t=document.getElementById("filter-modal"))||void 0===t||t.classList.add("modal"),null===(n=document.getElementById("order-modal"))||void 0===n||n.classList.add("modal"),null===(c=document.getElementById("edit-modal"))||void 0===c||c.classList.add("modal"),null===(s=document.getElementById("details-modal"))||void 0===s||s.classList.add("modal"),document.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||document.querySelectorAll(".modal").forEach((function(e){e.classList.contains("hidden")||e.classList.add("hidden")}))})),document.addEventListener("keydown",(function(e){var t=document.activeElement.tagName.toLowerCase();"input"!==t&&"textarea"!==t&&"select"!==t&&(document.querySelectorAll(".modal:not(.hidden)").length>0||("f"!==e.key&&"F"!==e.key||(e.preventDefault(),void 0!==j&&j.click()),"o"!==e.key&&"O"!==e.key||(e.preventDefault(),void 0!==D&&D.click())))})),window.openImageModal=function(e,t){var n=document.getElementById("image-modal");if(n){var r=n.querySelector("h3"),o=n.querySelector("img");r&&(r.textContent=t),o&&(o.src=e)}else(n=document.createElement("div")).id="image-modal",n.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden",n.innerHTML='\n                <div class="relative max-w-4xl max-h-full p-4">\n                    <button class="absolute top-2 right-2 text-white text-2xl hover:text-gray-300 z-10" onclick="closeImageModal()">\n                        <i class="fas fa-times"></i>\n                    </button>\n                    <div class="bg-white rounded-lg overflow-hidden">\n                        <div class="p-3 border-b bg-gray-50">\n                            <h3 class="text-lg font-semibold text-gray-800">'.concat(t,'</h3>\n                        </div>\n                        <div class="p-4">\n                            <img src="').concat(e,'" alt="').concat(t,'" class="max-w-full max-h-96 object-contain">\n                        </div>\n                    </div>\n                </div>\n            '),document.body.appendChild(n);n.classList.remove("hidden"),n.addEventListener("click",(function(e){e.target===n&&closeImageModal()}))},window.closeImageModal=function(){var e=document.getElementById("image-modal");e&&e.classList.add("hidden")},console.log("Fornecedores init fim");case 124:case"end":return e.stop()}var qe,ze}),e,null,[[37,57]])}))),x.apply(this,arguments)}},5387:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>m});var r=n(1676),o=n(6115);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,d,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(){document.getElementById("content-dashboard").innerHTML='\n      <div class="pt-5 pl-5 md:pl-0 pr-5 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Gasto</h1>\n\n        <form id="form-gasto" class="space-y-4">\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="text" \n              id="descricao" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Descrição *" \n              required\n            />\n            <input \n              type="number" \n              step="0.01" \n              id="valor" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Valor (R$) *" \n              required\n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <select \n              id="pago" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              required\n            >\n              <option value="" disabled selected>Pago? *</option>\n              <option value="true">Sim</option>\n              <option value="false">Não</option>\n            </select>\n            <input \n              type="text" \n              id="pagante" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Pagante" \n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <input \n              type="text" \n              id="fornecedor" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Fornecedor" \n            />\n            <input \n              type="date" \n              id="data" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n            />\n          </div>\n          <div class="grid grid-cols-2 gap-4">\n            <select \n              id="retirou-caixa" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              required\n            >\n              <option value="" disabled selected>Retirou do caixa? *</option>\n              <option value="true">Sim</option>\n              <option value="false">Não</option>\n            </select>\n            <input\n              type="text"\n              id="metodo-pagamento" \n              class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n              placeholder="Método de pagamento *" \n              required\n            />\n          </div>\n          <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n            Salvar Registro\n          </button>\n        </form>\n\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-2">\n            Filtrar Gasto\n        </button>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Filtrar Gasto</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs"></div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div id="expense-list" class="mt-4">\n            <div class="max-h-[25rem] overflow-y-auto rounded-lg">\n                <table id="expense-table" class="w-full border-collapse">\n                    <thead class="sticky bg-primary text-white z-5" style="top: -1px;">\n                        <tr>\n                            <th class="border p-2">Descrição</th>\n                            <th class="border p-2">Valor</th>\n                            <th class="border p-2">Pago</th>\n                            <th class="border p-2">Pagante</th>\n                            <th class="border p-2">Fornecedor</th>\n                            <th class="border p-2">Data</th>\n                            <th class="border p-2">Retirou do caixa</th>\n                            <th class="border p-2">Método de Pagamento</th>\n                            <th class="border p-2">Ações</th>\n                        </tr>\n                    </thead>\n                    <tbody id="expense-table-body">\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                        <tr class="animate-pulse"> <td class="border p-2 bg-gray-100 h-8"><td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> <td class="border p-2 bg-gray-100 h-8"></td> </tr>\n                    </tbody>\n                    <tfoot class="sticky bg-primary text-white z-5" style="bottom: -1px;">\n                        <tr>\n                            <td class="border p-2">Total</td>\n                            <td class="border p-2" id="total-valor">0</td>\n                            <td class="border p-2" colspan="8"></td>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-96">\n                <h2 class="text-xl font-bold mb-4">Editar Gasto</h2>\n                <form id="edit-form" class="space-y-4">\n                    <input \n                      type="text" \n                      id="edit-descricao" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Descrição *" \n                      required\n                    />\n                    <input \n                      type="number" \n                      step="0.01" \n                      id="edit-valor" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Valor (R$) *" \n                      required\n                    />\n                    <select \n                      id="edit-pago" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      required\n                    >\n                      <option value="" disabled selected>Pago? *</option>\n                      <option value="true">Sim</option>\n                      <option value="false">Não</option>\n                    </select>\n                    <input \n                      type="text" \n                      id="edit-pagante" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Pagante"\n                    />\n                    <input \n                      type="text" \n                      id="edit-fornecedor" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Fornecedor"\n                    />\n                    <input \n                      type="date" \n                      id="edit-data" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                    />\n                    <select \n                      id="edit-retirou-caixa" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      required\n                    >\n                      <option value="" disabled selected>Retirou do caixa? *</option>\n                      <option value="true">Sim</option>\n                      <option value="false">Não</option>\n                    </select>\n                    <input \n                      type="text"\n                      id="edit-metodo-pagamento" \n                      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                      placeholder="Método de Pagamento *"\n                      required\n                    />\n\n                    <button \n                      type="submit" \n                      class="w-full bg-primary text-white p-2 rounded focus:outline-none">\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n      </div>\n    ';var e=document.getElementById("form-gasto"),t=document.getElementById("expense-table"),n=document.getElementById("expense-table-body"),a=(0,r.rJ)(r.kA,"gastos"),c=document.getElementById("edit-modal"),d=document.getElementById("close-edit-modal"),u=document.getElementById("edit-form"),m=document.getElementById("filter-modal"),f=document.getElementById("open-filter-modal"),h=document.getElementById("close-filter-modal"),g=document.getElementById("filter-form"),v=document.getElementById("filter-inputs");function y(){var e=n.querySelectorAll("tr"),t=0;e.forEach((function(e){var n=parseFloat(e.querySelector("td:nth-child(2)").innerText.replace("R$ ","").replace(",","."))||0;t+=n})),document.getElementById("total-valor").innerText="R$ ".concat(t.toFixed(2).replace(".",","))}function b(){return x.apply(this,arguments)}function x(){return x=p(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.GG)(a);case 2:t=e.sent,n.innerHTML="",t.docs.map((function(e){return s({id:e.id},e.data())})).forEach((function(e){var t,r=document.createElement("tr");r.innerHTML='\n                <td class="border p-2">'.concat(e.descricao,'</td>\n                <td class="border p-2">R$ ').concat(e.valor.toFixed(2).replace(".",","),'</td>\n                <td class="border p-2">').concat(e.pago?"Sim":"Não",'</td>\n                <td class="border p-2">').concat(e.pagante,'</td>\n                <td class="border p-2">').concat(e.fornecedor,'</td>\n                <td class="border p-2">').concat(void 0!==e.data?e.data.toDate().toLocaleString("pt-BR").split(", ")[0]:"",'</td>\n                <td class="border p-2">').concat(e.retirouCaixa?"Sim":"Não",'</td>\n                <td class="border p-2">').concat(e.metodoPagamento||"-",'</td>\n                <td class="border p-2 text-center">\n                    <button \n                        class="btn-editar-gasto bg-yellow-500 text-white py-1 px-2 rounded" \n                        data-id="').concat(e.id,'"\n                        data-descricao="').concat(e.descricao,'"\n                        data-valor="').concat(e.valor,'"\n                        data-pago="').concat(e.pago?"Sim":"Não",'"\n                        data-pagante="').concat(e.pagante||"",'"\n                        data-fornecedor="').concat(e.fornecedor||"",'"\n                        data-data="').concat(void 0!==e.data?e.data.toDate().toLocaleString("pt-BR").split(", ")[0].split("/").reverse().join("-"):"",'"\n                        data-retirou-caixa="').concat(e.retirouCaixa?"Sim":"Não",'"\n                        data-metodo-pagamento="').concat(e.metodoPagamento||"",'">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button data-id="').concat(e.id,'" class="btn-remover-gasto bg-red-500 text-white py-1 px-2 rounded">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            '),n.appendChild(r),(t=n.querySelectorAll("#content-dashboard button[data-id].btn-editar-gasto"),function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.addEventListener("click",(function(){var t;t=e.dataset,document.getElementById("edit-descricao").value=t.descricao,document.getElementById("edit-valor").value=t.valor,(0,o.KP)(document.getElementById("edit-pago"),t.pago),document.getElementById("edit-pagante").value=t.pagante,document.getElementById("edit-fornecedor").value=t.fornecedor,document.getElementById("edit-data").value=t.data,(0,o.KP)(document.getElementById("edit-retirou-caixa"),t.retirouCaixa),document.getElementById("edit-metodo-pagamento").value=t.metodoPagamento,c.classList.remove("hidden"),c.setAttribute("data-id",t.id)}))}))})),y(),n.querySelectorAll("#content-dashboard button[data-id].btn-remover-gasto").forEach((function(e){e.addEventListener("click",function(){var e=p(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.closest("button[data-id].btn-remover-gasto").getAttribute("data-id"),e.next=3,(0,r.kd)((0,r.H9)(r.kA,"gastos",n));case 3:b();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}d.addEventListener("click",(function(){c.classList.add("hidden")})),u.addEventListener("submit",function(){var e=p(l().mark((function e(t){var n,o,a,i,s,d,p,m,f,h,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("edit-modal").dataset.id,o=document.getElementById("edit-descricao").value,a=parseFloat(document.getElementById("edit-valor").value),i="true"==document.getElementById("edit-pago").value,s=document.getElementById("edit-pagante").value,d=document.getElementById("edit-fornecedor").value,p=new Date("".concat(document.getElementById("edit-data").value,"T12:00:00")),m="true"==document.getElementById("edit-retirou-caixa").value,f=document.getElementById("edit-metodo-pagamento").value,h=(0,r.H9)(r.kA,"gastos",n),g={descricao:o,valor:a,pago:i,pagante:s,fornecedor:d,data:p,retirouCaixa:m,metodoPagamento:f},document.getElementById("edit-data").value&&(g.data=new Date("".concat(document.getElementById("edit-data").value,"T12:00:00"))),e.next=15,(0,r.mZ)(h,g);case 15:u.reset(),c.classList.add("hidden"),b();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.addEventListener("click",(function(){m.classList.remove("hidden");var e=v.querySelectorAll("input");e.length>0&&e[0].focus()})),h.addEventListener("click",(function(){m.classList.add("hidden")})),(0,o.bi)(g,v,t,m),e.addEventListener("submit",function(){var t=p(l().mark((function t(n){var o,i,c,s,d,u,p,m,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(o=e.querySelector('#content-dashboard button[type="submit"]')).disabled=!0,i=document.getElementById("descricao").value,c=parseFloat(document.getElementById("valor").value),s="true"==document.getElementById("pago").value,d=document.getElementById("pagante").value,u=document.getElementById("fornecedor").value,p="true"==document.getElementById("retirou-caixa").value,m=document.getElementById("metodo-pagamento").value,t.prev=10,f={descricao:i,valor:c,pago:s,pagante:d,fornecedor:u,retirouCaixa:p,metodoPagamento:m},document.getElementById("data").value&&(f.data=new Date("".concat(document.getElementById("data").value,"T12:00:00"))),t.next=15,(0,r.gS)(a,f);case 15:b(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(10),console.log("Erro ao cadastrar gasto: "+t.t0.message);case 21:return t.prev=21,o.disabled=!1,e.reset(),t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[10,18,21,25]])})));return function(e){return t.apply(this,arguments)}}()),b(),(0,o.E4)(t,v,[1]),(0,o.U4)(document.getElementById("data"))}},4837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateTotal:()=>E,init:()=>L,loadVendas:()=>h,renderDataVenda:()=>b,renderSkeletonLoading:()=>v,renderVendaNaData:()=>w});var r=n(1676);function o(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,c){var s=m(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==d(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,i,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,c,"next",e)}function c(e){m(a,r,o,i,c,"throw",e)}i(void 0)}))}}function h(){return g.apply(this,arguments)}function g(){return(g=f(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.rJ)(r.kA,"vendas"),e.next=3,(0,r.GG)(t);case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return i({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return(y=f(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("lista-historico-vendas").innerHTML='\n    <div class="bg-white shadow rounded-lg p-4">\n      <div class="h-6 w-32 bg-gray-300 rounded animate-pulse mb-4"></div>\n\n      <div class="space-y-4">\n        <div class="border-b pb-4">\n          <div class="h-4 w-24 bg-gray-300 rounded animate-pulse mb-2"></div>\n\n          <ul class="space-y-2">\n            <li class="flex justify-between">\n              <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-12 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n            <li class="flex justify-between">\n              <div class="h-4 w-24 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n            <li class="flex justify-between">\n              <div class="h-4 w-28 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-10 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n          </ul>\n\n          <div class="flex justify-between mt-4">\n            <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n            <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n          </div>\n\n          <div class="h-4 w-40 bg-gray-300 rounded animate-pulse mt-2"></div>\n        </div>\n\n        <div>\n          <div class="h-4 w-24 bg-gray-300 rounded animate-pulse mb-2"></div>\n          <ul class="space-y-2">\n            <li class="flex justify-between">\n              <div class="h-4 w-28 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-14 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n            <li class="flex justify-between">\n              <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-18 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n          </ul>\n          <div class="flex justify-between mt-4">\n            <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n            <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n          </div>\n          <div class="h-4 w-40 bg-gray-300 rounded animate-pulse mt-2"></div>\n        </div>\n      </div>\n    </div>\n\n    <div class="bg-white shadow rounded-lg p-4">\n      <div class="h-6 w-32 bg-gray-300 rounded animate-pulse mb-4"></div>\n\n      <div class="space-y-4">\n        <div class="border-b pb-4">\n          <div class="h-4 w-24 bg-gray-300 rounded animate-pulse mb-2"></div>\n\n          <ul class="space-y-2">\n            <li class="flex justify-between">\n              <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-12 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n            <li class="flex justify-between">\n              <div class="h-4 w-24 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n            <li class="flex justify-between">\n              <div class="h-4 w-28 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-10 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n          </ul>\n\n          <div class="flex justify-between mt-4">\n            <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n            <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n          </div>\n\n          <div class="h-4 w-40 bg-gray-300 rounded animate-pulse mt-2"></div>\n        </div>\n\n        <div>\n          <div class="h-4 w-24 bg-gray-300 rounded animate-pulse mb-2"></div>\n          <ul class="space-y-2">\n            <li class="flex justify-between">\n              <div class="h-4 w-28 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-14 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n            <li class="flex justify-between">\n              <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n              <div class="h-4 w-18 bg-gray-300 rounded animate-pulse"></div>\n            </li>\n          </ul>\n          <div class="flex justify-between mt-4">\n            <div class="h-4 w-16 bg-gray-300 rounded animate-pulse"></div>\n            <div class="h-4 w-20 bg-gray-300 rounded animate-pulse"></div>\n          </div>\n          <div class="h-4 w-40 bg-gray-300 rounded animate-pulse mt-2"></div>\n        </div>\n      </div>\n    </div>\n  ';case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return x.apply(this,arguments)}function x(){return x=f(s().mark((function e(){var t,n,a,c,d,u,p,m,g,y,b,x,L,k,I,B,S,j,C,P,A,O,D;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.getElementById("lista-historico-vendas"))){e.next=58;break}return n=function(){var e=f(s().mark((function e(t,n){var o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.map(function(){var e=f(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.x7)((0,r.H9)(r.kA,t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(o);case 3:return a=e.sent,e.abrupt("return",a.filter((function(e){return e.exists()})).map((function(e){return i({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v(),e.next=6,h();case 6:return a=e.sent,c=document.getElementById("filter-date").value,d=document.getElementById("filter-operador").value,""!==c&&(a=a.filter((function(e){return e.criadoEm.toDate().toLocaleDateString("pt-BR").split("/").reverse().join("-")===c}))),""!==d&&(a=a.filter((function(e){return e.operador===d}))),(u=o(new Set(a.map((function(e){return e.criadoEm.toDate().toLocaleString("pt-BR").split(", ")[0]}))))).sort((function(e,t){var n=new Date(e.split("/").reverse().join("-"));return new Date(t.split("/").reverse().join("-"))-n})),p=[],m=[],g=[],a.forEach((function(e){e.produtos.forEach((function(e){e.id&&p.push(e.id)})),e.operador&&m.push(e.operador),e.caixaId&&g.push(e.caixaId)})),y=o(new Set(p)),b=o(new Set(m)),x=o(new Set(g)),e.next=22,n("produtos",y);case 22:return L=e.sent,e.next=25,n("usuarios",b);case 25:return k=e.sent,e.next=28,n("caixas",x);case 28:if(I=e.sent,B=document.getElementById("filter-operador")){for(;B.options.length>1;)B.remove(1);k.sort((function(e,t){var n=(e.nome||e.email||"").toLowerCase(),r=(t.nome||t.email||"").toLowerCase();return n.localeCompare(r)})),k.forEach((function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.nome||e.email||"Operador desconhecido",B.appendChild(t)}))}return S=[],I.forEach((function(e){e.usuarioId&&S.push(e.usuarioId)})),j=o(new Set(S)),e.next=36,n("usuarios",j);case 36:C=e.sent,P={},C.forEach((function(e){P[e.id]=e.nome||e.email||"Operador desconhecido"})),A=l(a),e.prev=40,D=s().mark((function e(){var t,n,r,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=O.value,n=l(t.produtos),e.prev=2,o=s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=r.value).id&&(n=L.find((function(e){return e.id===t.id})))&&(t.descricao=n.descricao);case 2:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(o(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:t.operador&&(a=k.find((function(e){return e.id===t.operador})))&&(t.operadorNome=a.nome),t.caixaId&&(i=I.find((function(e){return e.id===t.caixaId})))&&(t.caixaDataAbertura=i.dataAbertura,t.caixaOperadorNome=P[i.usuarioId]||"Operador desconhecido");case 19:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})),A.s();case 43:if((O=A.n()).done){e.next=47;break}return e.delegateYield(D(),"t0",45);case 45:e.next=43;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(40),A.e(e.t1);case 52:return e.prev=52,A.f(),e.finish(52);case 55:t.innerHTML="",u.forEach((function(e){var n=document.createElement("div");n.classList.add("bg-white","shadow","rounded-lg","p-4"),n.innerHTML='\n        <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">'.concat(e,'</h2>\n\n        <div class="space-y-4" id="lista-vendas-').concat(e.replaceAll("/","-"),'">\n        </div>\n      '),t.appendChild(n),w(a,e)})),0==a.length?(document.getElementById("total-vendas").classList.add("hidden"),document.getElementById("sem-resultados-vendas").classList.remove("hidden")):(document.getElementById("total-vendas").classList.remove("hidden"),document.getElementById("sem-resultados-vendas").classList.add("hidden"),E(a));case 58:case"end":return e.stop()}}),e,null,[[40,49,52,55]])}))),x.apply(this,arguments)}function w(e,t){var n=document.getElementById("lista-vendas-".concat(t.replaceAll("/","-")));n&&((e=e.filter((function(e){return e.criadoEm.toDate().toLocaleString("pt-BR").split(", ")[0]===t}))).sort((function(e,t){var n=e.criadoEm.toDate();return t.criadoEm.toDate()-n})),e.forEach((function(e,t){var r,o=document.createElement("div");o.classList.add("border-b","pb-4");var a="";e.produtos.forEach((function(e){a+='\n          <li class="flex justify-between">\n            <span>'.concat(e.quantidade," ").concat(e.descricao,'</span>\n            <span class="text-gray-600">R$ ').concat(e.subtotal.toFixed(2).replace(".",","),"</span>\n          </li>\n        ")}));var i="Total liquido",c="text-green-500",s="",p="";e.desconto&&(s='\n        <div class="flex justify-between font-semibold">\n        <span class="lg:ml-auto lg:mr-4">Desconto:</span>\n        <span class="text-red-500">'.concat(e.desconto?"R$ "+e.desconto.toFixed(2).replace(".",","):"-",'</span>\n        </div>\n        <div class="flex justify-between font-semibold">\n        <span class="lg:ml-auto lg:mr-4">Total liquido:</span>\n        <span class="text-green-500">').concat(e.totalLiquido?"R$ "+e.totalLiquido.toFixed(2).replace(".",","):"-","</span>\n        </div>\n        "),i="Total bruto",c="text-black"),e.toalCorrigido&&(p='\n        <div class="flex justify-between font-semibold">\n          <span class="lg:ml-auto lg:mr-4">Total corrigido:</span>\n          <span class="text-blue-500">'.concat(e.toalCorrigido?"R$ "+e.toalCorrigido.toFixed(2).replace(".",","):"-","</span>\n        </div>\n        "));var m,f,h="";if("Único"==e.metodoPagamento.tipo)L(e.metodoPagamento.opcaoEscolhida)?(h=Object.keys(e.metodoPagamento.opcaoEscolhida).map((function(e){return k(e)})).join(""),e.metodoPagamento.opcaoEscolhida.crediario&&(h+=" para ".concat(e.metodoPagamento.opcaoEscolhida.crediario.cliente))):h=k(e.metodoPagamento.opcaoEscolhida);else if("Múltiplo"==e.metodoPagamento.tipo&&L(e.metodoPagamento.opcaoEscolhida)){var g=[],v=Object.entries(e.metodoPagamento.opcaoEscolhida);v.map((function(e){return e[0]})).includes("credito")&&v.map((function(e){return e[0]})).includes("parcelas")&&(g.push(k("credito")+": R$ "+e.metodoPagamento.opcaoEscolhida.credito.toFixed(2).replace(".",",")+" de "+e.metodoPagamento.opcaoEscolhida.parcelas+"x"),v=v.filter((function(e){return!("credito"==e[0]||"parcelas"==e[0])})));var y,b=l(v);try{for(b.s();!(y=b.n()).done;){var x=(m=y.value,f=2,function(e){if(Array.isArray(e))return e}(m)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(m,f)||u(m,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=x[0],E=x[1];E&&!isNaN(E)&&g.push(k(w)+": R$ "+E.toFixed(2).replace(".",","))}}catch(e){b.e(e)}finally{b.f()}h=g.join(", ")}function L(e){return null!==e&&"object"===d(e)&&!Array.isArray(e)}function k(e){return"string"!=typeof e||0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}var I="";if(!1!==(null===(r=document.getElementById("show-caixa-info"))||void 0===r?void 0:r.checked)&&e.caixaId&&e.caixaDataAbertura&&e.caixaOperadorNome){var B="-";e.caixaDataAbertura&&("function"==typeof e.caixaDataAbertura.toDate?B=e.caixaDataAbertura.toDate().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):e.caixaDataAbertura instanceof Date&&(B=e.caixaDataAbertura.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))),I='\n          <div class="mt-2 p-2 bg-blue-50 rounded border-l-4 border-blue-400">\n            <p class="text-sm font-semibold text-blue-800 mb-1">\n              <i class="fas fa-cash-register mr-1"></i>\n              Informações do Caixa\n            </p>\n            <p class="text-xs text-blue-700">Data de Abertura: '.concat(B,'</p>\n            <p class="text-xs text-blue-700">Operador do Caixa: ').concat(e.caixaOperadorNome,"</p>\n          </div>\n        ")}o.innerHTML='\n      <div class="flex justify-between items-center text-sm text-gray-500 mb-2 venda-'.concat(e.id,'">\n        <p>Horário: ').concat(e.criadoEm.toDate().toLocaleString("pt-BR").split(", ")[1],'</p>\n        <button class="btn-remover-venda text-red-500 hover:text-red-700" data-id="').concat(e.id,'">\n          <i class="fa fa-trash"></i>\n        </button>\n      </div>\n      \n      <ul class="space-y-2">\n        ').concat(a,'\n      </ul>\n      \n      <div class="flex justify-between mt-4 font-semibold">\n        <span class="lg:ml-auto lg:mr-4">').concat(i,':</span>\n        <span class="').concat(c,'">R$ ').concat(e.total.toFixed(2).replace(".",","),"</span>\n      </div>\n      ").concat(s,"\n      ").concat(p,'\n      \n      <p class="mt-2 text-sm text-gray-500">Método de Pagamento: ').concat(h,'</p>\n      <p class="mt-2 text-sm text-gray-500">Operador: ').concat(e.operadorNome||"-","</p>\n      ").concat(I,"\n      "),n.appendChild(o)})),n.querySelectorAll("button[data-id].btn-remover-venda").forEach((function(e){e.addEventListener("click",function(){var e=f(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Swal.fire({title:"Tem certeza?",text:"Você não poderá reverter esta ação!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(function(){var e=f(s().mark((function e(n){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=5;break}return o=t.target.closest("button[data-id].btn-remover-venda").getAttribute("data-id"),e.next=4,(0,r.kd)((0,r.H9)(r.kA,"vendas",o));case 4:b();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})))}function E(e){var t=e.reduce((function(e,t){return e+parseFloat(t.total)-(void 0!==t.desconto?parseFloat(t.desconto):0)}),0);document.getElementById("total-vendas-span").textContent="R$ ".concat(t.toFixed(2).replace(".",","))}function L(){var e=document.getElementById("content-dashboard"),t=new Date,n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),a="".concat(n,"-").concat(r,"-").concat(o);e.innerHTML='\n    <div class="pt-5 pl-5 md:pl-0 pr-2 rounded">\n      <h2 class="text-2xl font-bold mb-4">Histórico de Vendas</h1>\n\n      <div class="flex flex-wrap items-center gap-4 mb-6">\n        <div class="flex items-center gap-2">\n          <label for="filter-date" class="text-sm font-medium text-gray-700">Filtrar por data:</label>\n          <input \n            type="date" \n            id="filter-date" \n            class="w-48 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n            value="'.concat(a,'"\n          />\n        </div>\n        <div class="flex items-center gap-2">\n          <label for="filter-operador" class="text-sm font-medium text-gray-700">Filtrar por operador:</label>\n          <select \n            id="filter-operador" \n            class="w-48 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary"\n          >\n            <option value="">Todos os operadores</option>\n          </select>\n        </div>\n        <div class="flex items-center gap-2">\n          <input \n            type="checkbox" \n            id="show-caixa-info" \n            class="w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary"\n          />\n          <label for="show-caixa-info" class="text-sm font-medium text-gray-700 cursor-pointer">\n            Mostrar informações do caixa\n          </label>\n        </div>\n      </div>\n      \n      <div id="total-vendas" class="flex justify-between font-semibold mb-4 bg-white shadow rounded-lg p-4 pr-11 mr-0">\n        <span>Total das vendas:</span>\n        <span id="total-vendas-span" class="text-green-500">R$ 0</span>\n      </div>\n      \n      <h2 class="text-lg font-semibold mb-2">Resultados</h2>\n      \n      <div class="/*lg:flex lg:gap-4*/">\n        <div id="lista-historico-vendas" class="max-h-[30rem] md:max-h-[20rem] lg:max-h-[30rem] overflow-y-auto /*lg:w-2/3*/ pr-3 space-y-6">\n        </div>\n\n        <div id="somatorio-metodo-div" class="hidden grid grid-cols-2 gap-4 lg:grid-cols-1 w-full lg:w-1/3 mt-2 lg:mt-0 mr-4 lg:mr-0 lg:max-h-[20rem] hidden">\n          <div class="bg-white rounded-lg shadow p-4 text-center min-h-[4rem]">\n            Pix: -\n          </div>\n\n          <div class="bg-white rounded-lg shadow p-4 text-center min-h-[4rem]">\n            Crédito: -\n          </div>\n\n          <div class="bg-white rounded-lg shadow p-4 text-center min-h-[4rem]">\n            Débito: -\n          </div>\n\n          <div class="bg-white rounded-lg shadow p-4 text-center min-h-[4rem]">\n            Dinheiro: -\n          </div>\n        </div>\n\n\n      </div>\n\n      <div id="sem-resultados-vendas" class="mt-4 font-semibold text-center hidden">\n        <span>Não há resultados nessa data.</span>\n      </div>\n    </div>\n  '),b(),document.getElementById("filter-date").addEventListener("change",(function(){b()})),document.getElementById("filter-operador").addEventListener("change",(function(){b()})),document.getElementById("show-caixa-info").addEventListener("change",(function(){b()}))}},7972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>v,loadProducts:()=>p,renderProducts:()=>g});var r=n(1676),o=n(6795);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,c,"next",e)}function c(e){d(a,r,o,i,c,"throw",e)}i(void 0)}))}}var u="recent_products_cache";function p(e){return m.apply(this,arguments)}function m(){return(m=l(i().mark((function e(t){var n,o,a,c,s,d,l,u,p,m,g,v,y,b,x,w,E,L,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.startAfterDoc,a=void 0===o?null:o,c=t.limit,s=void 0===c?10:c,d=t.filters,l=void 0===d?{}:d,u=(0,r.rJ)(r.kA,"produtos"),(p=null===(n=l.search)||void 0===n?void 0:n.toLowerCase())||a){e.next=8;break}if(!(m=f())){e.next=8;break}return e.abrupt("return",m);case 8:if(!p){e.next=20;break}return g=p.split(" "),v=g[0],y=(0,r.P)(u,(0,r._M)("descricao_lower",">=",v),(0,r._M)("descricao_lower","<=",v+""),(0,r.AB)(100)),e.next=14,(0,r.GG)(y);case 14:return b=e.sent,x=b.docs.map((function(e){return e.data()})),g.length>1&&(x=x.filter((function(e){return g.every((function(t){return e.descricao_lower.includes(t)}))}))),e.abrupt("return",{products:x.slice(0,s),lastDoc:null});case 20:return w=(0,r.P)(u,(0,r.My)("descricao"),(0,r.AB)(s)),a&&(w=(0,r.P)(w,(0,r.HM)(a))),e.next=24,(0,r.GG)(w);case 24:if(!(E=e.sent).empty){e.next=27;break}return e.abrupt("return",{products:[],lastDoc:null});case 27:return L=E.docs[E.docs.length-1],k=E.docs.map((function(e){return e.data()})),p||a||h({products:k,lastDoc:null}),e.abrupt("return",{products:k,lastDoc:L});case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){try{var e=localStorage.getItem(u);if(e){var t=JSON.parse(e),n=t.products,o=t.lastDocData,a=t.timestamp;if(Date.now()-a<3e5)return o&&(0,r.H9)(r.kA,"produtos",o.id),{products:n,lastDoc:null}}}catch(e){console.error("Erro ao ler cache:",e)}return null}function h(e){var t=e.products,n=e.lastDoc;try{var r=null;if(n){var o=n.data();r={id:n.id,descricao:o.descricao}}var a={products:t,lastDocData:r,timestamp:Date.now()};localStorage.setItem(u,JSON.stringify(a))}catch(e){console.error("Erro ao salvar cache:",e)}}function g(e){var t=document.getElementById("product-list");if(t){e.forEach((function(e){var n=document.createElement("div");n.classList.add("btn-ver-produto","bg-white","p-4","rounded-lg","space-y-4","cursor-pointer","flex","flex-col","justify-between","h-full"),n.dataset.cod=e.cod,n.dataset.descricao_lower=e.descricao_lower,n.dataset.keywords=e.keywords,n.innerHTML='\n                <img src="'.concat(e.imagem||"https://dummyimage.com/150",'" \n                    data-src="').concat(e.imagem||"https://dummyimage.com/150",'" \n                    alt="').concat(e.descricao,'" \n                    class="w-full h-48 object-cover rounded-lg mb-4 lazy-image">\n                <h3 class="text-xl font-semibold text-gray-800">').concat(e.descricao,'</h3>\n                <p class="text-gray-600">').concat(e.informacoes||"",'</p>\n                <p class="text-lg font-bold text-green-500">R$ ').concat(e.precoVenda.toFixed(2).replace(".",","),'</p>\n                \x3c!-- <button class="w-full py-2 bg-primary text-white rounded- transition duration-300 bottom-0">Adicionar ao carrinho</button> --\x3e\n            '),t.appendChild(n)}));var n=document.querySelectorAll(".lazy-image");if("IntersectionObserver"in window){var r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.classList.remove("lazy-image"),r.unobserve(t)}}))}));n.forEach((function(e){return r.observe(e)}))}else n.forEach((function(e){e.src=e.dataset.src,e.classList.remove("lazy-image")}));c(t.querySelectorAll("div.btn-ver-produto[data-cod]")).forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest("div.btn-ver-produto[data-cod]").dataset;window.location.hash="#/produto/".concat(t.cod)}))}))}}function v(){var e,t=!1,n=null,a=!0,c=!1,s={};function d(){return u.apply(this,arguments)}function u(){return(u=l(i().mark((function e(){var o,d,l,u,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(t=!0,f(),e.prev=4,!c||n){e.next=12;break}return o=(0,r.P)((0,r.rJ)(r.kA,"produtos"),(0,r.My)("descricao"),(0,r.AB)(10)),e.next=9,(0,r.GG)(o);case 9:(d=e.sent).empty||(n=d.docs[d.docs.length-1]),c=!1;case 12:return e.next=14,p({startAfterDoc:a?null:n,limit:10,filters:s});case 14:if(l=e.sent,u=l.products,v=l.lastDoc,a&&u.length>0&&!v&&(c=!0),a=!1,u.length){e.next=23;break}return h(),window.removeEventListener("scroll",m),e.abrupt("return");case 23:h(),g(u),v&&(n=v),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(4),h(),console.error("Erro ao carregar produtos:",e.t0);case 32:return e.prev=32,t=!1,e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[4,28,32,35]])})))).apply(this,arguments)}function m(){e&&clearTimeout(e),e=setTimeout((function(){var e=document.querySelector("#content-router > div > #product-list"),n=window.innerHeight+window.scrollY>=document.body.offsetHeight-500;if(e){var r=document.getElementById("filtro-produtos").value;n&&""==r&&!t&&d()}}),100)}function f(){var e=document.getElementById("product-list");if(e){for(var t=document.createDocumentFragment(),n=0;n<5;n++){var r=document.createElement("div");r.classList.add("skeleton-product","bg-white","p-4","rounded-lg","space-y-4","flex","flex-col","justify-between","h-full","animate-pulse"),r.innerHTML='\n                    <div class="w-full h-48 bg-gray-300 rounded-lg mb-4"></div>\n                    <div class="h-6 bg-gray-300 rounded w-3/4"></div>\n                    <div class="h-4 bg-gray-300 rounded w-1/2"></div>\n                    <div class="h-6 bg-gray-300 rounded w-1/3"></div>\n                ',t.appendChild(r)}e.appendChild(t)}}function h(){document.querySelectorAll(".skeleton-product").forEach((function(e){return e.remove()}))}document.getElementById("content-router").innerHTML='\n    <div class="bg-[#f0f0f0]">\n        '.concat(o.fZ,'\n\n        <button id="normalize-descriptions" class="hidden mt-2 bg-blue-500 text-white px-4 py-2 rounded-md mb-4">Normalizar Descrições</button>\n        <button id="normalize-descriptions-keywords" class="hidden bg-blue-500 text-white px-4 py-2 rounded-md mb-4">Normalizar Descrições com Palavras-chaves</button>\n\n        <div id="product-list" class="p-2 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">\n        </div>\n    </div>\n    '),document.getElementById("menu-home")&&((0,o.nm)(),d()),window.addEventListener("scroll",m),document.getElementById("filtro-produtos").addEventListener("keyup",(function(e){"Enter"===e.key&&(s.search=document.getElementById("filtro-produtos").value||null,n=null,document.getElementById("product-list").innerHTML="",t=!1,d())}))}},7886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>s});var r=n(1676);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}function s(){document.getElementById("content-router").innerHTML='\n        <div id="login" class="flex justify-center items-center h-screen bg-gray-100">\n          <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md space-y-6">\n            <h1 class="text-2xl font-bold text-center text-gray-800">Login</h1>\n            <form id="login-form" class="space-y-4">\n              \x3c!-- Campo de email --\x3e\n              <input \n                type="text" \n                id="email" \n                placeholder="Email" \n                required \n                class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n              />\n\n              \x3c!-- Campo de senha com olhinho --\x3e\n              <div class="relative w-full">\n                <input \n                  type="password" \n                  id="password" \n                  placeholder="Senha" \n                  required \n                  class="w-full p-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n                />\n                <button \n                  type="button" \n                  id="toggle-password" \n                  class="absolute inset-y-0 right-0 px-2 flex items-center justify-center bg-gray-200 rounded-lg hover:bg-gray-300 transition duration-300 text-gray-700"\n                >\n                  🙈\n                </button>\n              </div>\n\n\n              \x3c!-- Botão de login --\x3e\n              <button \n                type="submit" \n                class="w-full py-3 bg-primary text-white font-semibold rounded-lg transition duration-300"\n              >\n                Entrar\n              </button>\n            </form>\n\n            \x3c!-- Login com Google --\x3e\n            <div class="flex items-center justify-between">\n              <hr class="w-1/3 border-gray-300" />\n              <span class="text-gray-500 text-sm">Ou entre com</span>\n              <hr class="w-1/3 border-gray-300" />\n            </div>\n            <button \n              id="google-login" \n              class="w-full flex items-center justify-center py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition duration-300"\n            >\n              <img \n                src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" \n                alt="Google" \n                class="w-6 h-6 mr-2"\n              />\n              <span>Entrar com Google</span>\n            </button>\n\n            \x3c!-- Link para cadastro --\x3e\n            <div class="text-center text-gray-600">\n              <span>Não tem uma conta? </span>\n              <a href="/cadastro" id="register-link" class="text-primary font-semibold hover:underline">\n                Cadastre-se\n              </a>\n            </div>\n          </div>\n        </div>\n    ';var e=(0,r.xI)();(0,r.hg)(e,function(){var t=c(a().mark((function t(n){var o,i,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onAuthStateChanged Login.js"),!n){t.next=30;break}return t.prev=2,o=(0,r.H9)(r.kA,"usuarios",n.uid),t.next=6,(0,r.x7)(o);case 6:if(!(i=t.sent).exists()){t.next=18;break}if(c=i.data(),localStorage.removeItem("user"),"inativo"!==c.situacao){t.next=15;break}return Swal.fire({icon:"error",title:"Acesso Bloqueado!",text:"Sua conta está inativa. Entre em contato com o administrador.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}),t.next=14,e.signOut();case 14:return t.abrupt("return");case 15:"cliente"===c.tipo||void 0===c.tipo?window.location.hash="/":window.location.hash="/app",t.next=22;break;case 18:return console.log("Documento do usuário não encontrado no Firestore"),Swal.fire({icon:"error",title:"Erro ao fazer login!",text:"Não foi possível encontrar o usuário",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}),t.next=22,e.signOut();case 22:t.next=30;break;case 24:t.prev=24,t.t0=t.catch(2),console.error("Erro ao verificar usuário:",t.t0),(s=document.querySelector('#login-form button[type="submit"]'))&&(s.innerHTML="Entrar",s.disabled=!1),Swal.fire({icon:"error",title:"Erro ao fazer login!",text:"Não foi possível encontrar o usuário",showConfirmButton:!1,timer:4e3,timerProgressBar:!0});case 30:case"end":return t.stop()}}),t,null,[[2,24]])})));return function(e){return t.apply(this,arguments)}}()),document.getElementById("google-login").addEventListener("click",c(a().mark((function t(){var n,o,i,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new r.HF,t.prev=1,t.next=4,(0,r.df)(e,n);case 4:return o=t.sent,i=o.user,console.log("Usuário logado:",i),c=(0,r.H9)(r.kA,"usuarios",i.uid),t.next=10,(0,r.x7)(c);case 10:if((s=t.sent).exists()){t.next=16;break}localStorage.setItem("user",JSON.stringify({displayName:i.displayName,email:i.email,photoURL:i.photoURL,uid:i.uid})),window.location.hash="/cadastro",t.next=22;break;case 16:if("inativo"!==s.data().situacao){t.next=22;break}return t.next=20,e.signOut();case 20:return Swal.fire({icon:"error",title:"Acesso Bloqueado!",text:"Sua conta está inativa. Entre em contato com o administrador.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}),t.abrupt("return");case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(1),console.error("Erro ao fazer login com Google:",t.t0);case 27:case"end":return t.stop()}}),t,null,[[1,24]])})))),document.getElementById("login-form").addEventListener("submit",(function(t){t.preventDefault();var n=t.target.querySelector('button[type="submit"]');n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Entrando',n.disabled=!0;var o=document.getElementById("email").value.trim(),i=document.getElementById("password").value;o.includes("@")||(o+="@papelariacriativaci.com.br",document.getElementById("email").value=o),(0,r.x9)(e,o,i).then(function(){var t=c(a().mark((function t(o){var i,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,r.H9)(r.kA,"usuarios",o.user.uid),t.next=3,(0,r.x7)(i);case 3:if(!(c=t.sent).exists()){t.next=13;break}if("inativo"!==c.data().situacao){t.next=13;break}return t.next=9,e.signOut();case 9:return Swal.fire({icon:"error",title:"Acesso Bloqueado!",text:"Sua conta está inativa. Entre em contato com o administrador.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}),n.innerHTML="Entrar",n.disabled=!1,t.abrupt("return");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){n.innerHTML="Entrar",n.disabled=!1;var t=e.code,r=e.message;"auth/user-not-found"===t?Swal.fire({icon:"error",title:"Erro ao fazer login!",text:"Usuário não encontrado. Verifique o e-mail.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}):"auth/wrong-password"===t?Swal.fire({icon:"error",title:"Erro ao fazer login!",text:"Senha incorreta.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}):(console.log("Erro ao fazer login: ".concat(r)),Swal.fire({icon:"error",title:"Erro ao fazer login!",text:"".concat(r),showConfirmButton:!1,timer:4e3,timerProgressBar:!0}))}))}));var t=document.getElementById("toggle-password"),n=document.getElementById("password");t.addEventListener("click",(function(){var e="password"===n.type;n.type=e?"text":"password",t.textContent=e?"🙉":"🙈"}))}},601:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>s});var r=n(1676);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var c=(0,r.xI)();function s(){return d.apply(this,arguments)}function d(){var e;return e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.CI)(c);case 3:window.location.hash="/",console.log("Usuário desconectado com sucesso!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Erro ao desconectar usuário:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),d=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))},d.apply(this,arguments)}},7200:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>f});var r=n(1676),o=n(4541);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,d,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}var m=[];function f(){return h.apply(this,arguments)}function h(){return(h=p(l().mark((function e(){var t,n,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("content-dashboard"),e.prev=1,e.next=4,(0,o.k)();case 4:if(t=e.sent,c=2,n=function(e){if(Array.isArray(e))return e}(i=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(i,c)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],a=n[1],!r){e.next=11;break}return window.location.hash=r,e.abrupt("return");case 11:if(["admin","funcionario"].includes(a.tipo)){e.next=14;break}return window.location.hash="/app",e.abrupt("return");case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(1),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 20:return document.getElementById("content-dashboard").innerHTML='\n        <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n            <div class="flex justify-between items-center mb-4">\n                <h1 class="text-2xl font-bold text-gray-800">Orçamentos</h1>\n                <div class="flex items-center gap-2">\n                    <input \n                        type="text" \n                        id="busca-orcamento" \n                        class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" \n                        placeholder="Buscar por descrição..."\n                    />\n                    <button \n                        id="refresh-orcamentos"\n                        class="bg-primary text-white px-4 py-2 rounded hover:bg-[#264a4c] transition-colors"\n                        title="Atualizar lista">\n                        <i class="fas fa-sync-alt"></i>\n                    </button>\n                </div>\n            </div>\n\n            <div id="orcamentos-list" class="mt-4">\n                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">\n                    \x3c!-- Orçamentos serão inseridos aqui --\x3e\n                </div>\n            </div>\n\n            <div id="orcamentos-empty" class="hidden text-center py-8">\n                <i class="fas fa-file-invoice text-gray-400 text-6xl mb-4"></i>\n                <p class="text-gray-500 text-lg">Nenhum orçamento encontrado</p>\n            </div>\n        </div>\n\n        \x3c!-- Modal de Detalhes do Orçamento --\x3e\n        <div id="modal-detalhes-orcamento" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">\n            <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">\n                <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">\n                    <h2 class="text-xl font-bold text-gray-800">Detalhes do Orçamento</h2>\n                    <button id="close-modal-detalhes" class="text-gray-500 hover:text-gray-700 text-2xl">\n                        <i class="fas fa-times"></i>\n                    </button>\n                </div>\n                <div id="modal-detalhes-content" class="p-6">\n                    \x3c!-- Conteúdo será inserido aqui --\x3e\n                </div>\n            </div>\n        </div>\n    ',e.next=23,g();case 23:w();case 24:case"end":return e.stop()}var i,c}),e,null,[[1,16]])})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=p(l().mark((function e(){var t,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,r.rJ)(r.kA,"orcamentos"),n=(0,r.P)(t,(0,r.My)("criadoEm","desc")),e.next=5,(0,r.GG)(n);case 5:o=e.sent,m=o.docs.map((function(e){return c({id:e.id},e.data())})),console.log("Orçamentos carregados:",m),m.forEach((function(e,t){console.log("Orçamento ".concat(t+1,":"),e),console.log("Produtos do orçamento ".concat(t+1,":"),e.produtos)})),y(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Erro ao carregar orçamentos:",e.t0),Swal.fire({icon:"error",title:"Erro ao carregar",text:"Não foi possível carregar os orçamentos.",showConfirmButton:!1,timer:3e3});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.getElementById("orcamentos-list"),n=document.getElementById("orcamentos-empty"),r=e||m;if(0===r.length)return t.classList.add("hidden"),void n.classList.remove("hidden");t.classList.remove("hidden"),n.classList.add("hidden"),t.innerHTML='\n        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">\n            '.concat(r.map((function(e){var t,n,r=e.criadoEm?new Date(e.criadoEm.toDate()).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data não disponível",o=e.totalLiquido?"R$ ".concat(e.totalLiquido.toFixed(2).replace(".",",")):"R$ ".concat((null===(t=e.total)||void 0===t?void 0:t.toFixed(2).replace(".",","))||"0,00"),a=(null===(n=e.produtos)||void 0===n?void 0:n.length)||0;return'\n                    <div class="bg-white shadow rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer" data-orcamento-id="'.concat(e.id,'">\n                        <div class="flex justify-between items-start mb-2">\n                            <h3 class="text-lg font-semibold text-gray-800 truncate flex-1 mr-2">').concat(e.descricao||"Sem descrição",'</h3>\n                            <button \n                                class="text-red-500 hover:text-red-700 delete-orcamento" \n                                data-orcamento-id="').concat(e.id,'"\n                                title="Excluir orçamento">\n                                <i class="fas fa-trash"></i>\n                            </button>\n                        </div>\n                        <div class="text-sm text-gray-600 mb-2">\n                            <p><i class="fas fa-calendar mr-1"></i> ').concat(r,'</p>\n                            <p class="mt-1"><i class="fas fa-boxes mr-1"></i> ').concat(a," ").concat(1===a?"item":"itens",'</p>\n                        </div>\n                        <div class="flex justify-between items-center mt-3 pt-3 border-t">\n                            <span class="text-gray-600">Total:</span>\n                            <span class="text-lg font-bold text-green-600">').concat(o,"</span>\n                        </div>\n                        ").concat(e.desconto>0?'\n                            <div class="text-xs text-gray-500 mt-1">\n                                Desconto: R$ '.concat(e.desconto.toFixed(2).replace(".",","),"\n                            </div>\n                        "):"","\n                    </div>\n                ")})).join(""),"\n        </div>\n    "),document.querySelectorAll("[data-orcamento-id]").forEach((function(e){e.addEventListener("click",(function(t){t.target.closest(".delete-orcamento")||function(e){var t,n,r,o,a=m.find((function(t){return t.id===e}));if(a){console.log("Documento do orçamento:",a),console.log("Produtos do orçamento:",a.produtos);var i=document.getElementById("modal-detalhes-orcamento"),c=document.getElementById("modal-detalhes-content"),s=a.criadoEm?new Date(a.criadoEm.toDate()).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data não disponível",d=(null===(t=a.produtos)||void 0===t?void 0:t.map((function(e){return'\n        <li class="flex justify-between py-2 border-b">\n            <span>'.concat(e.quantidade||0,"x ").concat(e.descricao||"Produto sem descrição",'</span>\n            <span class="text-gray-600 whitespace-nowrap ml-4">R$ ').concat((e.subtotal||0).toFixed(2).replace(".",","),"</span>\n        </li>\n    ")})).join(""))||'<li class="text-gray-500">Nenhum produto encontrado</li>',l=(null===(n=a.total)||void 0===n?void 0:n.toFixed(2).replace(".",","))||"0,00",u=(null===(r=a.desconto)||void 0===r?void 0:r.toFixed(2).replace(".",","))||"0,00",p=(null===(o=a.totalLiquido)||void 0===o?void 0:o.toFixed(2).replace(".",","))||l;c.innerHTML='\n        <div class="space-y-4">\n            <div>\n                <h3 class="text-lg font-semibold text-gray-800 mb-2">'.concat(a.descricao||"Sem descrição",'</h3>\n                <p class="text-sm text-gray-600"><i class="fas fa-calendar mr-1"></i> Criado em: ').concat(s,'</p>\n            </div>\n\n            <div class="border-t pt-4">\n                <h4 class="font-semibold text-gray-700 mb-2">Produtos:</h4>\n                <ul class="space-y-1">\n                    ').concat(d,'\n                </ul>\n            </div>\n\n            <div class="border-t pt-4 space-y-2">\n                <div class="flex justify-between">\n                    <span class="text-gray-600">Subtotal:</span>\n                    <span class="font-semibold">R$ ').concat(l,"</span>\n                </div>\n                ").concat(a.desconto>0?'\n                    <div class="flex justify-between text-red-600">\n                        <span>Desconto:</span>\n                        <span>- R$ '.concat(u,"</span>\n                    </div>\n                "):"",'\n                <div class="flex justify-between text-lg font-bold text-green-600 border-t pt-2">\n                    <span>Total:</span>\n                    <span>R$ ').concat(p,"</span>\n                </div>\n            </div>\n        </div>\n    "),i.classList.remove("hidden")}}(e.getAttribute("data-orcamento-id"))}))})),document.querySelectorAll(".delete-orcamento").forEach((function(e){e.addEventListener("click",function(){var t=p(l().mark((function t(n){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),r=e.getAttribute("data-orcamento-id"),t.next=4,b(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}function b(e){return x.apply(this,arguments)}function x(){return(x=p(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Swal.fire({title:"Tem certeza?",text:"Esta ação não pode ser desfeita!",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim, excluir",cancelButtonText:"Cancelar",confirmButtonColor:"#dc2626"});case 2:if(!e.sent.isConfirmed){e.next=17;break}return e.prev=4,n=(0,r.H9)(r.kA,"orcamentos",t),e.next=8,(0,r.kd)(n);case 8:m=m.filter((function(e){return e.id!==t})),y(),Swal.fire({icon:"success",title:"Excluído!",text:"O orçamento foi excluído com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Erro ao excluir orçamento:",e.t0),Swal.fire({icon:"error",title:"Erro ao excluir",text:"Não foi possível excluir o orçamento.",showConfirmButton:!1,timer:3e3});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function w(){var e=document.getElementById("busca-orcamento");e&&e.addEventListener("input",(function(e){var t=e.target.value.toLowerCase().trim();""===t?y():y(m.filter((function(e){var n;return null===(n=e.descricao)||void 0===n?void 0:n.toLowerCase().includes(t)})))}));var t=document.getElementById("refresh-orcamentos");t&&t.addEventListener("click",p(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.querySelector("i").classList.add("fa-spin"),e.next=3,g();case 3:t.querySelector("i").classList.remove("fa-spin");case 4:case"end":return e.stop()}}),e)}))));var n=document.getElementById("close-modal-detalhes"),r=document.getElementById("modal-detalhes-orcamento");n&&n.addEventListener("click",(function(){r.classList.add("hidden")})),r&&r.addEventListener("click",(function(e){e.target===r&&r.classList.add("hidden")}))}},7361:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>L});var r=n(1676),o=n(6115),a=n(4541),i=n(7664);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(){f=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};l(E,i,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,i)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,i,s){var d=p(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==c(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=m;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=p(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=l(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),l(I,d,"Generator"),l(I,i,(function(){return this})),l(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function h(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,c,"next",e)}function c(e){h(a,r,o,i,c,"throw",e)}i(void 0)}))}}var v=[],y=[],b=[],x=[],w=null,E=null;function L(){return k.apply(this,arguments)}function k(){return(k=g(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Pedidos init inicio"),document.getElementById("content-dashboard"),e.prev=3,e.next=6,(0,a.k)();case 6:if(t=e.sent,s=2,n=function(e){if(Array.isArray(e))return e}(c=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(c,s)||p(c,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],i=n[1],!r){e.next=13;break}return window.location.hash=r,e.abrupt("return");case 13:if("admin"===i.tipo){e.next=19;break}return window.location.hash="/app",e.abrupt("return");case 19:i.email;case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(3),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 27:return e.next=29,I();case 29:document.getElementById("content-dashboard").innerHTML='\n        <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n            <h1 class="text-2xl font-bold text-gray-800 mb-4">Pedidos</h1>\n\n            \x3c!-- Formulário de Cadastro --\x3e\n            <form id="form-pedido" class="space-y-4 mb-6">\n                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                    <div class="relative w-full">\n                        <select \n                            id="fornecedor-id" \n                            class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                            required\n                        >\n                            <option value="">Selecione o fornecedor</option>\n                            '.concat(y.map((function(e){return'<option value="'.concat(e.id,'">').concat(e.descricao,"</option>")})).join(""),'\n                        </select>\n                        <label for="fornecedor-id" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                            Fornecedor *\n                        </label>\n                    </div>\n                    ').concat((0,o.LH)("number","valor","Valor",!1,"step=0.01 min=0"),'\n                </div>\n                \n                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                    <div class="relative w-full">\n                        <select \n                            id="forma-pagamento" \n                            class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"\n                        >\n                            <option value="">Selecione</option>\n                            <option value="dinheiro">Dinheiro</option>\n                            <option value="pix">PIX</option>\n                            <option value="cartao-credito">Cartão de Crédito</option>\n                            <option value="cartao-debito">Cartão de Débito</option>\n                            <option value="transferencia">Transferência</option>\n                            <option value="boleto">Boleto</option>\n                        </select>\n                        <label for="forma-pagamento" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                            Forma de Pagamento\n                        </label>\n                    </div>\n                    <div class="relative w-full">\n                        <select \n                            id="situacao" \n                            class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                            required\n                        >\n                            <option value="">Selecione</option>\n                            <option value="contato-iniciado">Contato Iniciado</option>\n                            <option value="fazendo-pedido">Fazendo Pedido</option>\n                            <option value="pedido-feito">Pedido Feito</option>\n                            <option value="recebido">Recebido</option>\n                        </select>\n                        <label for="situacao" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                            Situação *\n                        </label>\n                    </div>\n                </div>\n\n                <div class="grid grid-cols-1 gap-4">\n                    <div class="relative w-full">\n                        <input \n                            type="file" \n                            id="anexo-pedido" \n                            accept="image/*,.pdf"\n                            class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"\n                        />\n                        <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="anexo-dropzone">\n                            <div id="anexo-info" class="flex flex-col mr-2 hidden">\n                                <span id="anexo-name" class="text-xs font-medium"></span>\n                                <span id="anexo-size" class="text-xs text-gray-500"></span>\n                            </div>\n                            <span class="text-sm text-gray-600 whitespace-nowrap" id="upload-anexo-text">\n                                Anexo do Pedido (opcional)\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                \x3c!-- Seção de Itens do Pedido --\x3e\n                <div class="border-t pt-4 mt-4">\n                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Itens do Pedido</h3>\n                    \n                    \x3c!-- Botões de ação --\x3e\n                    <div class="flex gap-2 mb-3">\n                        <button type="button" id="import-csv-btn" class="bg-blue-500 text-white px-4 py-2 rounded text-sm hover:bg-blue-600">\n                            <i class="fas fa-file-import mr-1"></i>Importar CSV\n                        </button>\n                    </div>\n\n                    \x3c!-- Formulário de adicionar item --\x3e\n                    <div class="grid grid-cols-1 md:grid-cols-12 gap-3 mb-3">\n                        ').concat((0,o.LH)("text","item-codigo","Código",!1,"","md:col-span-2"),"\n                        ").concat((0,o.LH)("text","item-descricao","Descrição",!1,"","md:col-span-2"),"\n                        ").concat((0,o.LH)("number","item-qtd-embalagem","Qtd/Emb",!1,"min='1'","md:col-span-1"),"\n                        ").concat((0,o.LH)("number","item-qtd-pedido","Qtd Pedido",!1,"min='1'","md:col-span-1"),"\n                        ").concat((0,o.LH)("number","item-preco","Preço (R$)",!1,"step='0.01' min='0'","md:col-span-2"),'\n                        <div class="md:col-span-3 flex items-stretch">\n                            <div class="relative flex-1">\n                                <input \n                                    type="text"\n                                    id="item-imagem-url" \n                                    class="peer w-full pt-5 pb-2 px-2 border border-r-0 rounded-l focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                    placeholder=" "\n                                    readonly\n                                />\n                                <label for="item-imagem-url" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                    Imagem (Ctrl+V)\n                                </label>\n                                <input type="file" id="item-imagem-file" accept="image/*" class="hidden">\n                            </div>\n                            <button type="button" id="item-imagem-btn" class="bg-gray-500 text-white px-3 border border-gray-500 hover:bg-gray-600 flex items-center" title="Escolher arquivo">\n                                <i class="fas fa-folder-open"></i>\n                            </button>\n                            <div id="item-imagem-preview" class="hidden ml-2 flex items-center">\n                                <img id="item-imagem-preview-img" src="" alt="Preview" class="w-10 h-10 object-cover rounded border cursor-pointer" onclick="window.open(this.src, \'_blank\')" title="Clique para ver em tamanho real">\n                            </div>\n                        </div>\n                        <div class="md:col-span-1 flex items-stretch">\n                            <button type="button" id="add-item-btn" class="w-full bg-green-500 text-white px-3 py-2 rounded text-sm hover:bg-green-600">\n                                <i class="fas fa-plus"></i>\n                            </button>\n                        </div>\n                    </div>\n\n                    \x3c!-- Tabela de itens --\x3e\n                    <div class="overflow-x-auto">\n                        <table class="w-full text-sm">\n                            <thead class="bg-gray-100">\n                                <tr>\n                                    <th class="p-2 text-center">Img</th>\n                                    <th class="p-2 text-left">Código</th>\n                                    <th class="p-2 text-left">Descrição</th>\n                                    <th class="p-2 text-right">Qtd/Emb</th>\n                                    <th class="p-2 text-right">Qtd Pedido</th>\n                                    <th class="p-2 text-right">Preço</th>\n                                    <th class="p-2 text-right">Preço Unit.</th>\n                                    <th class="p-2 text-right">Subtotal</th>\n                                    <th class="p-2 text-center">Ações</th>\n                                </tr>\n                            </thead>\n                            <tbody id="itens-table-body">\n                                <tr>\n                                    <td colspan="9" class="p-4 text-center text-gray-500">Nenhum item adicionado</td>\n                                </tr>\n                            </tbody>\n                            <tfoot id="itens-table-footer" class="hidden bg-gray-50 font-semibold">\n                                <tr>\n                                    <td colspan="7" class="p-2 text-right">Total do Pedido:</td>\n                                    <td class="p-2 text-right" id="total-pedido">R$ 0,00</td>\n                                    <td></td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n\n                <button \n                    type="submit" \n                    class="w-full bg-primary text-white p-2 rounded">\n                    Cadastrar Pedido\n                </button>\n            </form>\n\n            \x3c!-- Botões de Filtro e Ordenação --\x3e\n            <div class="flex gap-2 mb-4">\n                <button \n                    id="open-filter-modal"\n                    class="bg-primary text-white px-4 py-2 rounded">\n                    Filtrar Pedidos\n                </button>\n                <button \n                    id="open-order-modal"\n                    class="bg-primary text-white px-4 py-2 rounded">\n                    Ordenar\n                </button>\n            </div>\n\n            \x3c!-- Contador de Registros --\x3e\n            <div id="total-registros" class="text-center text-gray-500 text-sm mt-2">\n                <div class="flex justify-center items-center gap-4">\n                    <span>\n                        Total de pedidos: <span id="total-registros-valor" class="font-semibold text-primary">\n                          <span class="inline-block bg-gray-200 rounded w-12 h-5 align-middle animate-pulse"></span>\n                        </span>\n                    </span>\n                    <span id="registros-filtrado" class="hidden">\n                        <i class="fas fa-filter text-primary"></i>\n                        Encontrados no filtro: <span id="registros-filtrado-valor" class="font-semibold text-primary">0</span>\n                    </span>\n                </div>\n            </div>\n\n            \x3c!-- Lista de Pedidos em Cards --\x3e\n            <div id="pedidos-list-cards" class="mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>\n\n            \x3c!-- Modal de Edição --\x3e\n            <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-50">\n                <div class="relative bg-white rounded shadow-lg p-6 w-[40rem] max-h-[90vh] overflow-y-auto">\n                    <h2 class="text-xl font-bold mb-4">Editar Pedido</h2>\n                    <form id="edit-form" class="space-y-4">\n                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                            <div class="relative w-full">\n                                <select \n                                    id="edit-fornecedor-id" \n                                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                    required\n                                >\n                                    <option value="">Selecione o fornecedor</option>\n                                    ').concat(y.map((function(e){return'<option value="'.concat(e.id,'">').concat(e.descricao,"</option>")})).join(""),'\n                                </select>\n                                <label for="edit-fornecedor-id" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                    Fornecedor *\n                                </label>\n                            </div>\n                            ').concat((0,o.LH)("number","edit-valor","Valor",!1,"step=0.01 min=0"),'\n                        </div>\n                        \n                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                            <div class="relative w-full">\n                                <select \n                                    id="edit-forma-pagamento" \n                                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"\n                                >\n                                    <option value="">Selecione</option>\n                                    <option value="dinheiro">Dinheiro</option>\n                                    <option value="pix">PIX</option>\n                                    <option value="cartao-credito">Cartão de Crédito</option>\n                                    <option value="cartao-debito">Cartão de Débito</option>\n                                    <option value="transferencia">Transferência</option>\n                                    <option value="boleto">Boleto</option>\n                                </select>\n                                <label for="edit-forma-pagamento" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                    Forma de Pagamento\n                                </label>\n                            </div>\n                            <div class="relative w-full">\n                                <select \n                                    id="edit-situacao" \n                                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                    required\n                                >\n                                    <option value="">Selecione</option>\n                                    <option value="contato-iniciado">Contato Iniciado</option>\n                                    <option value="fazendo-pedido">Fazendo Pedido</option>\n                                    <option value="pedido-feito">Pedido Feito</option>\n                                    <option value="recebido">Recebido</option>\n                                </select>\n                                <label for="edit-situacao" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                    Situação *\n                                </label>\n                            </div>\n                        </div>\n\n                        <div class="grid grid-cols-1 gap-4">\n                            <div class="relative w-full">\n                                <input \n                                    type="file" \n                                    id="edit-anexo-pedido" \n                                    accept="image/*,.pdf"\n                                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                                />\n                                <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="edit-anexo-dropzone">\n                                    <div id="edit-anexo-info" class="flex flex-col mr-2 hidden">\n                                        <span id="edit-anexo-name" class="text-xs font-medium"></span>\n                                        <span id="edit-anexo-size" class="text-xs text-gray-500"></span>\n                                    </div>\n                                    <span class="text-sm text-gray-600 whitespace-nowrap" id="edit-upload-anexo-text">\n                                        Alterar anexo (opcional)\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n\n                        \x3c!-- Seção de Itens do Pedido --\x3e\n                        <div class="border-t pt-4 mt-4">\n                            <h3 class="text-lg font-semibold text-gray-800 mb-3">Itens do Pedido</h3>\n                            \n                            \x3c!-- Formulário de adicionar item --\x3e\n                            <div class="grid grid-cols-1 md:grid-cols-12 gap-3 mb-3">\n                                ').concat((0,o.LH)("text","edit-item-codigo","Código",!1,"","md:col-span-2"),"\n                                ").concat((0,o.LH)("text","edit-item-descricao","Descrição",!1,"","md:col-span-2"),"\n                                ").concat((0,o.LH)("number","edit-item-qtd-embalagem","Qtd/Emb",!1,"min='1'","md:col-span-1"),"\n                                ").concat((0,o.LH)("number","edit-item-qtd-pedido","Qtd Pedido",!1,"min='1'","md:col-span-1"),"\n                                ").concat((0,o.LH)("number","edit-item-preco","Preço (R$)",!1,"step='0.01' min='0'","md:col-span-2"),'\n                                <div class="md:col-span-3 flex items-stretch">\n                                    <div class="relative flex-1">\n                                        <input \n                                            type="text"\n                                            id="edit-item-imagem-url" \n                                            class="peer w-full pt-5 pb-2 px-2 border border-r-0 rounded-l focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                            placeholder=" "\n                                            readonly\n                                        />\n                                        <label for="edit-item-imagem-url" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                            Imagem (Ctrl+V)\n                                        </label>\n                                        <input type="file" id="edit-item-imagem-file" accept="image/*" class="hidden">\n                                    </div>\n                                    <button type="button" id="edit-item-imagem-btn" class="bg-gray-500 text-white px-3 border border-gray-500 hover:bg-gray-600 flex items-center" title="Escolher arquivo">\n                                        <i class="fas fa-folder-open"></i>\n                                    </button>\n                                    <div id="edit-item-imagem-preview" class="hidden ml-2 flex items-center">\n                                        <img id="edit-item-imagem-preview-img" src="" alt="Preview" class="w-10 h-10 object-cover rounded border cursor-pointer" onclick="window.open(this.src, \'_blank\')" title="Clique para ver em tamanho real">\n                                    </div>\n                                </div>\n                                <div class="md:col-span-1 flex items-stretch">\n                                    <button type="button" id="edit-add-item-btn" class="w-full bg-green-500 text-white px-3 py-2 rounded text-sm hover:bg-green-600">\n                                        <i class="fas fa-plus"></i>\n                                    </button>\n                                </div>\n                            </div>\n\n                            \x3c!-- Tabela de itens --\x3e\n                            <div class="overflow-x-auto">\n                                <table class="w-full text-sm">\n                                    <thead class="bg-gray-100">\n                                        <tr>\n                                            <th class="p-2 text-center">Img</th>\n                                            <th class="p-2 text-left">Código</th>\n                                            <th class="p-2 text-left">Descrição</th>\n                                            <th class="p-2 text-right">Qtd/Emb</th>\n                                            <th class="p-2 text-right">Qtd Pedido</th>\n                                            <th class="p-2 text-right">Preço</th>\n                                            <th class="p-2 text-right">Preço Unit.</th>\n                                            <th class="p-2 text-right">Subtotal</th>\n                                            <th class="p-2 text-center">Ações</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody id="edit-itens-table-body">\n                                        <tr>\n                                            <td colspan="9" class="p-4 text-center text-gray-500">Nenhum item adicionado</td>\n                                        </tr>\n                                    </tbody>\n                                    <tfoot id="edit-itens-table-footer" class="hidden bg-gray-50 font-semibold">\n                                        <tr>\n                                            <td colspan="7" class="p-2 text-right">Total do Pedido:</td>\n                                            <td class="p-2 text-right" id="edit-total-pedido">R$ 0,00</td>\n                                            <td></td>\n                                        </tr>\n                                    </tfoot>\n                                </table>\n                            </div>\n                        </div>\n\n                        <button type="submit" \n                          class="w-full bg-[#386c6f] text-white p-2 rounded hover:bg-[#264a4c] transition-colors duration-300 flex items-center justify-center mt-6">\n                          <i class="fas fa-save mr-2"></i>\n                          Salvar Alterações\n                        </button>\n                    </form>\n                    <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n                </div>\n            </div>\n\n            \x3c!-- Modal de Importação CSV --\x3e\n            <div id="import-csv-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-50">\n                <div class="relative bg-white rounded shadow-lg p-6 w-[90%] max-w-4xl max-h-[90vh] overflow-y-auto">\n                    <h2 class="text-xl font-bold mb-4">Importar Itens via CSV</h2>\n                    \n                    \x3c!-- Instruções --\x3e\n                    <div class="bg-blue-50 border border-blue-200 rounded p-3 mb-4">\n                        <p class="text-sm text-blue-800">\n                            <i class="fas fa-info-circle mr-1"></i>\n                            Cole os dados da planilha (use Ctrl+C na planilha e Ctrl+V aqui). Pode ser separado por TAB, vírgula ou ponto e vírgula.\n                        </p>\n                    </div>\n\n                    \x3c!-- Textarea para colar CSV --\x3e\n                    <div class="mb-4">\n                        <label class="block text-sm font-semibold mb-2">Cole os dados aqui:</label>\n                        <textarea \n                            id="csv-input" \n                            class="w-full h-32 p-2 border rounded font-mono text-sm"\n                            placeholder="COD\tDesc\tUN\tPCT\n396133\tBrochura Colegial 80 fl\t4\t2\n308811\tBrochura Univ. 80 fl\t4\t4"></textarea>\n                    </div>\n\n                    \x3c!-- Detecção de separador --\x3e\n                    <div class="mb-4">\n                        <label class="block text-sm font-semibold mb-2">Separador:</label>\n                        <select id="csv-separator" class="p-2 border rounded">\n                            <option value="auto">Detectar automaticamente</option>\n                            <option value="tab">TAB (tabulação)</option>\n                            <option value=",">Vírgula (,)</option>\n                            <option value=";">Ponto e vírgula (;)</option>\n                        </select>\n                        <button type="button" id="parse-csv-btn" class="ml-2 bg-primary text-white px-4 py-2 rounded">\n                            <i class="fas fa-sync mr-1"></i>Processar\n                        </button>\n                    </div>\n\n                    \x3c!-- Mapeamento de colunas --\x3e\n                    <div id="column-mapping" class="mb-4 hidden">\n                        <h3 class="font-semibold mb-2">Mapeamento de Colunas:</h3>\n                        <div class="grid grid-cols-1 md:grid-cols-5 gap-3">\n                            <div>\n                                <label class="block text-xs mb-1">Coluna 1 →</label>\n                                <select id="map-col-0" class="w-full p-2 border rounded text-sm">\n                                    <option value="">Ignorar</option>\n                                    <option value="codigo">Código</option>\n                                    <option value="descricao">Descrição</option>\n                                    <option value="qtdEmbalagem">Qtd/Embalagem</option>\n                                    <option value="qtdPedido">Qtd Pedido</option>\n                                    <option value="preco">Preço</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label class="block text-xs mb-1">Coluna 2 →</label>\n                                <select id="map-col-1" class="w-full p-2 border rounded text-sm">\n                                    <option value="">Ignorar</option>\n                                    <option value="codigo">Código</option>\n                                    <option value="descricao">Descrição</option>\n                                    <option value="qtdEmbalagem">Qtd/Embalagem</option>\n                                    <option value="qtdPedido">Qtd Pedido</option>\n                                    <option value="preco">Preço</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label class="block text-xs mb-1">Coluna 3 →</label>\n                                <select id="map-col-2" class="w-full p-2 border rounded text-sm">\n                                    <option value="">Ignorar</option>\n                                    <option value="codigo">Código</option>\n                                    <option value="descricao">Descrição</option>\n                                    <option value="qtdEmbalagem">Qtd/Embalagem</option>\n                                    <option value="qtdPedido">Qtd Pedido</option>\n                                    <option value="preco">Preço</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label class="block text-xs mb-1">Coluna 4 →</label>\n                                <select id="map-col-3" class="w-full p-2 border rounded text-sm">\n                                    <option value="">Ignorar</option>\n                                    <option value="codigo">Código</option>\n                                    <option value="descricao">Descrição</option>\n                                    <option value="qtdEmbalagem">Qtd/Embalagem</option>\n                                    <option value="qtdPedido">Qtd Pedido</option>\n                                    <option value="preco">Preço</option>\n                                </select>\n                            </div>\n                            <div>\n                                <label class="block text-xs mb-1">Coluna 5 →</label>\n                                <select id="map-col-4" class="w-full p-2 border rounded text-sm">\n                                    <option value="">Ignorar</option>\n                                    <option value="codigo">Código</option>\n                                    <option value="descricao">Descrição</option>\n                                    <option value="qtdEmbalagem">Qtd/Embalagem</option>\n                                    <option value="qtdPedido">Qtd Pedido</option>\n                                    <option value="preco">Preço</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="mt-2">\n                            <label class="flex items-center">\n                                <input type="checkbox" id="first-row-header" checked class="mr-2">\n                                <span class="text-sm">Primeira linha é cabeçalho</span>\n                            </label>\n                        </div>\n                    </div>\n\n                    \x3c!-- Preview --\x3e\n                    <div id="csv-preview" class="mb-4 hidden">\n                        <h3 class="font-semibold mb-2">Preview (<span id="preview-count">0</span> itens):</h3>\n                        <div class="overflow-x-auto max-h-64 border rounded">\n                            <table class="w-full text-xs">\n                                <thead class="bg-gray-100 sticky top-0">\n                                    <tr>\n                                        <th class="p-2 text-left">Código</th>\n                                        <th class="p-2 text-left">Descrição</th>\n                                        <th class="p-2 text-right">Qtd/Emb</th>\n                                        <th class="p-2 text-right">Qtd Pedido</th>\n                                        <th class="p-2 text-right">Preço</th>\n                                    </tr>\n                                </thead>\n                                <tbody id="csv-preview-body">\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n\n                    \x3c!-- Botões --\x3e\n                    <div class="flex justify-end gap-2">\n                        <button type="button" id="close-import-csv-modal" class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button type="button" id="import-items-btn" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 hidden">\n                            <i class="fas fa-check mr-1"></i>Importar Itens\n                        </button>\n                    </div>\n                    \n                    <button id="close-import-csv-modal-x" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n                </div>\n            </div>\n        </div>\n    '),S(),G(),console.log("Pedidos init fim");case 32:case"end":return e.stop()}var c,s}),e,null,[[3,23]])})))).apply(this,arguments)}function I(){return B.apply(this,arguments)}function B(){return(B=g(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,r.rJ)(r.kA,"fornecedores"),e.next=4,(0,r.GG)(t);case 4:n=e.sent,y=n.docs.map((function(e){return d({id:e.id},e.data())})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Erro ao carregar fornecedores:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return(j=g(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(),t=(0,r.rJ)(r.kA,"pedidos"),e.next=5,(0,r.GG)(t);case 5:n=e.sent,v=n.docs.map((function(e){return d({id:e.id},e.data())})),P(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Erro ao carregar pedidos:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível carregar os pedidos.",showConfirmButton:!1,timer:3e3});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function C(){var e=document.getElementById("pedidos-list-cards");if(e){for(var t="",n=0;n<6;n++)t+='\n            <div class="bg-white rounded shadow p-3 flex flex-row items-center gap-4 animate-pulse">\n                <div class="w-16 h-16 rounded-full bg-gray-200"></div>\n                <div class="flex flex-col flex-1 gap-2">\n                    <div class="h-4 bg-gray-200 rounded w-1/2"></div>\n                    <div class="h-3 bg-gray-100 rounded w-3/4"></div>\n                    <div class="h-3 bg-gray-100 rounded w-1/3"></div>\n                    <div class="h-8 bg-gray-200 rounded w-2/3 mt-2"></div>\n                </div>\n            </div>\n        ';e.innerHTML=t}}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("Atualizando lista de pedidos (cards)...");var t=document.getElementById("pedidos-list-cards");if(t){t.innerHTML="";var n=e||v;n&&(n.forEach((function(e){var r=y.find((function(t){return t.id===e.fornecedorId})),o=document.createElement("div");o.className="bg-white rounded shadow p-3 flex flex-row items-center gap-4";var a="";switch(e.situacao){case"contato-iniciado":a='<span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded">Contato Iniciado</span>';break;case"fazendo-pedido":a='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Fazendo Pedido</span>';break;case"pedido-feito":a='<span class="bg-orange-100 text-orange-800 text-xs font-medium px-2 py-0.5 rounded">Pedido Feito</span>';break;case"recebido":a='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Recebido</span>'}var i="";if(e.formaPagamento)switch(e.formaPagamento){case"dinheiro":i='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Dinheiro</span>';break;case"pix":i='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">PIX</span>';break;case"cartao-credito":i='<span class="bg-purple-100 text-purple-800 text-xs font-medium px-2 py-0.5 rounded">Cartão Crédito</span>';break;case"cartao-debito":i='<span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2 py-0.5 rounded">Cartão Débito</span>';break;case"transferencia":i='<span class="bg-teal-100 text-teal-800 text-xs font-medium px-2 py-0.5 rounded">Transferência</span>';break;case"boleto":i='<span class="bg-gray-100 text-gray-800 text-xs font-medium px-2 py-0.5 rounded">Boleto</span>'}var c=e.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.valor):"Não informado",s=new Date(e.criadoEm.toDate()).toLocaleDateString("pt-BR");o.innerHTML='\n                <div class="flex-shrink-0 flex flex-col items-center justify-center">\n                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full flex items-center justify-center mb-1 overflow-hidden">\n                        '.concat(r&&r.logo?'<img src="'.concat(r.logo,'" alt="Logo ').concat(r.descricao,'" class="w-full h-full object-cover">'):'<i class="fas fa-shopping-cart text-gray-500 text-2xl"></i>',"\n                    </div>\n                    ").concat(a,"\n                    ").concat(i,'\n                </div>\n                <div class="flex flex-col flex-1 items-start w-full">\n                    <div class="text-base font-semibold text-gray-800">').concat(r?r.descricao:"Fornecedor não encontrado",'</div>\n                    <div class="text-sm text-gray-600">Valor: ').concat(c,'</div>\n                    <div class="text-sm text-gray-600 mt-1"><i class="fas fa-calendar mr-1"></i>').concat(s,"</div>\n                    ").concat(e.anexo?'<div class="text-sm text-gray-600 mt-1"><i class="fas fa-paperclip mr-1"></i>Anexo</div>':"",'\n                    <button class="mt-3 bg-primary text-white px-3 py-1 rounded ver-detalhes-btn" data-id="').concat(e.id,'">Ver detalhes</button>\n                </div>\n                <div class="flex flex-col items-end gap-2 ml-auto">\n                    <button class="bg-yellow-500 text-white px-3 py-1 rounded editar-pedido-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i></button>\n                    <button class="bg-red-500 text-white px-3 py-1 rounded remover-pedido-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i></button>\n                </div>\n            '),t.appendChild(o),o.querySelector(".ver-detalhes-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id");!function(e){var t=y.find((function(t){return t.id===e.fornecedorId})),n=e.valor?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.valor):"Não informado",r=new Date(e.criadoEm.toDate()).toLocaleDateString("pt-BR"),o="";switch(e.situacao){case"contato-iniciado":o='<span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-0.5 rounded">Contato Iniciado</span>';break;case"fazendo-pedido":o='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Fazendo Pedido</span>';break;case"pedido-feito":o='<span class="bg-orange-100 text-orange-800 text-xs font-medium px-2 py-0.5 rounded">Pedido Feito</span>';break;case"recebido":o='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Recebido</span>'}var a="";if(e.formaPagamento)switch(e.formaPagamento){case"dinheiro":a='<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Dinheiro</span>';break;case"pix":a='<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">PIX</span>';break;case"cartao-credito":a='<span class="bg-purple-100 text-purple-800 text-xs font-medium px-2 py-0.5 rounded">Cartão de Crédito</span>';break;case"cartao-debito":a='<span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2 py-0.5 rounded">Cartão de Débito</span>';break;case"transferencia":a='<span class="bg-teal-100 text-teal-800 text-xs font-medium px-2 py-0.5 rounded">Transferência</span>';break;case"boleto":a='<span class="bg-gray-100 text-gray-800 text-xs font-medium px-2 py-0.5 rounded">Boleto</span>'}var i="";if(e.itens&&e.itens.length>0){i='\n            <div class="mt-4">\n                <h4 class="font-semibold text-sm mb-2">Itens do Pedido:</h4>\n                <div class="overflow-x-auto">\n                    <table class="w-full text-xs border">\n                        <thead class="bg-gray-100">\n                            <tr>\n                                <th class="p-1 text-left border">Código</th>\n                                <th class="p-1 text-left border">Descrição</th>\n                                <th class="p-1 text-right border">Qtd/Emb</th>\n                                <th class="p-1 text-right border">Qtd</th>\n                                <th class="p-1 text-right border">Preço</th>\n                                <th class="p-1 text-right border">Subtotal</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n        ';var c=0;e.itens.forEach((function(e){var t=e.preco?"R$ ".concat(e.preco.toFixed(2).replace(".",",")):"-",n=e.subtotal?"R$ ".concat(e.subtotal.toFixed(2).replace(".",",")):"-";e.subtotal&&(c+=e.subtotal),i+='\n                <tr>\n                    <td class="p-1 border">'.concat(e.codigo,'</td>\n                    <td class="p-1 border">').concat(e.descricao||"-",'</td>\n                    <td class="p-1 text-right border">').concat(e.qtdEmbalagem,'</td>\n                    <td class="p-1 text-right border">').concat(e.qtdPedido,'</td>\n                    <td class="p-1 text-right border">').concat(t,'</td>\n                    <td class="p-1 text-right border">').concat(n,"</td>\n                </tr>\n            ")})),i+='\n                        </tbody>\n                        <tfoot class="bg-gray-50 font-semibold">\n                            <tr>\n                                <td colspan="5" class="p-1 text-right border">Total:</td>\n                                <td class="p-1 text-right border">R$ '.concat(c.toFixed(2).replace(".",","),"</td>\n                            </tr>\n                        </tfoot>\n                    </table>\n                </div>\n            </div>\n        ")}var s="";e.historico&&e.historico.length>0&&(s='<div class="mt-4"><h4 class="font-semibold text-sm mb-2">Histórico de Alterações:</h4><div class="space-y-2">',e.historico.forEach((function(e,t){var n=new Date(e.data.toDate()).toLocaleString("pt-BR");s+='\n                <div class="text-xs bg-gray-50 p-2 rounded">\n                    <div class="font-medium">'.concat(e.situacaoAnterior," → ").concat(e.situacaoNova,'</div>\n                    <div class="text-gray-600">').concat(n,"</div>\n                </div>\n            ")})),s+="</div></div>");var d="";e.anexo&&(d="image"===e.anexo.type?'\n                <div class="mt-4">\n                    <h4 class="font-semibold text-sm mb-2">Anexo:</h4>\n                    <img src="data:image/jpeg;base64,'.concat(e.anexo.base64,'" \n                         alt="Anexo do pedido" \n                         class="max-w-full h-32 object-cover rounded border cursor-pointer hover:opacity-80 transition-opacity"\n                         onclick="openImageModal(\'data:image/jpeg;base64,').concat(e.anexo.base64,"', 'Anexo do Pedido')\">\n                </div>\n            "):'\n                <div class="mt-4">\n                    <h4 class="font-semibold text-sm mb-2">Anexo:</h4>\n                    <div class="text-sm text-gray-600">\n                        <i class="fas fa-file mr-1"></i>'.concat(e.anexo.fileName||"Arquivo anexado","\n                    </div>\n                </div>\n            "));var l=document.createElement("div");l.className="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50",l.innerHTML='\n        <div class="relative bg-white rounded shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">\n            <button class="absolute top-2 right-2 bg-gray-300 hover:bg-red-600 hover:text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl leading-none close-modal">&times;</button>\n            <div class="flex flex-col items-center mb-4">\n                <div class="w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-2 overflow-hidden">\n                    '.concat(t&&t.logo?'<img src="'.concat(t.logo,'" alt="Logo ').concat(t.descricao,'" class="w-full h-full object-cover">'):'<i class="fas fa-shopping-cart text-gray-500 text-4xl"></i>','\n                </div>\n                <div class="font-bold text-xl mb-1">Pedido</div>\n                <div class="text-sm text-gray-700 mb-1">Fornecedor: ').concat(t?t.descricao:"Não encontrado",'</div>\n                <div class="text-sm text-gray-700 mb-1">Valor: ').concat(n,'</div>\n                <div class="text-sm text-gray-700 mb-1">Data: ').concat(r,'</div>\n                <div class="mt-2 flex gap-2">\n                    ').concat(o,"\n                    ").concat(a,"\n                </div>\n            </div>\n            ").concat(i,"\n            ").concat(d,"\n            ").concat(s,'\n            <div class="flex gap-2 justify-center mt-4">\n                <button class="bg-yellow-500 text-white px-4 py-2 rounded editar-pedido-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i> Editar</button>\n                <button class="bg-red-500 text-white px-4 py-2 rounded remover-pedido-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i> Excluir</button>\n            </div>\n        </div>\n    '),document.body.appendChild(l),l.querySelector(".close-modal").onclick=function(){return l.remove()},l.querySelector(".editar-pedido-btn").onclick=function(){l.remove(),D(e)},l.querySelector(".remover-pedido-btn").onclick=function(){l.remove(),A(e.id)}}(n.find((function(e){return e.id==t})))})),o.querySelector(".editar-pedido-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id");D(n.find((function(e){return e.id==t})))})),o.querySelector(".remover-pedido-btn").addEventListener("click",function(){var e=g(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t.currentTarget.getAttribute("data-id"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.getElementById("total-registros-valor").innerText=n.length)}}function A(e){return O.apply(this,arguments)}function O(){return(O=g(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Swal.fire({title:"Tem certeza?",text:"Esta ação não poderá ser revertida!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"});case 2:if(!e.sent.isConfirmed){e.next=16;break}return e.prev=4,e.next=7,(0,r.kd)((0,r.H9)(r.kA,"pedidos",t));case 7:Swal.fire({icon:"success",title:"Excluído!",text:"O pedido foi excluído com sucesso.",showConfirmButton:!1,timer:2e3}),v=v.filter((function(e){return e.id!==t})),P(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Erro ao excluir pedido:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível excluir o pedido.",showConfirmButton:!1,timer:3e3});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function D(e){console.log("Abrindo modal de edição do pedido:",e),document.getElementById("edit-fornecedor-id").value=e.fornecedorId||"",document.getElementById("edit-valor").value=e.valor||"",document.getElementById("edit-forma-pagamento").value=e.formaPagamento||"",document.getElementById("edit-situacao").value=e.situacao||"",e.anexo?(document.getElementById("edit-anexo-name").textContent=e.anexo.fileName||"Anexo atual",document.getElementById("edit-anexo-size").textContent=U(e.anexo.fileSize||0),document.getElementById("edit-anexo-info").classList.remove("hidden"),document.getElementById("edit-upload-anexo-text").classList.add("hidden")):(document.getElementById("edit-anexo-info").classList.add("hidden"),document.getElementById("edit-upload-anexo-text").classList.remove("hidden")),x=e.itens?u(e.itens):[],_(),document.getElementById("edit-modal").setAttribute("data-id",e.id),document.getElementById("edit-modal").classList.remove("hidden")}var N=[];function M(){var e=document.getElementById("csv-input").value.trim();if(e){var t,n,r,o=document.getElementById("csv-separator").value;"auto"===o?(t=e.split("\n")[0],n=0,r="\t",["\t",";",","].forEach((function(e){var o=(t.match(new RegExp("\t"===e?"\\t":e,"g"))||[]).length;o>n&&(n=o,r=e)})),o=r):"tab"===o&&(o="\t");var a=e.split("\n").filter((function(e){return e.trim()})).map((function(e){return e.split(o).map((function(e){return e.trim()}))}));if(0!==a.length){var i=a[0].length,c=document.getElementById("column-mapping"),s=c.querySelector(".grid");s.innerHTML="";for(var d=0;d<i;d++){var l=document.createElement("div"),u=a[0][d];l.innerHTML='\n            <label class="block text-xs mb-1">Coluna '.concat(d+1,' (ex: "').concat(u,'") →</label>\n            <select id="map-col-').concat(d,'" class="w-full p-2 border rounded text-sm map-select">\n                <option value="">Ignorar</option>\n                <option value="codigo">Código</option>\n                <option value="descricao">Descrição</option>\n                <option value="qtdEmbalagem">Qtd/Embalagem</option>\n                <option value="qtdPedido">Qtd Pedido</option>\n                <option value="preco">Preço</option>\n            </select>\n        '),s.appendChild(l)}a.length>0&&a[0].map((function(e){return e.toLowerCase()})).forEach((function(e,t){var n=document.getElementById("map-col-".concat(t));n&&(e.includes("cod")||e.includes("código")?n.value="codigo":e.includes("desc")||e.includes("descrição")||e.includes("produto")?n.value="descricao":e.includes("un")||e.includes("emb")||e.includes("embalagem")?n.value="qtdEmbalagem":e.includes("pct")||e.includes("qtd")||e.includes("quantidade")||e.includes("pedido")?n.value="qtdPedido":(e.includes("preço")||e.includes("preco")||e.includes("valor"))&&(n.value="preco"))})),N=a,c.classList.remove("hidden"),document.querySelectorAll(".map-select").forEach((function(e){e.addEventListener("change",T)})),document.getElementById("first-row-header").addEventListener("change",T),T()}else Swal.fire({icon:"error",title:"Erro!",text:"Nenhum dado foi encontrado.",showConfirmButton:!1,timer:2e3})}else Swal.fire({icon:"warning",title:"Atenção!",text:"Cole os dados da planilha primeiro.",showConfirmButton:!1,timer:2e3})}function T(){var e=document.getElementById("first-row-header").checked?N.slice(1):N,t={};document.querySelectorAll(".map-select").forEach((function(e,n){e.value&&(t[n]=e.value)}));var n=Object.values(t).includes("codigo"),r=Object.values(t).includes("qtdEmbalagem")||Object.values(t).includes("qtdPedido");if(!n||!r)return document.getElementById("csv-preview").classList.add("hidden"),void document.getElementById("import-items-btn").classList.add("hidden");var o=e.map((function(e){var n={codigo:"",descricao:"",qtdEmbalagem:0,qtdPedido:0,preco:null};return Object.keys(t).forEach((function(r){var o=t[r],a=e[parseInt(r)];if("codigo"===o)n.codigo=a||"";else if("descricao"===o)n.descricao=a||"";else if("qtdEmbalagem"===o)n.qtdEmbalagem=parseInt(a)||0;else if("qtdPedido"===o)n.qtdPedido=parseInt(a)||0;else if("preco"===o){var i=a?a.replace(",","."):"0";n.preco=parseFloat(i)||null}})),n.preco&&n.qtdEmbalagem>0?n.precoUnitario=n.preco/n.qtdEmbalagem:n.precoUnitario=null,n.preco&&n.qtdPedido>0?n.subtotal=n.preco*n.qtdPedido:n.subtotal=null,n})).filter((function(e){return e.codigo&&(e.qtdEmbalagem>0||e.qtdPedido>0)})),a=document.getElementById("csv-preview-body");if(a.innerHTML="",o.slice(0,10).forEach((function(e){var t=document.createElement("tr");t.className="border-b hover:bg-gray-50";var n=e.preco?"R$ ".concat(e.preco.toFixed(2).replace(".",",")):"-";t.innerHTML='\n            <td class="p-2">'.concat(e.codigo,'</td>\n            <td class="p-2">').concat(e.descricao||"-",'</td>\n            <td class="p-2 text-right">').concat(e.qtdEmbalagem,'</td>\n            <td class="p-2 text-right">').concat(e.qtdPedido,'</td>\n            <td class="p-2 text-right">').concat(n,"</td>\n        "),a.appendChild(t)})),o.length>10){var i=document.createElement("tr");i.innerHTML='\n            <td colspan="5" class="p-2 text-center text-gray-500 italic">\n                ... e mais '.concat(o.length-10," itens\n            </td>\n        "),a.appendChild(i)}document.getElementById("preview-count").textContent=o.length,document.getElementById("csv-preview").classList.remove("hidden"),document.getElementById("import-items-btn").classList.remove("hidden"),window.csvProcessedItems=o}function F(){var e=window.csvProcessedItems;e&&0!==e.length?(e.forEach((function(e){b.push(e)})),R(),Swal.fire({icon:"success",title:"Sucesso!",text:"".concat(e.length," itens foram importados."),showConfirmButton:!1,timer:2e3}),document.getElementById("import-csv-modal").classList.add("hidden"),document.getElementById("csv-input").value="",document.getElementById("csv-preview").classList.add("hidden"),document.getElementById("column-mapping").classList.add("hidden"),document.getElementById("import-items-btn").classList.add("hidden"),N=[],window.csvProcessedItems=[]):Swal.fire({icon:"warning",title:"Atenção!",text:"Nenhum item para importar.",showConfirmButton:!1,timer:2e3})}function q(){var e=document.getElementById("item-codigo").value.trim(),t=document.getElementById("item-descricao").value.trim(),n=parseInt(document.getElementById("item-qtd-embalagem").value)||0,r=parseInt(document.getElementById("item-qtd-pedido").value)||0,o=parseFloat(document.getElementById("item-preco").value)||null;if(e)if(n<=0||r<=0)Swal.fire({icon:"warning",title:"Atenção!",text:"Informe quantidades válidas.",showConfirmButton:!1,timer:2e3});else{var a={codigo:e,descricao:t,qtdEmbalagem:n,qtdPedido:r,preco:o,imagem:w,precoUnitario:o&&n>0?o/n:null,subtotal:o?o*r:null};b.push(a),R(),function(){document.getElementById("item-codigo").value="",document.getElementById("item-descricao").value="",document.getElementById("item-qtd-embalagem").value="",document.getElementById("item-qtd-pedido").value="",document.getElementById("item-preco").value="",document.getElementById("item-imagem-url").value="";var e=document.getElementById("item-imagem-preview");e&&e.classList.add("hidden"),w=null,document.getElementById("item-codigo").focus()}()}else Swal.fire({icon:"warning",title:"Atenção!",text:"Informe o código do item.",showConfirmButton:!1,timer:2e3})}function z(){var e=document.getElementById("edit-item-codigo").value.trim(),t=document.getElementById("edit-item-descricao").value.trim(),n=parseInt(document.getElementById("edit-item-qtd-embalagem").value)||0,r=parseInt(document.getElementById("edit-item-qtd-pedido").value)||0,o=parseFloat(document.getElementById("edit-item-preco").value)||null;if(e)if(n<=0||r<=0)Swal.fire({icon:"warning",title:"Atenção!",text:"Informe quantidades válidas.",showConfirmButton:!1,timer:2e3});else{var a={codigo:e,descricao:t,qtdEmbalagem:n,qtdPedido:r,preco:o,imagem:E,precoUnitario:o&&n>0?o/n:null,subtotal:o?o*r:null};x.push(a),_(),function(){document.getElementById("edit-item-codigo").value="",document.getElementById("edit-item-descricao").value="",document.getElementById("edit-item-qtd-embalagem").value="",document.getElementById("edit-item-qtd-pedido").value="",document.getElementById("edit-item-preco").value="",document.getElementById("edit-item-imagem-url").value="";var e=document.getElementById("edit-item-imagem-preview");e&&e.classList.add("hidden"),E=null,document.getElementById("edit-item-codigo").focus()}()}else Swal.fire({icon:"warning",title:"Atenção!",text:"Informe o código do item.",showConfirmButton:!1,timer:2e3})}function R(){var e=document.getElementById("itens-table-body"),t=document.getElementById("itens-table-footer"),n=document.getElementById("total-pedido");if(0===b.length)return e.innerHTML='<tr><td colspan="9" class="p-4 text-center text-gray-500">Nenhum item adicionado</td></tr>',void t.classList.add("hidden");e.innerHTML="";var r=0;b.forEach((function(t,n){var o=document.createElement("tr");o.className="border-b hover:bg-gray-50";var a=t.preco?"R$ ".concat(t.preco.toFixed(2).replace(".",",")):"-",i=t.precoUnitario?"R$ ".concat(t.precoUnitario.toFixed(2).replace(".",",")):"-",c=t.subtotal?"R$ ".concat(t.subtotal.toFixed(2).replace(".",",")):"-";t.subtotal&&(r+=t.subtotal);var s=t.imagem?'<img src="'.concat(t.imagem,'" alt="Img ').concat(t.codigo,'" class="w-8 h-8 object-cover rounded border cursor-pointer" onclick="window.open(\'').concat(t.imagem,"', '_blank')\">"):'<i class="fas fa-image text-gray-300"></i>';o.innerHTML='\n            <td class="p-2 text-center">'.concat(s,'</td>\n            <td class="p-2">').concat(t.codigo,'</td>\n            <td class="p-2">').concat(t.descricao||"-",'</td>\n            <td class="p-2 text-right">').concat(t.qtdEmbalagem,'</td>\n            <td class="p-2 text-right">').concat(t.qtdPedido,'</td>\n            <td class="p-2 text-right">').concat(a,'</td>\n            <td class="p-2 text-right">').concat(i,'</td>\n            <td class="p-2 text-right">').concat(c,'</td>\n            <td class="p-2 text-center">\n                <button type="button" onclick="removerItemPedido(').concat(n,')" class="text-red-600 hover:text-red-800">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        '),e.appendChild(o)})),n.textContent="R$ ".concat(r.toFixed(2).replace(".",",")),t.classList.remove("hidden")}function _(){var e=document.getElementById("edit-itens-table-body"),t=document.getElementById("edit-itens-table-footer"),n=document.getElementById("edit-total-pedido");if(0===x.length)return e.innerHTML='<tr><td colspan="9" class="p-4 text-center text-gray-500">Nenhum item adicionado</td></tr>',void t.classList.add("hidden");e.innerHTML="";var r=0;x.forEach((function(t,n){var o=document.createElement("tr");o.className="border-b hover:bg-gray-50";var a=t.preco?"R$ ".concat(t.preco.toFixed(2).replace(".",",")):"-",i=t.precoUnitario?"R$ ".concat(t.precoUnitario.toFixed(2).replace(".",",")):"-",c=t.subtotal?"R$ ".concat(t.subtotal.toFixed(2).replace(".",",")):"-";t.subtotal&&(r+=t.subtotal);var s=t.imagem?'<img src="'.concat(t.imagem,'" alt="Img ').concat(t.codigo,'" class="w-8 h-8 object-cover rounded border cursor-pointer" onclick="window.open(\'').concat(t.imagem,"', '_blank')\">"):'<i class="fas fa-image text-gray-300"></i>';o.innerHTML='\n            <td class="p-2 text-center">'.concat(s,'</td>\n            <td class="p-2">').concat(t.codigo,'</td>\n            <td class="p-2">').concat(t.descricao||"-",'</td>\n            <td class="p-2 text-right">').concat(t.qtdEmbalagem,'</td>\n            <td class="p-2 text-right">').concat(t.qtdPedido,'</td>\n            <td class="p-2 text-right">').concat(a,'</td>\n            <td class="p-2 text-right">').concat(i,'</td>\n            <td class="p-2 text-right">').concat(c,'</td>\n            <td class="p-2 text-center">\n                <button type="button" onclick="removerItemEdicaoPedido(').concat(n,')" class="text-red-600 hover:text-red-800">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        '),e.appendChild(o)})),n.textContent="R$ ".concat(r.toFixed(2).replace(".",",")),t.classList.remove("hidden")}function G(){var e=document.getElementById("import-csv-btn");e&&e.addEventListener("click",(function(){document.getElementById("import-csv-modal").classList.remove("hidden")}));var t=document.getElementById("parse-csv-btn");t&&t.addEventListener("click",M);var n=document.getElementById("import-items-btn");n&&n.addEventListener("click",F);var o=document.getElementById("close-import-csv-modal");o&&o.addEventListener("click",(function(){document.getElementById("import-csv-modal").classList.add("hidden")}));var a=document.getElementById("close-import-csv-modal-x");a&&a.addEventListener("click",(function(){document.getElementById("import-csv-modal").classList.add("hidden")}));var i=document.getElementById("add-item-btn");i&&i.addEventListener("click",q);var c=document.getElementById("edit-add-item-btn");c&&c.addEventListener("click",z),["item-codigo","item-descricao","item-qtd-embalagem","item-qtd-pedido","item-preco"].forEach((function(e){var t=document.getElementById(e);t&&t.addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),q())}))})),["edit-item-codigo","edit-item-descricao","edit-item-qtd-embalagem","edit-item-qtd-pedido","edit-item-preco"].forEach((function(e){var t=document.getElementById(e);t&&t.addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),z())}))}));var s=document.getElementById("item-imagem-url"),d=document.getElementById("item-imagem-file"),l=document.getElementById("item-imagem-btn"),p=document.getElementById("item-imagem-preview"),m=document.getElementById("item-imagem-preview-img"),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";w=e,s.value=t,m.src=e,p.classList.remove("hidden"),Swal.fire({icon:"success",title:"Imagem carregada!",showConfirmButton:!1,timer:1500})};s&&(s.addEventListener("paste",function(){var e=g(f().mark((function e(t){var n,r,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.clipboardData.items,r=0;case 3:if(!(r<n.length)){e.next=14;break}if(-1===n[r].type.indexOf("image")){e.next=11;break}return o=n[r].getAsFile(),e.next=8,V(o);case 8:return a=e.sent,h(a,"Imagem colada (".concat(U(o.size),")")),e.abrupt("break",14);case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.setAttribute("tabindex","0")),l&&d&&(l.addEventListener("click",(function(){d.click()})),d.addEventListener("change",function(){var e=g(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files[0])){e.next=6;break}return e.next=4,V(n);case 4:r=e.sent,h(r,"".concat(n.name," (").concat(U(n.size),")"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var y=document.getElementById("edit-item-imagem-url"),L=document.getElementById("edit-item-imagem-file"),k=document.getElementById("edit-item-imagem-btn"),I=document.getElementById("edit-item-imagem-preview"),B=document.getElementById("edit-item-imagem-preview-img"),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";E=e,y.value=t,B.src=e,I.classList.remove("hidden"),Swal.fire({icon:"success",title:"Imagem carregada!",showConfirmButton:!1,timer:1500})};y&&(y.addEventListener("paste",function(){var e=g(f().mark((function e(t){var n,r,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.clipboardData.items,r=0;case 3:if(!(r<n.length)){e.next=14;break}if(-1===n[r].type.indexOf("image")){e.next=11;break}return o=n[r].getAsFile(),e.next=8,V(o);case 8:return a=e.sent,j(a,"Imagem colada (".concat(U(o.size),")")),e.abrupt("break",14);case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y.setAttribute("tabindex","0")),k&&L&&(k.addEventListener("click",(function(){L.click()})),L.addEventListener("change",function(){var e=g(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files[0])){e.next=6;break}return e.next=4,V(n);case 4:r=e.sent,j(r,"".concat(n.name," (").concat(U(n.size),")"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var C=document.getElementById("anexo-pedido"),P=document.getElementById("anexo-info"),A=document.getElementById("anexo-name"),O=document.getElementById("anexo-size"),D=document.getElementById("upload-anexo-text");C&&C.addEventListener("change",(function(e){var t=e.target.files[0];t?(A.textContent=t.name,O.textContent=U(t.size),P.classList.remove("hidden"),D.classList.add("hidden")):(P.classList.add("hidden"),D.classList.remove("hidden"))}));var N=document.getElementById("edit-anexo-pedido"),T=document.getElementById("edit-anexo-info"),_=document.getElementById("edit-anexo-name"),G=document.getElementById("edit-anexo-size"),$=document.getElementById("edit-upload-anexo-text");N&&N.addEventListener("change",(function(e){var t=e.target.files[0];t?(_.textContent=t.name,G.textContent=U(t.size),T.classList.remove("hidden"),$.classList.add("hidden")):(T.classList.add("hidden"),$.classList.remove("hidden"))}));var Y=document.getElementById("form-pedido");Y&&Y.addEventListener("submit",function(){var e=g(f().mark((function e(t){var n,o,a,i,c,s,d,l,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==b.length){e.next=7;break}return e.next=4,Swal.fire({title:"Atenção!",text:"Nenhum item foi adicionado ao pedido. Deseja continuar mesmo assim?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, continuar",cancelButtonText:"Cancelar"});case 4:if(e.sent.isConfirmed){e.next=7;break}return e.abrupt("return");case 7:if((n=Y.querySelector('button[type="submit"]')).disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Cadastrando...',o=document.getElementById("fornecedor-id").value,a=document.getElementById("valor").value,i=a?parseFloat(a):null,c=document.getElementById("forma-pagamento").value||null,s=document.getElementById("situacao").value,d=document.getElementById("anexo-pedido").files[0],l=null,!d){e.next=27;break}return e.prev=18,e.next=21,H(d);case 21:l=e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(18),console.error("Erro ao processar anexo:",e.t0);case 27:return e.prev=27,u={fornecedorId:o,valor:i,formaPagamento:c,situacao:s,anexo:l,itens:b,criadoEm:new Date,historico:[{situacaoAnterior:"",situacaoNova:s,data:new Date}]},e.next=31,(0,r.gS)((0,r.rJ)(r.kA,"pedidos"),u);case 31:return Swal.fire({icon:"success",title:"Sucesso!",text:"Pedido cadastrado com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=34,S();case 34:Y.reset(),P.classList.add("hidden"),D.classList.remove("hidden"),b=[],R(),e.next=45;break;case 41:e.prev=41,e.t1=e.catch(27),console.error("Erro ao cadastrar pedido:",e.t1),Swal.fire({icon:"error",title:"Erro ao cadastrar!",text:"Não foi possível cadastrar o pedido.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0});case 45:return e.prev=45,n.disabled=!1,n.innerHTML="Cadastrar Pedido",e.finish(45);case 49:case"end":return e.stop()}}),e,null,[[18,24],[27,41,45,49]])})));return function(t){return e.apply(this,arguments)}}());var Z=document.getElementById("edit-form");Z&&Z.addEventListener("submit",function(){var e=g(f().mark((function e(t){var n,o,a,i,c,s,d,l,p,m,h,g,y;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==x.length){e.next=7;break}return e.next=4,Swal.fire({title:"Atenção!",text:"Nenhum item foi adicionado ao pedido. Deseja continuar mesmo assim?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, continuar",cancelButtonText:"Cancelar"});case 4:if(e.sent.isConfirmed){e.next=7;break}return e.abrupt("return");case 7:if((n=Z.querySelector('button[type="submit"]')).disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Salvando...',o=document.getElementById("edit-modal").getAttribute("data-id"),a=document.getElementById("edit-fornecedor-id").value,i=document.getElementById("edit-valor").value,c=i?parseFloat(i):null,s=document.getElementById("edit-forma-pagamento").value||null,d=document.getElementById("edit-situacao").value,l=document.getElementById("edit-anexo-pedido").files[0],p=v.find((function(e){return e.id===o})),m=p?p.situacao:"",h=null,!l){e.next=30;break}return e.prev=21,e.next=24,H(l);case 24:h=e.sent,e.next=30;break;case 27:e.prev=27,e.t0=e.catch(21),console.error("Erro ao processar anexo:",e.t0);case 30:return e.prev=30,g={fornecedorId:a,valor:c,formaPagamento:s,situacao:d,itens:x,criadoEm:p.criadoEm},h?g.anexo=h:p.anexo&&(g.anexo=p.anexo),m&&m!==d?(y={situacaoAnterior:m,situacaoNova:d,data:new Date},g.historico=[].concat(u(p.historico||[]),[y])):g.historico=p.historico||[],e.next=36,(0,r.mZ)((0,r.H9)(r.kA,"pedidos",o),g);case 36:return Swal.fire({icon:"success",title:"Sucesso!",text:"Pedido atualizado com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=39,S();case 39:document.getElementById("edit-modal").classList.add("hidden"),e.next=46;break;case 42:e.prev=42,e.t1=e.catch(30),console.error("Erro ao atualizar pedido:",e.t1),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível atualizar o pedido.",showConfirmButton:!1,timer:3e3});case 46:return e.prev=46,n.disabled=!1,n.innerHTML='<i class="fas fa-save mr-2"></i> Salvar Alterações',e.finish(46);case 50:case"end":return e.stop()}}),e,null,[[21,27],[30,42,46,50]])})));return function(t){return e.apply(this,arguments)}}());var J=document.getElementById("close-edit-modal");J&&J.addEventListener("click",(function(){document.getElementById("edit-modal").classList.add("hidden")}))}function H(e){return $.apply(this,arguments)}function $(){return($=g(f().mark((function e(t){var n,r,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type.startsWith("image/")){e.next=7;break}return e.next=3,V(t);case 3:return n=e.sent,e.abrupt("return",{type:"image",fileName:t.name,fileSize:t.size,base64:n.split(",")[1]});case 7:if("application/pdf"!==t.type){e.next=24;break}return e.prev=8,e.next=11,(0,i.VQ)(t,{scale:1.5,maxPages:5,quality:.8});case 11:return r=e.sent,e.abrupt("return",{type:"pdf_images",fileName:t.name,fileSize:t.size,images:r});case 15:return e.prev=15,e.t0=e.catch(8),console.error("Erro ao processar PDF:",e.t0),e.next=20,V(t);case 20:return o=e.sent,e.abrupt("return",{type:"pdf_base64",fileName:t.name,fileSize:t.size,base64:o.split(",")[1]});case 22:e.next=28;break;case 24:return e.next=26,V(t);case 26:return a=e.sent,e.abrupt("return",{type:"base64",fileName:t.name,fileSize:t.size,base64:a.split(",")[1]});case 28:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function V(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}function U(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}window.removerItemPedido=function(e){!function(e){b.splice(e,1),R()}(e)},window.removerItemEdicaoPedido=function(e){!function(e){x.splice(e,1),_()}(e)},window.openImageModal=function(e,t){var n=document.getElementById("image-modal");if(n){var r=n.querySelector("h3"),o=n.querySelector("img");r&&(r.textContent=t),o&&(o.src=e)}else(n=document.createElement("div")).id="image-modal",n.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden",n.innerHTML='\n            <div class="relative max-w-4xl max-h-full p-4">\n                <button class="absolute top-2 right-2 text-white text-2xl hover:text-gray-300 z-10" onclick="closeImageModal()">\n                    <i class="fas fa-times"></i>\n                </button>\n                <div class="bg-white rounded-lg overflow-hidden">\n                    <div class="p-3 border-b bg-gray-50">\n                        <h3 class="text-lg font-semibold text-gray-800">'.concat(t,'</h3>\n                    </div>\n                    <div class="p-4">\n                        <img src="').concat(e,'" alt="').concat(t,'" class="max-w-full max-h-96 object-contain">\n                    </div>\n                </div>\n            </div>\n        '),document.body.appendChild(n);n.classList.remove("hidden"),n.addEventListener("click",(function(e){e.target===n&&closeImageModal()}))},window.closeImageModal=function(){var e=document.getElementById("image-modal");e&&e.classList.add("hidden")}},1010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>h,loadProductByCod:()=>m});var r=n(1676),o=n(6795),a=n(8246);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,c,s){var d=m(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==i(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(e){return f.apply(this,arguments)}function f(){return(f=p(c().mark((function e(t){var n,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.rJ)(r.kA,"produtos"),o=(0,r.P)(n,(0,r._M)("cod","==",t)),e.next=4,(0,r.GG)(o);case 4:if((a=e.sent).empty){e.next=9;break}return e.abrupt("return",d({id:a.docs[0].id},a.docs[0].data()));case 9:throw new Error("Produto com código ".concat(t," não encontrado."));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=p(c().mark((function e(t){var n,r,i,s,d,l,u,p,f,h,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.codigo,document.getElementById("content-router").innerHTML='\n    <div class="bg-[#f0f0f0]">\n        '.concat(o.fZ,'\n\n        <div class="container mx-auto p-6">\n            \x3c!-- Breadcrumb --\x3e\n            <nav class="text-sm text-gray-500 mb-6">\n                <a href="/" class="hover:text-gray-700">Início</a> &gt; \n                \x3c!-- <a href="#" class="hover:text-gray-700">Categoria</a> &gt; --\x3e\n                <span class="product-name">Produto</span>\n            </nav>\n\n            \x3c!-- Produto --\x3e\n            <div id="product-div" class="bg-white rounded-lg shadow-lg p-6 flex flex-wrap lg:flex-nowrap animate-pulse">\n                \x3c!-- Skeleton para Imagem --\x3e\n                <div id="skeleton-product-image" class="w-full lg:w-1/2 mb-6 lg:mb-0">\n                    <div class="rounded-lg bg-gray-300 w-full h-[400px]"></div>\n                </div>\n\n                \x3c!-- Imagem do Produto --\x3e\n                <div id="product-image-div" class="w-full lg:w-1/2 mb-6 lg:mb-0 hidden">\n                    <img \n                    id="product-image"\n                    src="" \n                    alt="Imagem do Produto" \n                    class="rounded-lg object-cover w-full max-h-[400px]">\n                </div>\n\n                \x3c!-- Informações do Produto --\x3e\n                <div class="w-full lg:w-1/2 lg:pl-10 space-y-4">\n                    \x3c!-- Skeleton para Nome do Produto --\x3e\n                    <div id="skeleton-product-name" class="h-6 bg-gray-300 rounded w-3/4"></div>\n\n                    <h1 class="text-2xl font-bold text-gray-800 mb-4 hidden product-name">Nome do Produto</h1>\n                    \x3c!-- <p class="text-gray-600 text-sm mb-6">Breve descrição do produto destacando suas principais características.</p> --\x3e\n                    \n                    \x3c!-- Skeleton Preço --\x3e\n                    <div id="skeleton-product-price" class="h-8 bg-gray-300 rounded w-1/2"></div>\n\n                    \x3c!-- Preço --\x3e\n                    <div id="product-price" class="text-3xl font-semibold text-gray-900 mb-6 hidden">R$ 199,99</div>\n\n                    \x3c!-- Botões --\x3e\n                    <div class="flex items-center space-x-4 mb-8">\n                        <button id="btn-adicionar-carrinho" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Adicionar ao Carrinho</button>\n                        <button class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">Comprar Agora</button>\n                    </div>\n\n                    \x3c!-- Detalhes --\x3e\n                    <div class="text-gray-700 space-y-2">\n                        \x3c!-- <p><strong>Marca:</strong> Nome da Marca</p> --\x3e\n                        <p><strong>Disponibilidade:</strong> Em estoque</p>\n                        \x3c!-- <p><strong>Envio:</strong> Envio em até 2 dias úteis</p> --\x3e\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Avaliações --\x3e\n            \x3c!-- <div class="bg-white rounded-lg shadow-lg p-6 mt-10">\n                <h2 class="text-xl font-bold text-gray-800 mb-4">Avaliações</h2>\n                \n                <div class="space-y-6">\n                    <div class="flex space-x-4">\n                        <img \n                            src="" \n                            alt="Avatar do Usuário" \n                            class="w-12 h-12 rounded-full">\n                        <div>\n                            <h3 class="font-semibold text-gray-800">Nome do Cliente</h3>\n                            <p class="text-sm text-gray-600">"Excelente produto! Super recomendo."</p>\n                            <span class="text-yellow-500">★★★★★</span>\n                        </div>\n                    </div>\n                    <div class="flex space-x-4">\n                        <img \n                            src="" \n                            alt="Avatar do Usuário" \n                            class="w-12 h-12 rounded-full">\n                        <div>\n                            <h3 class="font-semibold text-gray-800">Nome do Cliente</h3>\n                            <p class="text-sm text-gray-600">"Produto de qualidade, mas a entrega atrasou um pouco."</p>\n                            <span class="text-yellow-500">★★★★☆</span>\n                        </div>\n                    </div>\n                </div>\n            </div> --\x3e\n        </div>\n    </div>\n    '),(0,o.nm)(),e.prev=4,e.next=7,m(parseInt(n));case 7:r=e.sent,i=document.getElementById("product-div"),s=document.getElementById("product-image-div"),d=document.getElementById("product-image"),l=document.getElementById("product-price"),u=document.querySelectorAll(".product-name"),p=document.getElementById("btn-adicionar-carrinho"),f=document.getElementById("skeleton-product-image"),h=document.getElementById("skeleton-product-name"),g=document.getElementById("skeleton-product-price"),f.classList.add("hidden"),h.classList.add("hidden"),g.classList.add("hidden"),s.classList.remove("hidden"),u[1].classList.remove("hidden"),l.classList.remove("hidden"),i.classList.remove("animate-pulse"),d.src=r.imagem,l.textContent="R$ ".concat(r.precoVenda.toFixed(2).replace(".",",")),u.forEach((function(e){e.textContent=r.descricao})),p.dataset.id=r.id,p.addEventListener("click",(function(){var e=p.dataset.id;(0,a.Zv)(e,1),(0,o.$I)(),(0,o.gr)()})),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(4),console.error(e.t0.message);case 34:case"end":return e.stop()}}),e,null,[[4,31]])})))).apply(this,arguments)}},9026:(e,t,n)=>{"use strict";n.r(t),n.d(t,{init:()=>y});var r=n(1676),o=n(6115),a=n(4541);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,c,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,c)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,a,c,s){var d=m(e[o],e,a);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==i(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,d,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,c,"next",e)}function c(e){f(a,r,o,i,c,"throw",e)}i(void 0)}))}}var g=[],v="";function y(){return b.apply(this,arguments)}function b(){return b=h(l().mark((function e(){var t,n,i,c,d,f,y,b,x,w,E,L,k,I,B,S,j,C,P,A,O,D,N,M,T,F,q,z,R,_,G,H,$,V,U,Y,Z,J,Q,W,X,K,ee,te,ne,re,oe,ae,ie,ce,se,de,le,ue,pe,me,fe,he,ge,ve,ye,be,xe,we,Ee,Le,ke,Ie,Be,Se,je,Ce,Pe,Ae,Oe;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ae=function(e){e.dataset.key==W.key&&"asc"==W.order?W.order="desc":W.order="asc",W.key=e.dataset.key,ae(),O.classList.add("hidden")},Pe=function(e){if(!e)return null;var t=u(e.split("-").map(Number),3),n=t[0],r=t[1],o=t[2];return new Date(n,r-1,o)},Ce=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},ge=function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))},he=function(){return(he=h(l().mark((function e(t){var n,o,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,r.rJ)(r.kA,"vendas"),o=(0,r.P)(n,(0,r._M)("operador","==",t)),e.next=5,(0,r.GG)(o);case 5:if((a=e.sent).empty){e.next=27;break}return e.next=10,Swal.fire({title:"Usuário possui vendas registradas",html:"\n                        <p>Este usuário possui <strong>".concat(a.size,"</strong> venda(s) registrada(s).</p>\n                        <p>Por segurança, não é possível excluir usuários com histórico de vendas.</p>\n                        <p>Deseja <strong>inativar</strong> o usuário ao invés de excluir?</p>\n                    "),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, inativar",cancelButtonText:"Cancelar"});case 10:if(!e.sent.isConfirmed){e.next=25;break}return e.prev=12,e.next=15,(0,r.mZ)((0,r.H9)(r.kA,"usuarios",t),{situacao:"inativo"});case 15:Swal.fire({icon:"success",title:"Usuário inativado!",text:"O usuário foi inativado com sucesso.",showConfirmButton:!1,timer:2e3}),-1!==(i=g.findIndex((function(e){return e.id===t})))&&(g[i].situacao="inativo"),ae(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(12),console.error("Erro ao inativar usuário:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível inativar o usuário.",showConfirmButton:!1,timer:3e3});case 25:e.next=43;break;case 27:return e.next=29,Swal.fire({title:"Tem certeza?",text:"Esta ação não poderá ser revertida!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"});case 29:if(!e.sent.isConfirmed){e.next=43;break}return e.prev=31,e.next=34,(0,r.kd)((0,r.H9)(r.kA,"usuarios",t));case 34:Swal.fire({icon:"success",title:"Excluído!",text:"O usuário foi excluído com sucesso.",showConfirmButton:!1,timer:2e3}),g=g.filter((function(e){return e.id!==t})),ae(),e.next=43;break;case 39:e.prev=39,e.t1=e.catch(31),console.error("Erro ao excluir usuário:",e.t1),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível excluir o usuário.",showConfirmButton:!1,timer:3e3});case 43:e.next=49;break;case 45:e.prev=45,e.t2=e.catch(0),console.error("Erro ao verificar vendas do usuário:",e.t2),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível verificar as vendas do usuário.",showConfirmButton:!1,timer:3e3});case 49:case"end":return e.stop()}}),e,null,[[0,45],[12,21],[31,39]])})))).apply(this,arguments)},fe=function(e){return he.apply(this,arguments)},me=function(e){if(console.log("Abrindo modal de edição do usuário"),document.getElementById("edit-nome").value=e.nome||"",document.getElementById("edit-email").value=e.email||"",document.getElementById("edit-telefone").value=e.telefone||"",document.getElementById("edit-tipo").value=e.tipo||"",document.getElementById("edit-situacao").value=e.situacao||"ativo",e.fotoPerfil?(document.getElementById("edit-preview-image").src=e.fotoPerfil,document.getElementById("edit-preview-image").classList.remove("hidden"),document.getElementById("edit-upload-text").classList.add("hidden")):(document.getElementById("edit-preview-image").classList.add("hidden"),document.getElementById("edit-upload-text").classList.remove("hidden")),"funcionario"===e.tipo?(document.getElementById("edit-campos-funcionario").classList.remove("hidden"),Y&&(Y.required=!0)):(document.getElementById("edit-campos-funcionario").classList.add("hidden"),Y&&(Y.required=!1)),"funcionario"===e.tipo){if(e.dataEntrada){var t=e.dataEntrada.toDate?e.dataEntrada.toDate():new Date(e.dataEntrada);document.getElementById("edit-data-entrada").value=t.toISOString().split("T")[0]}if(document.getElementById("edit-ainda-trabalhando").checked=!1!==e.aindaTrabalhando,e.dataSaida){var n=e.dataSaida.toDate?e.dataSaida.toDate():new Date(e.dataSaida);document.getElementById("edit-data-saida").value=n.toISOString().split("T")[0]}pe()}L.classList.remove("hidden"),L.setAttribute("data-id",e.id)},pe=function(){if(le&&ue)if(le.checked){ue.disabled=!0,ue.value="";var e=ue.closest(".relative");e?e.classList.add("opacity-50"):ue.parentElement.classList.add("opacity-50")}else{ue.disabled=!1;var t=ue.closest(".relative");t?t.classList.remove("opacity-50"):ue.parentElement.classList.remove("opacity-50")}},de=function(){ce&&se&&(ce.checked?(se.disabled=!0,se.value="",se.parentElement.classList.add("opacity-50")):(se.disabled=!1,se.parentElement.classList.remove("opacity-50")))},ie=function(e){var t,n=document.getElementById("details-modal"),r=document.getElementById("details-modal-content");t="admin"===e.tipo?'<span class="bg-red-100 text-red-800 text-xs font-medium px-2 py-0.5 rounded">Administrador</span>':"funcionario"===e.tipo?'<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Funcionário</span>':'<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Cliente</span>';var o="";if("funcionario"===e.tipo&&e.dataEntrada){var a=(e.dataEntrada.toDate?e.dataEntrada.toDate():new Date(e.dataEntrada)).toLocaleDateString("pt-BR");if(!1!==e.aindaTrabalhando)o='<div class="text-sm text-gray-700 mb-1">Período: '.concat(a,' - <span class="text-green-600">momento</span></div>');else if(e.dataSaida){var i=(e.dataSaida.toDate?e.dataSaida.toDate():new Date(e.dataSaida)).toLocaleDateString("pt-BR");o='<div class="text-sm text-gray-700 mb-1">Período: '.concat(a," - ").concat(i,"</div>")}else o='<div class="text-sm text-gray-700 mb-1">Período: '.concat(a," - N/A</div>")}var c='\n            <div class="flex flex-col items-center mb-4">\n                <img src="'.concat(e.fotoPerfil||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==",'" alt="Foto do Usuário" class="w-24 h-24 object-cover rounded-full mb-2 border" />\n                <div class="font-bold text-xl mb-1">').concat(e.nome,'</div>\n                <div class="text-sm text-gray-700 mb-1 break-all">').concat(e.email,"</div>\n                ").concat(e.telefone?'<div class="text-sm text-gray-700 mb-1">Telefone: '.concat(e.telefone,"</div>"):"","\n                ").concat(o,'\n                <div class="mt-2">').concat(t,'</div>\n            </div>\n            <div class="flex gap-2 justify-center">\n                <button class="bg-yellow-500 text-white px-4 py-2 rounded editar-usuario-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i> Editar</button>\n                <button class="bg-red-500 text-white px-4 py-2 rounded remover-usuario-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i> Excluir</button>\n            </div>\n        ');r.innerHTML=c,n.classList.remove("hidden"),document.getElementById("close-details-modal").onclick=function(){return n.classList.add("hidden")},r.querySelector(".editar-usuario-btn").onclick=function(){n.classList.add("hidden"),me(e)},r.querySelector(".remover-usuario-btn").onclick=function(){n.classList.add("hidden"),fe(e.id)}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("Atualizando lista de usuários (cards)...");var t=document.getElementById("user-list-cards");if(t){t.innerHTML="";var n=e||g;if(n){var r={admin:1,funcionario:2,cliente:3};if(n=n.sort((function(e,t){return(r[e.tipo]||999)-(r[t.tipo]||999)})),W&&W.key){var a={};n.forEach((function(e){var t=e.tipo||"outro";a[t]||(a[t]=[]),a[t].push(e)})),Object.keys(a).forEach((function(e){"funcionario"===e?a[e].sort((function(e,t){var n=e.dataEntrada?e.dataEntrada.toDate?e.dataEntrada.toDate():new Date(e.dataEntrada):new Date(0);return(t.dataEntrada?t.dataEntrada.toDate?t.dataEntrada.toDate():new Date(t.dataEntrada):new Date(0))-n})):a[e]=(0,o.wy)(a[e],W.key,W.order)})),n=[],Object.keys(r).forEach((function(e){a[e]&&(n=n.concat(a[e]))}))}n.forEach((function(e){var r=document.createElement("div");r.className="bg-white rounded shadow p-3 flex flex-row items-center gap-4";var o="";if("funcionario"===e.tipo&&e.dataEntrada){var a=e.dataEntrada.toDate?e.dataEntrada.toDate().toLocaleString("pt-BR").split(",")[0]:new Date(e.dataEntrada).toLocaleString("pt-BR").split(",")[0];if(!1!==e.aindaTrabalhando)o="".concat(a," - momento");else if(e.dataSaida){var i=e.dataSaida.toDate?e.dataSaida.toDate().toLocaleString("pt-BR").split(",")[0]:new Date(e.dataSaida).toLocaleString("pt-BR").split(",")[0];o="".concat(a," - ").concat(i)}else o="".concat(a," - N/A")}var c;c="admin"===e.tipo?'<span class="bg-red-100 text-red-800 text-xs font-medium px-2 py-0.5 rounded">Admin</span>':"funcionario"===e.tipo?'<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded">Funcionário</span>':'<span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-0.5 rounded">Cliente</span>',r.innerHTML='\n                    <div class="flex-shrink-0 flex flex-col items-center justify-center">\n                        <img src="'.concat(e.fotoPerfil||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==",'" alt="Foto do Usuário" class="w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-full border mb-1" />\n                        ').concat(c,'\n                        <span class="mt-1 ').concat("ativo"===e.situacao?"bg-green-100 text-green-800":"bg-red-100 text-red-800",' text-xs font-medium px-2 py-0.5 rounded">\n                            ').concat("ativo"===e.situacao?"Ativo":"Inativo",'\n                        </span>\n                    </div>\n                    <div class="flex flex-col flex-1 items-start w-full">\n                        <div class="text-base font-semibold text-gray-800">').concat(e.nome,'</div>\n                        <div class="text-sm text-gray-600 break-all">').concat(e.email,"</div>\n                        ").concat(e.telefone?'<div class="text-sm text-gray-600">'.concat(e.telefone,"</div>"):"","\n                        ").concat(o?'<div class="text-sm text-gray-600 mt-1"><i class="far fa-calendar-alt mr-1"></i>'.concat(o,"</div>"):"",'\n                        <button class="mt-3 bg-primary text-white px-3 py-1 rounded ver-detalhes-btn" data-id="').concat(e.id,'">Ver detalhes</button>\n                    </div>\n                    <div class="flex flex-col items-end gap-2 ml-auto">\n                        <button class="bg-yellow-500 text-white px-3 py-1 rounded editar-usuario-btn" data-id="').concat(e.id,'"><i class="fas fa-edit"></i></button>\n                        <button class="bg-red-500 text-white px-3 py-1 rounded remover-usuario-btn" data-id="').concat(e.id,'"><i class="fas fa-trash"></i></button>\n                    </div>\n                '),t.appendChild(r),r.querySelector(".ver-detalhes-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),r=n.find((function(e){return e.id==t}));ie(r)})),r.querySelector(".editar-usuario-btn").addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-id"),r=n.find((function(e){return e.id==t}));me(r)})),r.querySelector(".remover-usuario-btn").addEventListener("click",function(){var e=h(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.currentTarget.getAttribute("data-id"),fe(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.getElementById("total-registros-valor").innerText=n.length}}},oe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||g,t=document.getElementById("total-registros-valor");t&&(t.innerText=e.length),e.length!==g.length?(X.classList.remove("hidden"),K.innerText=e.length):X.classList.add("hidden")},re=function(){(0,o.E4)(A,[{name:"nome",label:"Nome"},{name:"email",label:"E-mail"},{name:"tipo",label:"Tipo"},{name:"telefone",label:"Telefone"}],(function(e){ae(e),oe(e)}),g,P,S,X,K)},ne=function(){return(ne=h(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.GG)(B);case 3:t=e.sent,g=t.docs.map((function(e){return s({id:e.id},e.data())})),ae(),re(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Erro ao carregar usuários:",e.t0),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível carregar os usuários.",showConfirmButton:!1,timer:3e3});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)},te=function(){return ne.apply(this,arguments)},ee=function(){var e=document.getElementById("user-list-cards");if(e){for(var t="",n=0;n<6;n++)t+='\n                <div class="bg-white rounded shadow p-3 flex flex-row items-center gap-4 animate-pulse">\n                    <div class="w-16 h-16 rounded-full bg-gray-200"></div>\n                    <div class="flex flex-col flex-1 gap-2">\n                        <div class="h-4 bg-gray-200 rounded w-1/2"></div>\n                        <div class="h-3 bg-gray-100 rounded w-3/4"></div>\n                        <div class="h-3 bg-gray-100 rounded w-1/3"></div>\n                        <div class="h-8 bg-gray-200 rounded w-2/3 mt-2"></div>\n                    </div>\n                </div>\n            ';e.innerHTML=t}},console.log("Usuarios init inicio"),d=document.getElementById("content-dashboard"),e.prev=19,e.next=22,(0,a.k)();case 22:if(f=e.sent,y=u(f,2),b=y[0],x=y[1],!b){e.next=29;break}return window.location.hash=b,e.abrupt("return");case 29:if("admin"===x.tipo){e.next=35;break}return window.location.hash="/app",e.abrupt("return");case 35:v=x.email;case 37:e.next=43;break;case 39:return e.prev=39,e.t0=e.catch(19),console.error("Erro ao verificar usuário logado:",e.t0),e.abrupt("return");case 43:w='\n    <form id="form-usuario" class="space-y-4">\n        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">\n            '.concat((0,o.LH)("text","nome","Nome completo *",!0),"\n            ").concat((0,o.LH)("email","email","E-mail *",!0),"\n            ").concat((0,o.LH)("text","telefone","Telefone",!1),'\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">\n            ').concat((0,o.LH)("password","senha","Senha *",!0,"","",'<div id="senha-feedback" class="text-xs mt-1 hidden">\n                    <span id="senha-valida" class="text-green-600 hidden">\n                        <i class="fas fa-check-circle mr-1"></i> Senha válida\n                    </span>\n                    <span id="senha-invalida" class="text-red-600">\n                        <i class="fas fa-exclamation-circle mr-1"></i> A senha deve ter pelo menos 6 caracteres\n                    </span>\n                </div>'),'\n            <div class="relative w-full">\n                <select \n                    id="tipo" \n                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    required\n                >\n                    <option value="">Selecione</option>\n                    <option value="admin">Administrador</option>\n                    <option value="funcionario">Funcionário</option>\n                    <option value="cliente">Cliente</option>\n                </select>\n                <label for="tipo" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                    Tipo de usuário *\n                </label>\n            </div>\n            <div class="relative w-full">\n                <select \n                    id="situacao" \n                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    required\n                >\n                    <option value="ativo">Ativo</option>\n                    <option value="inativo">Inativo</option>\n                </select>\n                <label for="situacao" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                    Situação *\n                </label>\n            </div>\n            <div class="relative w-full">\n                <input \n                    type="file" \n                    id="foto-perfil" \n                    accept="image/*"\n                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"\n                />\n                <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="foto-dropzone">\n                    <img id="preview-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==" alt="Preview" class="w-8 h-8 object-cover rounded mr-2 hidden" />\n                    <div id="file-info" class="flex flex-col mr-2 hidden">\n                        <span id="file-name" class="text-xs font-medium"></span>\n                        <span id="file-size" class="text-xs text-gray-500"></span>\n                    </div>\n                    <span class="text-sm text-gray-600 whitespace-nowrap" id="upload-text">\n                        Foto de perfil (opcional)\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 hidden" id="campos-funcionario">\n            ').concat((0,o.LH)("date","data-entrada","Data de entrada *",!0),'\n            <div class="relative w-full">\n                ').concat((0,o.LH)("date","data-saida","Data de saída",!1),'\n                <div class="flex items-center mt-2">\n                    <input \n                        type="checkbox" \n                        id="ainda-trabalhando" \n                        class="w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded mr-2"\n                        checked\n                    >\n                    <label for="ainda-trabalhando" class="text-sm font-medium text-gray-700">\n                        Ainda está trabalhando\n                    </label>\n                </div>\n            </div>\n        </div>\n        <button \n            type="submit" \n            class="w-full bg-primary text-white p-2 rounded">\n            Cadastrar Usuário\n        </button>\n    </form>\n    '),d.innerHTML='\n      <div class="pt-5 pb-20 pl-5 md:pl-0 pr-5 md:pr-2 rounded">\n        <h1 class="text-2xl font-bold text-gray-800 mb-4">Usuários</h1>\n\n        '.concat(w,'\n\n        <button \n            id="open-filter-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-4">\n            Filtrar Usuários\n        </button>\n\n        <button \n            id="open-order-modal"\n            class="bg-primary text-white px-4 py-2 rounded mt-4">\n            Ordenar\n        </button>\n\n        <div id="total-registros" class="text-center text-gray-500 text-sm mt-2">\n            <div class="flex justify-center items-center gap-4">\n                <span>\n                    Total de usuários: <span id="total-registros-valor" class="font-semibold text-primary">\n                      <span class="inline-block bg-gray-200 rounded w-12 h-5 align-middle animate-pulse"></span>\n                    </span>\n                </span>\n                <span id="registros-filtrado" class="hidden">\n                    <i class="fas fa-filter text-primary"></i>\n                    Encontrados no filtro: <span id="registros-filtrado-valor" class="font-semibold text-primary">0</span>\n                </span>\n            </div>\n        </div>\n\n        \x3c!-- Lista de Usuários em Cards --\x3e\n        <div id="user-list-cards" class="mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>\n\n        \x3c!-- Modal de detalhes do usuário --\x3e\n        <div id="details-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden z-50">\n            <div class="relative bg-white rounded shadow-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">\n                <button id="close-details-modal" class="absolute top-2 right-2 bg-gray-300 hover:bg-red-600 hover:text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl leading-none">&times;</button>\n                <div id="details-modal-content"></div>\n            </div>\n        </div>\n\n        <div \n            id="filter-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 md:w-[32rem] shadow-lg max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Filtrar Usuários</h2>\n                <form id="filter-form" class="space-y-4">\n                    <div id="filter-inputs" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>\n                    \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-filter-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                        <button \n                            type="submit" \n                            class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">\n                            Aplicar Filtros\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div \n            id="order-modal" \n            class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center hidden z-10">\n            <div class="bg-white p-6 rounded w-96 shadow-lg">\n                <h2 class="text-xl font-bold mb-4">Ordenar Usuários</h2>\n                    <div class="space-y-4 mb-4">\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="nome">\n                        Nome\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="email">\n                        E-mail\n                        </button>\n                        <button \n                        class="btn-order bg-primary text-white px-4 py-2 rounded mt-2"\n                        data-key="tipo">\n                        Tipo\n                        </button>\n                    </div>\n                \n                    <div class="flex justify-end space-x-2">\n                        <button \n                            type="button" \n                            id="close-order-modal" \n                            class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">\n                            Cancelar\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center hidden">\n            <div class="relative bg-white rounded shadow-lg p-6 w-[40rem] max-h-[90vh] overflow-y-auto">\n                <h2 class="text-xl font-bold mb-4">Editar Usuário</h2>\n                <form id="edit-form" class="space-y-4">\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        ').concat((0,o.LH)("text","edit-nome","Nome completo *",!0),"\n                        ").concat((0,o.LH)("email","edit-email","E-mail *",!0),'\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        ').concat((0,o.LH)("text","edit-telefone","Telefone",!1),'\n                        <div class="relative w-full">\n                            <select \n                                id="edit-tipo" \n                                class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                required\n                            >\n                                <option value="">Selecione</option>\n                                <option value="admin">Administrador</option>\n                                <option value="funcionario">Funcionário</option>\n                                <option value="cliente">Cliente</option>\n                            </select>\n                            <label for="edit-tipo" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                Tipo de usuário *\n                            </label>\n                        </div>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n                        <div class="relative w-full">\n                            <select \n                                id="edit-situacao" \n                                class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                                required\n                            >\n                                <option value="ativo">Ativo</option>\n                                <option value="inativo">Inativo</option>\n                            </select>\n                            <label for="edit-situacao" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                                Situação *\n                            </label>\n                        </div>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 hidden" id="edit-campos-funcionario">\n                        ').concat((0,o.LH)("date","edit-data-entrada","Data de entrada *",!0),'\n                        <div class="relative w-full">\n                            ').concat((0,o.LH)("date","edit-data-saida","Data de saída",!1),'\n                            <div class="flex items-center mt-2">\n                                <input \n                                    type="checkbox" \n                                    id="edit-ainda-trabalhando" \n                                    class="w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded mr-2"\n                                    checked\n                                >\n                                <label for="edit-ainda-trabalhando" class="text-sm font-medium text-gray-700">\n                                    Ainda está trabalhando\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="mt-4 flex justify-center">\n                        <button \n                            type="button" \n                            id="reset-password-btn" \n                            class="w-full bg-[#386c6f] text-white hover:bg-[#264a4c] px-4 py-2 rounded transition-colors duration-300 flex items-center"\n                        >\n                            <i class="fas fa-key mr-2"></i>\n                            Enviar email de redefinição de senha\n                        </button>\n                    </div>\n\n                    <div class="relative mt-6">\n                        <input \n                            type="file" \n                            id="edit-foto-perfil" \n                            accept="image/*"\n                            class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"\n                        />\n                        <div class="border-2 border-dashed border-gray-300 rounded-lg px-2 py-2 flex items-center justify-center h-full hover:border-primary transition-colors duration-200" id="edit-foto-dropzone">\n                            <img id="edit-preview-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSIxMCIgZmlsbD0iI0VFRUVFRSIvPjxwYXRoIGQ9Ik0yNSAzM0wzNSA0M0w0NSA0M0w1NSA1M0w2NSA0M0w3NSA1M0w3NSA2M0w2NSA3M0w1NSA2M0w0NSA3M0wzNSA2M0wyNSA3M0wyNSA2M0wzNSA1M0wyNSA0M1oiIGZpbGw9IiNDQ0NDQ0MiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iI0JDQkNCQyIvPjwvc3ZnPg==" alt="Preview" class="w-8 h-8 object-cover rounded mr-2 hidden" />\n                            <div id="edit-file-info" class="flex flex-col mr-2 hidden">\n                                <span id="edit-file-name" class="text-xs font-medium"></span>\n                                <span id="edit-file-size" class="text-xs text-gray-500"></span>\n                            </div>\n                            <span class="text-sm text-gray-600 whitespace-nowrap" id="edit-upload-text">\n                                Alterar foto de perfil\n                            </span>\n                        </div>\n                    </div>\n\n                    <button type="submit" \n                      class="w-full bg-[#386c6f] text-white p-2 rounded hover:bg-[#264a4c] transition-colors duration-300 flex items-center justify-center mt-6">\n                      <i class="fas fa-save mr-2"></i>\n                      Salvar Alterações\n                    </button>\n                </form>\n                <button id="close-edit-modal" class="absolute top-2 right-2 text-white bg-red-600 p-2 rounded-full">X</button>\n            </div>\n        </div>\n\n        <div id="reauth-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden">\n            <div class="bg-white rounded-lg p-6 w-[400px] max-w-full mx-auto relative">\n                <h2 class="text-xl font-bold mb-4 text-center">Reautenticar Administrador</h2>\n                <p class="text-gray-600 mb-4 text-center">\n                O usuário foi criado com sucesso! Para continuar como administrador, por favor insira sua senha novamente.\n                </p>\n                \n                <form id="reauth-form" class="space-y-4">\n                <div class="relative">\n                    <input \n                    type="email" \n                    id="reauth-email" \n                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n                    placeholder="Email do administrador"\n                    required\n                    readonly\n                    />\n                </div>\n                \n                <div class="relative">\n                    <input \n                    type="password" \n                    id="reauth-password" \n                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"\n                    placeholder="Senha do administrador"\n                    required\n                    />\n                </div>\n                \n                <button \n                    type="submit" \n                    class="w-full py-3 bg-primary text-white font-semibold rounded-lg transition duration-300"\n                >\n                    Reautenticar\n                </button>\n                </form>\n            </div>\n            </div>\n      </div>\n    '),E=document.getElementById("form-usuario"),L=document.getElementById("edit-modal"),k=document.getElementById("close-edit-modal"),I=document.getElementById("edit-form"),B=(0,r.rJ)(r.kA,"usuarios"),S=document.getElementById("filter-modal"),j=document.getElementById("open-filter-modal"),C=document.getElementById("close-filter-modal"),P=document.getElementById("filter-form"),A=document.getElementById("filter-inputs"),O=document.getElementById("order-modal"),D=document.getElementById("open-order-modal"),N=document.getElementById("close-order-modal"),M=document.getElementById("senha"),T=document.getElementById("senha-feedback"),F=document.getElementById("senha-valida"),q=document.getElementById("senha-invalida"),M&&(M.addEventListener("input",(function(){var e=this.value;T.classList.remove("hidden"),e.length>=6?(F.classList.remove("hidden"),q.classList.add("hidden"),this.classList.remove("border-red-500"),this.classList.add("border-green-500")):(F.classList.add("hidden"),q.classList.remove("hidden"),this.classList.remove("border-green-500"),this.classList.add("border-red-500")),0===e.length&&(T.classList.add("hidden"),this.classList.remove("border-red-500","border-green-500"))})),M.addEventListener("blur",(function(){this.value.length>0&&this.value.length<6&&(T.classList.remove("hidden"),F.classList.add("hidden"),q.classList.remove("hidden"),this.classList.add("border-red-500"))}))),z=document.getElementById("tipo"),R=document.getElementById("campos-funcionario"),_=document.getElementById("data-entrada"),G=document.getElementById("nome"),H=document.getElementById("email"),z&&R&&(z.addEventListener("change",(function(){"funcionario"===this.value?(R.classList.remove("hidden"),_&&(_.required=!0)):(R.classList.add("hidden"),_&&(_.required=!1))})),"funcionario"===z.value&&(R.classList.remove("hidden"),_&&(_.required=!0))),z&&G&&H&&($=function(e){var t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,".").replace(/[^a-z0-9.]/g,"");return"".concat(t,"@papelariacriativaci.com.br")},z.addEventListener("change",(function(){if("funcionario"===this.value||"admin"===this.value){if(""!==G.value.trim()){H.value=$(G.value),H.classList.add("bg-gray-100");var e=H.parentElement,t=e.querySelector(".email-hint");t||((t=document.createElement("div")).className="email-hint text-xs text-gray-600 mt-1",e.appendChild(t)),t.innerHTML='<i class="fas fa-info-circle"></i> Email gerado automaticamente para funcionário'}}else if(H.value.endsWith("@papelariacriativaci.com.br")){H.value="",H.classList.remove("bg-gray-100");var n=H.parentElement.querySelector(".email-hint");n&&n.remove()}})),G.addEventListener("blur",(function(){if(("funcionario"===z.value||"admin"===z.value)&&""!==this.value.trim()){H.value=$(this.value),H.classList.add("bg-gray-100");var e=H.parentElement,t=e.querySelector(".email-hint");t||((t=document.createElement("div")).className="email-hint text-xs text-gray-600 mt-1",e.appendChild(t)),t.innerHTML='<i class="fas fa-info-circle"></i> Email gerado automaticamente para funcionário'}}))),V=document.getElementById("edit-tipo"),U=document.getElementById("edit-campos-funcionario"),Y=document.getElementById("edit-data-entrada"),Z=document.getElementById("edit-nome"),J=document.getElementById("edit-email"),V&&U&&V.addEventListener("change",(function(){"funcionario"===this.value?(U.classList.remove("hidden"),Y&&(Y.required=!0)):(U.classList.add("hidden"),Y&&(Y.required=!1))})),V&&Z&&J&&(Q=function(e){var t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,".").replace(/[^a-z0-9.]/g,"");return"".concat(t,"@papelariacriativaci.com.br")},V.addEventListener("change",(function(){"funcionario"===this.value||"admin"===this.value?""===Z.value.trim()||J.value.endsWith("@papelariacriativaci.com.br")||Swal.fire({title:"Atualizar email?",text:"Deseja gerar um email automático para este funcionário?",icon:"question",showCancelButton:!0,confirmButtonText:"Sim, gerar email",cancelButtonText:"Não, manter atual"}).then((function(e){if(e.isConfirmed){J.value=Q(Z.value),J.classList.add("bg-gray-100");var t=J.parentElement,n=t.querySelector(".email-hint");n||((n=document.createElement("div")).className="email-hint text-xs text-gray-600 mt-1",t.appendChild(n)),n.innerHTML='<i class="fas fa-info-circle"></i> Email gerado automaticamente para funcionário'}})):J.value.endsWith("@papelariacriativaci.com.br")&&Swal.fire({title:"Alterar email?",text:"Este usuário possui um email de funcionário. Deseja limpar o campo de email?",icon:"question",showCancelButton:!0,confirmButtonText:"Sim, limpar email",cancelButtonText:"Não, manter atual"}).then((function(e){if(e.isConfirmed){J.value="",J.classList.remove("bg-gray-100");var t=J.parentElement.querySelector(".email-hint");t&&t.remove()}}))})),Z.addEventListener("blur",(function(){if(("funcionario"===V.value||"admin"===V.value)&&""!==this.value.trim()&&J.value.endsWith("@papelariacriativaci.com.br")){var e=Q(this.value);e!==J.value&&Swal.fire({title:"Atualizar email?",text:"Deseja atualizar o email para ".concat(e,"?"),icon:"question",showCancelButton:!0,confirmButtonText:"Sim, atualizar",cancelButtonText:"Não, manter atual"}).then((function(t){t.isConfirmed&&(J.value=e)}))}}))),W={key:"nome",order:"asc"},X=document.getElementById("registros-filtrado"),K=document.getElementById("registros-filtrado-valor"),ee(),te(),ce=document.getElementById("ainda-trabalhando"),se=document.getElementById("data-saida"),de(),ce.addEventListener("change",de),le=document.getElementById("edit-ainda-trabalhando"),ue=document.getElementById("edit-data-saida"),le.addEventListener("change",pe),k.addEventListener("click",(function(){L.classList.add("hidden")})),I.addEventListener("submit",function(){var e=h(l().mark((function e(t){var n,o,a,i,c,s,d,u,p,m,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=I.querySelector('button[type="submit"]')).disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Salvando...',o=document.getElementById("edit-modal").dataset.id,a=document.getElementById("edit-nome").value,i=document.getElementById("edit-email").value,c=document.getElementById("edit-telefone").value,s=document.getElementById("edit-tipo").value,d=document.getElementById("edit-situacao").value,u=document.getElementById("edit-foto-perfil").files[0],p=null,!u){e.next=22;break}return e.prev=13,e.next=16,ge(u);case 16:p=e.sent,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("Erro ao converter a imagem:",e.t0);case 22:return m=(0,r.H9)(r.kA,"usuarios",o),f={nome:a,endereco:{cep:"",complemento:"",endereco:"",numero:"",referencia:""},email:i,telefone:c,tipo:s,situacao:d,criadoEm:new Date},p&&(f.fotoPerfil=p),"funcionario"===s&&(f.dataEntrada=document.getElementById("edit-data-entrada").value?Pe(document.getElementById("edit-data-entrada").value):new Date,f.aindaTrabalhando=document.getElementById("edit-ainda-trabalhando").checked,f.dataSaida=!document.getElementById("edit-ainda-trabalhando").checked&&document.getElementById("edit-data-saida").value?Pe(document.getElementById("edit-data-saida").value):null),e.prev=26,e.next=29,(0,r.mZ)(m,f);case 29:return Swal.fire({icon:"success",title:"Sucesso!",text:"Usuário atualizado com sucesso.",showConfirmButton:!1,timer:2e3}),e.next=32,te();case 32:e.next=38;break;case 34:e.prev=34,e.t1=e.catch(26),console.error("Erro ao cadastrar usuário:",e.t1),Swal.fire({icon:"error",title:"Erro!",text:"Não foi possível alterar o usuário.",showConfirmButton:!1,timer:3e3});case 38:return e.prev=38,n.disabled=!1,n.innerHTML='<i class="fas fa-save mr-2"></i> Salvar Alterações',L.classList.add("hidden"),e.finish(38);case 43:case"end":return e.stop()}}),e,null,[[13,19],[26,34,38,43]])})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("reset-password-btn").addEventListener("click",h(l().mark((function e(){var t,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("edit-modal").dataset.id,t=document.getElementById("edit-email").value){e.next=5;break}return Swal.fire({icon:"error",title:"Erro!",text:"O campo de email é necessário para redefinir a senha.",showConfirmButton:!1,timer:3e3}),e.abrupt("return");case 5:return e.prev=5,n=(0,r.xI)(),e.next=9,(0,r.J1)(n,t);case 9:Swal.fire({icon:"success",title:"Email enviado!",text:"Um email de redefinição de senha foi enviado para ".concat(t),showConfirmButton:!1,timer:3e3}),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Erro ao enviar email de redefinição:",e.t0),o="Não foi possível enviar o email de redefinição.","auth/user-not-found"===e.t0.code&&(o="Não existe usuário com este email no sistema."),Swal.fire({icon:"error",title:"Erro!",text:o,showConfirmButton:!1,timer:3e3});case 18:case"end":return e.stop()}}),e,null,[[5,12]])})))),ve=document.getElementById("foto-perfil"),ye=document.getElementById("preview-image"),be=document.getElementById("file-info"),xe=document.getElementById("file-name"),we=document.getElementById("file-size"),Ee=document.getElementById("upload-text"),document.getElementById("foto-dropzone"),ve.addEventListener("change",(function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){ye.src=e.target.result,ye.classList.remove("hidden"),be.classList.remove("hidden"),xe.textContent=t.name,we.textContent=Ce(t.size),Ee.classList.add("hidden")},n.readAsDataURL(t)}else ye.classList.add("hidden"),be.classList.add("hidden"),Ee.classList.remove("hidden")})),Le=document.getElementById("edit-foto-perfil"),ke=document.getElementById("edit-preview-image"),Ie=document.getElementById("edit-file-info"),Be=document.getElementById("edit-file-name"),Se=document.getElementById("edit-file-size"),je=document.getElementById("edit-upload-text"),document.getElementById("edit-foto-dropzone"),Le.addEventListener("change",(function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){ke.src=e.target.result,ke.classList.remove("hidden"),Ie.classList.remove("hidden"),Be.textContent=t.name,Se.textContent=Ce(t.size),je.classList.add("hidden")},n.readAsDataURL(t)}else ke.classList.add("hidden"),Ie.classList.add("hidden"),je.classList.remove("hidden")})),j.addEventListener("click",(function(){S.classList.remove("hidden");var e=A.querySelectorAll("input");e.length>0&&e[0].focus()})),C.addEventListener("click",(function(){S.classList.add("hidden")})),D.addEventListener("click",(function(){O.classList.remove("hidden")})),N.addEventListener("click",(function(){O.classList.add("hidden")})),(De=O.querySelectorAll(".btn-order"),function(e){if(Array.isArray(e))return m(e)}(De)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(De)||p(De)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.addEventListener("click",(function(){Ae(e)}))})),E&&E.addEventListener("submit",function(){var e=h(l().mark((function e(t){var n,o,a,i,c,s,d,u,p,m,f,h,g,y,b,x,w;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=E.querySelector('button[type="submit"]')).disabled=!0,n.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Cadastrando...',o=document.getElementById("nome").value,a=document.getElementById("email").value,i=document.getElementById("telefone").value,c=document.getElementById("senha").value,s=document.getElementById("tipo").value,d=document.getElementById("situacao").value,u=document.getElementById("foto-perfil").files[0],p=null,!u){e.next=22;break}return e.prev=13,e.next=16,ge(u);case 16:p=e.sent,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("Erro ao converter a imagem:",e.t0);case 22:return e.prev=22,m=(0,r.xI)(),e.next=26,(0,r.eJ)(m,a,c);case 26:return f=e.sent,h=f.user,e.next=30,(0,r.r7)(h,{displayName:o});case 30:return g={nome:o,email:a,endereco:{cep:"",endereco:"",numero:"",complemento:"",referencia:""},telefone:i,fotoPerfil:p,tipo:s,situacao:d,criadoEm:new Date},console.log(document.getElementById("data-entrada")),console.log(document.getElementById("data-saida")),"funcionario"===s&&((y=document.getElementById("campos-funcionario"))&&y.classList.remove("hidden"),b=document.getElementById("data-entrada"),x=document.getElementById("ainda-trabalhando"),w=document.getElementById("data-saida"),console.log("dataEntradaInput:",b),console.log("aindaTrabalhandoCheckbox:",x),console.log("dataSaidaInput:",w),g.dataEntrada=b&&b.value?Pe(b.value):new Date,g.aindaTrabalhando=!x||x.checked,g.dataSaida=x&&!x.checked&&w&&w.value?Pe(w.value):null),e.next=36,(0,r.BN)((0,r.H9)(r.kA,"usuarios",h.uid),g);case 36:return console.log(document.getElementById("reauth-email")),document.getElementById("reauth-email").value=v,document.getElementById("reauth-modal").classList.remove("hidden"),e.next=41,te();case 41:e.next=48;break;case 43:e.prev=43,e.t1=e.catch(22),console.error("Erro ao cadastrar usuário:",e.t1),"auth/email-already-in-use"===e.t1.code?Swal.fire({icon:"error",title:"Erro ao cadastrar!",text:"E-mail já usado em outro usuário.",showConfirmButton:!1,timer:4e3,timerProgressBar:!0}):Swal.fire({icon:"error",title:"Erro ao fazer cadastrar!",text:"".concat(errorMessage),showConfirmButton:!1,timer:4e3,timerProgressBar:!0});case 48:return e.prev=48,n.disabled=!1,n.innerHTML="Cadastrar Usuário",e.finish(48);case 52:case"end":return e.stop()}}),e,null,[[13,19],[22,43,48,52]])})));return function(t){return e.apply(this,arguments)}}()),(Oe=document.getElementById("reauth-form"))&&Oe.addEventListener("submit",function(){var e=h(l().mark((function e(t){var n,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("reauth-email").value,o=document.getElementById("reauth-password").value,e.prev=3,a=(0,r.xI)(),localStorage.setItem("reauth_token",JSON.stringify({timestamp:Date.now(),email:n})),e.next=8,a.signOut();case 8:return e.next=10,(0,r.x9)(a,n,o);case 10:return localStorage.removeItem("reauth_token"),document.getElementById("reauth-modal").classList.add("hidden"),e.next=14,te();case 14:window.location.reload(),Swal.fire({icon:"success",title:"Reautenticado!",text:"Você foi reautenticado como administrador.",showConfirmButton:!1,timer:2e3}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error("Erro na reautenticação:",e.t0),Swal.fire({icon:"error",title:"Erro na reautenticação!",text:"Senha incorreta. Por favor, tente novamente.",showConfirmButton:!1,timer:3e3});case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}()),null===(t=document.getElementById("filter-modal"))||void 0===t||t.classList.add("modal"),null===(n=document.getElementById("order-modal"))||void 0===n||n.classList.add("modal"),null===(i=document.getElementById("edit-modal"))||void 0===i||i.classList.add("modal"),null===(c=document.getElementById("details-modal"))||void 0===c||c.classList.add("modal"),document.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||document.querySelectorAll(".modal").forEach((function(e){e.classList.contains("hidden")||e.classList.add("hidden")}))})),document.addEventListener("keydown",(function(e){var t=document.activeElement.tagName.toLowerCase();"input"!==t&&"textarea"!==t&&"select"!==t&&(document.querySelectorAll(".modal:not(.hidden)").length>0||(!e.shiftKey||"f"!==e.key&&"F"!==e.key||(e.preventDefault(),void 0!==j&&j.click()),!e.shiftKey||"o"!==e.key&&"O"!==e.key||(e.preventDefault(),void 0!==D&&D.click())))})),console.log("Usuarios init fim");case 123:case"end":return e.stop()}var De}),e,null,[[19,39]])}))),b.apply(this,arguments)}},2795:(e,t,n)=>{"use strict";n.d(t,{AB:()=>d,H6:()=>i});var r=n(4623);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=new(n.n(r)())("/",{linksSelector:"a",hash:!0});a._debug=!0;var i={"./pages/Home.js":"/","./pages/Produto.js":"/produto/:codigo","./pages/Carrinho.js":"/carrinho","./pages/Dashboard.js":"/app","./pages/Login.js":"/login","./pages/Cadastro.js":"/cadastro","./pages/Logout.js":"/logout","./pages/Estoque.js":"/app/estoque","./pages/Caixa.js":"/app/caixa","./pages/Historico.js":"/app/historico","./pages/Gasto.js":"/app/gasto","./pages/ContaParcelada.js":"/app/conta-parcelada","./pages/ContaFixa.js":"/app/conta-fixa","./pages/DinheiroCaixa.js":"/app/dinheiro-caixa","./pages/Cliente.js":"/app/cliente","./pages/Crediario.js":"/app/crediario","./pages/AtualizacaoLote.js":"/app/atualizacao-lote","./pages/Usuarios.js":"/app/usuario","./pages/Fornecedores.js":"/app/fornecedores","./pages/Pedidos.js":"/app/pedidos","./pages/FechamentoCaixa.js":"/app/fechamento-caixa","./pages/Orcamentos.js":"/app/orcamentos"};function c(e,t){var r,c=n(1017),d=document.querySelector(t);i[e]&&i[e].includes("/app")?s("#386C6F"):s("#B5DAF4"),d?d.innerHTML="":(console.error("Elemento alvo não encontrado: ".concat(t)),console.error("path: ".concat(e)),i[e].includes("/app/")&&(console.log("Rota de app inclui /app/. Redirecionando para /app"),e=null===(r=Object.entries(i).find((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],"/app"===r[1]})))||void 0===r?void 0:r[0],a.navigate("/app",!0),s("#386C6F"))),console.log("Carregando módulo para a rota: ".concat(e));var l=c(e.replace("./pages/","./"));if(l&&"function"==typeof l.init){var u=l.init();u instanceof Promise&&u.then((function(){console.log("Módulo carregado com sucesso")})).catch((function(e){console.error("Erro ao carregar o módulo:",e),d&&(d.innerHTML="<h1>Erro ao carregar página.</h1>")}))}}function s(e){var t=document.querySelector('meta[name="theme-color"]');t||((t=document.createElement("meta")).name="theme-color",document.head.appendChild(t)),t.setAttribute("content",e)}function d(){a.notFound((function(){console.log("Página não encontrada. Redirecionando para a página inicial..."),c("./pages/Home.js","#content-router")})),a.on({"/":function(){return c("./pages/Home.js","#content-router")},"/produto/:codigo":function(e){return function(e,t,r){var o=n(1017),a=document.querySelector("#content-router");i[e]&&i[e].includes("/app")?s("#386C6F"):s("#B5DAF4"),a&&(a.innerHTML=""),console.log("Carregando módulo para a rota: ".concat(e," com parâmetros:"),r);var c=o(e.replace("./pages/","./"));if(c&&"function"==typeof c.init){var d=c.init(r.data);d instanceof Promise&&d.then((function(){console.log("Módulo carregado com sucesso")})).catch((function(e){console.error("Erro ao carregar o módulo:",e),a&&(a.innerHTML="<h1>Erro ao carregar página.</h1>")}))}}("./pages/Produto.js",0,e)},"/carrinho":function(){return c("./pages/Carrinho.js","#content-router")},"/app":function(){return c("./pages/Dashboard.js","#content-router")},"/login":function(){return c("./pages/Login.js","#content-router")},"/cadastro":function(){return c("./pages/Cadastro.js","#content-router")},"/logout":function(){return c("./pages/Logout.js","#content-router")},"/app/estoque":function(){return c("./pages/Estoque.js","#content-dashboard")},"/app/caixa":function(){return c("./pages/Caixa.js","#content-dashboard")},"/app/historico":function(){return c("./pages/Historico.js","#content-dashboard")},"/app/gasto":function(){return c("./pages/Gasto.js","#content-dashboard")},"/app/conta-parcelada":function(){return c("./pages/ContaParcelada.js","#content-dashboard")},"/app/conta-fixa":function(){return c("./pages/ContaFixa.js","#content-dashboard")},"/app/dinheiro-caixa":function(){return c("./pages/DinheiroCaixa.js","#content-dashboard")},"/app/cliente":function(){return c("./pages/Cliente.js","#content-dashboard")},"/app/crediario":function(){return c("./pages/Crediario.js","#content-dashboard")},"/app/atualizacao-lote":function(){return c("./pages/AtualizacaoLote.js","#content-dashboard")},"/app/usuario":function(){return c("./pages/Usuarios.js","#content-dashboard")},"/app/fornecedores":function(){return c("./pages/Fornecedores.js","#content-dashboard")},"/app/pedidos":function(){return c("./pages/Pedidos.js","#content-dashboard")},"/app/fechamento-caixa":function(){return c("./pages/FechamentoCaixa.js","#content-dashboard")},"/app/orcamentos":function(){return c("./pages/Orcamentos.js","#content-dashboard")}}),a.resolve(),window.addEventListener("popstate",(function(){a.resolve()}))}},1676:(e,t,n)=>{"use strict";n.d(t,{AB:()=>o.AB,BN:()=>o.BN,CI:()=>a.CI,GG:()=>o.GG,GV:()=>o.GV,H9:()=>o.H9,HF:()=>a.HF,HM:()=>o.HM,IX:()=>a.IX,J1:()=>a.J1,My:()=>o.My,O5:()=>o.O5,P:()=>o.P,_M:()=>o._M,aQ:()=>o.aQ,df:()=>a.df,eJ:()=>a.eJ,f3:()=>a.f3,gS:()=>o.gS,hg:()=>a.hg,hq:()=>o.hq,kA:()=>s,kZ:()=>a.kZ,kd:()=>o.kd,mZ:()=>o.mZ,r7:()=>a.r7,rJ:()=>o.rJ,wP:()=>o.wP,x7:()=>o.x7,x9:()=>a.x9,xI:()=>a.xI});var r=n(223),o=n(7594),a=n(6887),i=n(4920),c=(0,r.Wp)({apiKey:"AIzaSyBjvTgvMxOiUcJzud6Vapa5X8ZnGeph0aA",authDomain:"papelaria-79dc5.firebaseapp.com",projectId:"papelaria-79dc5",storageBucket:"papelaria-79dc5.firebasestorage.app",messagingSenderId:"730323947354",appId:"1:730323947354:web:6a61e2312a6cc4e361ad63",measurementId:"G-WV7TN4BG8B"}),s=(0,o.aU)(c);(0,i.c7)()},8246:(e,t,n)=>{"use strict";n.d(t,{VA:()=>m,Ww:()=>b,Zv:()=>h,wx:()=>v});var r=n(1676);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){d(a,r,o,i,c,"next",e)}function c(e){d(a,r,o,i,c,"throw",e)}i(void 0)}))}}function u(){return p.apply(this,arguments)}function p(){return(p=l(a().mark((function e(){var t,n,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,r.xI)(),!(n=t.currentUser)){e.next=15;break}return o=(0,r.H9)(r.kA,"usuarios",n.uid),e.next=6,(0,r.x7)(o);case 6:if(!(i=e.sent).exists()){e.next=12;break}return s=c({id:i.id},i.data()),e.abrupt("return",s);case 12:case 15:return e.abrupt("return",null);case 13:e.next=16;break;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return f.apply(this,arguments)}function f(){return(f=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(!e.sent){e.next=6;break}e.next=7;break;case 6:return e.abrupt("return",w());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return g.apply(this,arguments)}function g(){return(g=l(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:e.sent||L(t,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=l(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:e.sent||I(t,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return(x=l(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:e.sent||k(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return JSON.parse(localStorage.getItem("carrinho"))||[]}function E(e){localStorage.setItem("carrinho",JSON.stringify(e))}function L(e,t){var n=w();n.some((function(t){return t.id===e}))?E(n=n.map((function(n){return n.id===e&&(n.quantidade+=t),n}))):(n.push({id:e,quantidade:t}),E(n))}function k(e){var t=w();E(t=t.filter((function(t){return t.id!==e})))}function I(e,t){var n=w();E(n=n.map((function(n){return n.id===e&&(n.quantidade=t),n})))}},4541:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(1676);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(){return new Promise((function(e,t){var n=(0,r.xI)();(0,r.hg)(n,function(){var t,n=(t=a().mark((function t(n){var o,i,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onAuthStateChanged verifyLoggedInUser Dashboard.js"),!n){t.next=9;break}return o=(0,r.H9)(r.kA,"usuarios",n.uid),t.next=5,(0,r.x7)(o);case 5:(i=t.sent).exists()?(s=c({id:i.id},i.data()),localStorage.removeItem("user"),"cliente"===s.tipo||void 0===s.tipo?e(["#/",null]):e([null,s])):e(["#/login",null]),t.next=10;break;case 9:e(["#/login",null]);case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){d(a,r,o,i,c,"next",e)}function c(e){d(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())}))}},7664:(e,t,n)=>{"use strict";n.d(t,{VQ:()=>c});var r=n(1100);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new O(r||[]);return i(a,"_invoke",{value:j(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,c,s){var d=m(e[a],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return s.apply(this,arguments)}function s(){return e=a().mark((function e(t){var n,o,i,c,s,d,l,u,p,m,f,h,g,v,y,b,x,w,E,L,k,I,B=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=B.length>1&&void 0!==B[1]?B[1]:{}).scale,i=void 0===o?1.5:o,c=n.maxPages,s=void 0===c?null:c,d=n.quality,l=void 0===d?.8:d,u=n.onProgress,p=void 0===u?null:u,e.prev=2,e.next=5,t.arrayBuffer();case 5:return m=e.sent,e.next=8,r.YE({data:m}).promise;case 8:f=e.sent,h=[],g=s?Math.min(f.numPages,s):f.numPages,p&&p({stage:"iniciando",current:0,total:g,percentage:0,message:"Iniciando conversão de ".concat(g," página").concat(g>1?"s":"","...")}),v=1;case 13:if(!(v<=g)){e.next=32;break}return p&&(y=Math.round((v-1)/g*100),p({stage:"convertendo",current:v,total:g,percentage:y,message:"Convertendo página ".concat(v," de ").concat(g,"...")})),e.next=17,f.getPage(v);case 17:return b=e.sent,x=b.getViewport({scale:i}),w=document.createElement("canvas"),E=w.getContext("2d"),w.height=x.height,w.width=x.width,L={canvasContext:E,viewport:x},e.next=26,b.render(L).promise;case 26:k=w.toDataURL("image/jpeg",l),h.push(k),p&&(I=Math.round(v/g*100),p({stage:"convertendo",current:v,total:g,percentage:I,message:"Página ".concat(v," convertida com sucesso!")}));case 29:v++,e.next=13;break;case 32:return p&&p({stage:"concluido",current:g,total:g,percentage:100,message:"Conversão concluída! ".concat(g," página").concat(g>1?"s":""," convertida").concat(g>1?"s":"",".")}),e.abrupt("return",h);case 36:throw e.prev=36,e.t0=e.catch(2),console.error("Erro ao converter PDF para imagem:",e.t0),p&&p({stage:"erro",current:0,total:0,percentage:0,message:"Erro na conversão do PDF"}),new Error("Falha ao converter PDF para imagem");case 41:case"end":return e.stop()}}),e,null,[[2,36]])})),s=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))},s.apply(this,arguments);var e}r.EA.workerSrc="/assets/js/pdf.worker.min.js"},2758:(e,t,n)=>{"use strict";n.d(t,{d:()=>y});var r=n(1676),o=n(2795);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),c=new O(r||[]);return o(i,"_invoke",{value:j(e,n,c)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var E={};u(E,s,(function(){return this}));var L=Object.getPrototypeOf,k=L&&L(L(D([])));k&&k!==n&&r.call(k,s)&&(E=k);var I=w.prototype=b.prototype=Object.create(E);function B(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,c,s){var d=m(e[o],e,i);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(u).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(d.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=C(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var d=m(t,n,r);if("normal"===d.type){if(o=r.done?v:h,d.arg===y)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=v,r.method="throw",r.arg=d.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return x.prototype=w,o(I,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),u(S.prototype,d,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new S(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),u(I,l,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),d=r.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,c,"next",e)}function c(e){p(a,r,o,i,c,"throw",e)}i(void 0)}))}}var f=[],h=[];function g(e){return v.apply(this,arguments)}function v(){return(v=m(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,r.rJ)(r.kA,"produtos"),(0,r.aQ)(n,(function(e){f[t]=e.docs.map((function(e){return l({id:e.id},e.data())})),console.log("Produtos atualizados do Firebase:",f[t]),console.log(h);for(var n=function(){var e,t=c(a[r],2),n=t[0],i=t[1],s=window.location.hash.replace(/#\//g,"");s.startsWith("/")||(s="/"+s),(null===(e=Object.entries(o.H6).find((function(e){var t=c(e,2);return t[0],t[1]===s})))||void 0===e?void 0:e[0])===n&&(console.log("Chamando callback da ",n),i(f[n]))},r=0,a=Object.entries(h);r<a.length;r++)n()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return b.apply(this,arguments)}function b(){return(b=m(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&"function"==typeof n&&!h[t]&&(h[t]=n),f[t]){e.next=6;break}return e.next=4,g(t);case 4:e.next=7;break;case 6:n(f[t]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6115:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function c(e,t,n){e.querySelectorAll("thead th").forEach((function(e,r){var o=e.textContent.trim();if("Ações"!==o){var a="filter-".concat(o.toLowerCase().replace(/\s+/g,"-")),i=document.createElement("div"),c=document.createElement("label");c.setAttribute("for",a),c.className="block text-sm font-medium",c.textContent=o;var s=document.createElement("input");s.id=a,s.className="w-full p-2 border rounded focus:outline-none",s.type=n.includes(r)?"number":"text","number"===s.type&&(s.step="0.01"),i.appendChild(c),i.appendChild(s),t.appendChild(i)}}))}function s(e,t,n,r,o,a){e.addEventListener("submit",(function(e){e.preventDefault();var i=0,c={},s=t.querySelectorAll('input[type="text"], input[type="number"]'),d=document.getElementById("sem-codbar");s.forEach((function(e){if(""!==e.value.trim()){var t=e.id.replace("filter-","");c[t]=e.value.trim()}})),n.querySelectorAll("tbody tr").forEach((function(e){var t=e.querySelectorAll("td"),r=!0;if(Object.keys(c).forEach((function(e){var o,a=Array.from(n.querySelectorAll("thead th")).findIndex((function(t){return t.textContent.trim().toLowerCase().replace(/\s+/g,"-")===e})),i=(null===(o=t[a])||void 0===o?void 0:o.textContent.trim().toLowerCase())||"";i.startsWith("r$")&&(i=i.substring(3).replace(",",".")),i.includes(c[e].toLowerCase())||(r=!1)})),d&&d.checked){var o=t[8];o&&""!==o.textContent.trim()&&(r=!1)}r&&i++,e.style.display=r?"":"none"})),o&&(o.classList.remove("hidden"),a.textContent=i),r.classList.add("hidden");var l=new CustomEvent("filterApplied");n.dispatchEvent(l)}))}function d(e,t){var n,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=o(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw a}}}}(e.options);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.text===t){a.selected=!0;break}}}catch(e){r.e(e)}finally{r.f()}}function l(e){e.addEventListener("paste",(function(t){t.preventDefault();var n=function(e){var t,n,r=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(r){var a=(n=4,function(e){if(Array.isArray(e))return e}(t=r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw o}}return c}}(t,n)||o(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=(a[0],a[1]),c=a[2],s=a[3];return"".concat(s,"-").concat(c,"-").concat(i)}return null}((t.clipboardData||window.clipboardData).getData("text"));n&&(e.value=n)}))}function u(e,t,n){e.forEach((function(e){e.removeEventListener(t,n)}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return e.slice().sort((function(e,r){var o=t?e[t]:e,a=t?r[t]:r;return"number"==typeof o&&"number"==typeof a||o instanceof Date&&a instanceof Date?(o-a)*("asc"===n?1:-1):((o=String(o).toLowerCase())>(a=String(a).toLowerCase())?1:o<a?-1:0)*("asc"===n?1:-1)}))}function m(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;e.innerHTML="",t.forEach((function(t){var n="object"===r(t)?t.name:t,o="object"===r(t)&&t.label?t.label:n.charAt(0).toUpperCase()+n.slice(1),a="filter-".concat(n),i=document.createElement("div"),c=document.createElement("label");c.setAttribute("for",a),c.className="block text-sm font-medium",c.textContent=o;var s=document.createElement("input");s.id=a,s.className="w-full p-2 border rounded focus:outline-none",s.type="qtde"===n||"precoVenda"===n||"precoCusto"===n?"number":"text",i.appendChild(c),i.appendChild(s),e.appendChild(i)})),a&&a.addEventListener("submit",(function(e){e.preventDefault();var a={};t.forEach((function(e){var t="object"===r(e)?e.name:e,n=document.getElementById("filter-".concat(t));n&&""!==n.value.trim()&&(a[t]=n.value.trim().toLowerCase())}));var d=document.getElementById("sem-codbar"),l=o.filter((function(e){var t=!0;return Object.keys(a).forEach((function(n){var r=e[n];Array.isArray(r)&&(r=r.join(", ")),(r=(r||"").toString().toLowerCase()).includes(a[n])||(t=!1)})),d&&d.checked&&e.codbar&&(t=!1),t}));n&&n(l),i&&i.classList.add("hidden"),c&&s&&(c.classList.remove("hidden"),s.textContent=l.length)}))}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return'\n        <div class="'.concat(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",'">\n            <div class="relative w-full">\n                <input \n                    type="').concat(e,'" \n                    id="').concat(t,'" \n                    class="peer w-full pt-5 pb-2 px-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" \n                    placeholder=" "\n                    ').concat(r?"required":"","\n                    ").concat(o,'\n                />\n                <label for="').concat(t,'" class="absolute left-2 top-1.5 text-gray-500 text-sm bg-white px-1 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1.5 peer-focus:text-sm peer-focus:text-primary">\n                    ').concat(n,"\n                </label>\n            </div>\n            ").concat(a,"\n        </div>\n    ")}n.d(t,{E4:()=>c,KP:()=>d,LH:()=>f,RT:()=>u,U4:()=>l,bi:()=>s,wE:()=>m,wy:()=>p,xu:()=>i})},6054:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,":root {    \n    --primary-color: #c88f67;\n    --second-color: #c88f67;\n}\n\n#cabecalho {\n    background-color: #B5DAF4;\n    color: white;\n}\n\n#menu-sidebar, #content-hamburguer-menu {\n    background-color: #644128;\n    background-color: #386c6f;\n}\n\n#menu-home, #menu-carrinho {\n    /* background-color: #B5DAF4; */\n    background-color: #6aa3cb;\n}\n\n.bg-primary {\n    background-color: #2F0D06;\n    background-color: #386c6f;\n    color: #FFFAFA;\n}\n\nbutton.bg-primary:hover {\n    background-color: #2F0D06;\n    background-color: #264a4c;\n}\n\n::-webkit-scrollbar {\n    width: 8px;\n}\n::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n}\n::-webkit-scrollbar-track {\n    background-color: rgba(0, 0, 0, 0.05);\n    border-radius: 4px;\n}\n::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n}\n\n@media (max-width: 768px) {\n    #dashboard-container {\n        flex-direction: column; /* Sidebar e conteúdo em coluna */\n    }\n\n    .sidebar {\n        width: 100%; /* Sidebar ocupa toda a largura */\n        position: relative; /* Sidebar será movida para o topo em telas pequenas */\n        height: auto; /* Não fixa a altura */\n    }\n\n    .main-content {\n        margin-left: 0; /* Sem margem para o conteúdo */\n    }\n}\n\nhtml, body {\n    height: 100%;\n}\n  \n#content-router {\n    height: 100%; /* Para garantir que o router ocupe a altura total */\n}\n\n#dashboard-container {\n    background-color: #FAF9F6;\n}\n\n#tipo-metodo button.rounded-full:focus,\n#metodo-unico button.rounded-full:focus {\n    outline: -webkit-focus-ring-color auto 1px;\n}\n\n.blur-value {\n    filter: blur(5px);\n    pointer-events: none;\n    /* transition: filter 0.3s ease; */\n}\n\n.visible {\n    filter: none;\n    /* transition: filter 0.3s ease; */\n}\n\n/* Personalizando o estilo do radio button */\n.radio-custom {\n  width: 16px;\n  height: 16px;\n  border: 2px solid #ddd;\n  border-radius: 50%;\n  display: inline-block;\n  position: relative;\n  transition: background-color 0.2s ease, border-color 0.2s ease;\n}\n\n.radio-custom:before {\n  content: '';\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  width: 8px;\n  height: 8px;\n  background-color: #fff;\n  border-radius: 50%;\n  transition: background-color 0.2s ease;\n}\n\n/* Quando o radio é marcado (peer-checked) */\n.peer:checked + .radio-custom {\n  background-color: #386c6f; /* Cor customizada */\n  border-color: #386c6f;\n  border: 0px solid #ddd;\n}\n\n.peer:checked + .radio-custom:before {\n  background-color: #fff;\n}\n\n/* Estilo de foco (aplicado ao 'input' e propagado ao 'span') */\n.peer:focus + .radio-custom {\n  border-color: #386c6f;\n  box-shadow: 0 0 0 3px rgba(56, 108, 111, 0.3); /* Efeito de foco */\n}\n\n.peer:focus + .radio-custom:before {\n  background-color: #386c6f; /* Pode mudar o círculo interno também */\n}\n\n/* O 'focus-within' garante o foco na label e no span */\n.focus-within:ring-2 {\n  box-shadow: 0 0 0 3px rgba(56, 108, 111, 0.3); /* Destacar a borda do radio button */\n}\n\n/* Estilos para o sidebar minimizado */\n#menu-sidebar.md\\:w-20 #menu-options {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  overflow-y: auto !important;\n  overflow-x: hidden !important;\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n\n#menu-sidebar.md\\:w-20 #menu-options li {\n  width: 100%;\n}\n\n#menu-sidebar.md\\:w-20 #menu-options a {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem;\n  width: 100%;\n}\n\n/* Garantir que o sidebar minimizado não tenha overflow horizontal */\n#menu-sidebar.md\\:w-20 {\n  overflow-x: hidden;\n}\n\n/* Melhorar a área do usuário quando minimizada */\n#menu-sidebar.md\\:w-20 #user-area {\n  padding: 0.5rem;\n}\n\n/* Garantir que o main-content se ajuste */\n#main-content {\n  transition: margin-left 0.3s ease;\n}",""]);const c=i},283:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".viewport {\n    position: relative;\n    width: 100%;\n    height: 300px;\n    background-color: #000;\n    overflow: hidden;\n}\n\n.viewport video {\n    width: 100%;\n    height: 100%;\n    -o-object-fit: cover;\n       object-fit: cover;\n}\n\n/* Canvas do Quagga */\n.viewport canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 10;\n}\n\n.viewport::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 2px solid #fff;\n    box-shadow: 0 0 0 1000px rgba(0, 0, 0, 0.5);\n    z-index: 1;\n}\n\n/* Área de detecção */\n.viewport .drawingBuffer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 20;\n}\n\n/* Linhas de guia */\n.viewport .drawingBuffer canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 30;\n} ",""]);const c=i},8961:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,'*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: \'\';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user\'s configured `sans` font-family by default.\n5. Use the user\'s configured `sans` font-feature-settings by default.\n6. Use the user\'s configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user\'s configured `mono` font-family by default.\n2. Use the user\'s configured `mono` font-feature-settings by default.\n3. Use the user\'s configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type=\'button\']),\ninput:where([type=\'reset\']),\ninput:where([type=\'submit\']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type=\'search\'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user\'s configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role="button"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don\'t get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden="until-found"])) {\n  display: none;\n}\n.\\!container {\n  width: 100% !important;\n}\n.container {\n  width: 100%;\n}\n@media (min-width: 640px) {\n\n  .\\!container {\n    max-width: 640px !important;\n  }\n\n  .container {\n    max-width: 640px;\n  }\n}\n@media (min-width: 768px) {\n\n  .\\!container {\n    max-width: 768px !important;\n  }\n\n  .container {\n    max-width: 768px;\n  }\n}\n@media (min-width: 1024px) {\n\n  .\\!container {\n    max-width: 1024px !important;\n  }\n\n  .container {\n    max-width: 1024px;\n  }\n}\n@media (min-width: 1280px) {\n\n  .\\!container {\n    max-width: 1280px !important;\n  }\n\n  .container {\n    max-width: 1280px;\n  }\n}\n@media (min-width: 1536px) {\n\n  .\\!container {\n    max-width: 1536px !important;\n  }\n\n  .container {\n    max-width: 1536px;\n  }\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n.pointer-events-none {\n  pointer-events: none;\n}\n.visible {\n  visibility: visible;\n}\n.invisible {\n  visibility: hidden;\n}\n.collapse {\n  visibility: collapse;\n}\n.static {\n  position: static;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.sticky {\n  position: sticky;\n}\n.inset-0 {\n  inset: 0px;\n}\n.inset-y-0 {\n  top: 0px;\n  bottom: 0px;\n}\n.-bottom-1 {\n  bottom: -0.25rem;\n}\n.-top-8 {\n  top: -2rem;\n}\n.bottom-0 {\n  bottom: 0px;\n}\n.bottom-full {\n  bottom: 100%;\n}\n.end-1 {\n  inset-inline-end: 0.25rem;\n}\n.left-0 {\n  left: 0px;\n}\n.left-1\\/2 {\n  left: 50%;\n}\n.left-2 {\n  left: 0.5rem;\n}\n.right-0 {\n  right: 0px;\n}\n.right-1 {\n  right: 0.25rem;\n}\n.right-2 {\n  right: 0.5rem;\n}\n.right-3 {\n  right: 0.75rem;\n}\n.right-4 {\n  right: 1rem;\n}\n.top-0 {\n  top: 0px;\n}\n.top-1 {\n  top: 0.25rem;\n}\n.top-1\\.5 {\n  top: 0.375rem;\n}\n.top-2 {\n  top: 0.5rem;\n}\n.top-3 {\n  top: 0.75rem;\n}\n.top-4 {\n  top: 1rem;\n}\n.z-10 {\n  z-index: 10;\n}\n.z-20 {\n  z-index: 20;\n}\n.z-30 {\n  z-index: 30;\n}\n.z-50 {\n  z-index: 50;\n}\n.z-\\[60\\] {\n  z-index: 60;\n}\n.z-\\[9999\\] {\n  z-index: 9999;\n}\n.col-span-1 {\n  grid-column: span 1 / span 1;\n}\n.col-span-2 {\n  grid-column: span 2 / span 2;\n}\n.col-span-3 {\n  grid-column: span 3 / span 3;\n}\n.col-span-full {\n  grid-column: 1 / -1;\n}\n.float-right {\n  float: right;\n}\n.float-left {\n  float: left;\n}\n.mx-4 {\n  margin-left: 1rem;\n  margin-right: 1rem;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.my-2 {\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.my-4 {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n.my-auto {\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-3 {\n  margin-bottom: 0.75rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.mb-\\[6rem\\] {\n  margin-bottom: 6rem;\n}\n.ml-2 {\n  margin-left: 0.5rem;\n}\n.ml-3 {\n  margin-left: 0.75rem;\n}\n.ml-4 {\n  margin-left: 1rem;\n}\n.ml-auto {\n  margin-left: auto;\n}\n.mr-0 {\n  margin-right: 0px;\n}\n.mr-1 {\n  margin-right: 0.25rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mr-3 {\n  margin-right: 0.75rem;\n}\n.mr-4 {\n  margin-right: 1rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-10 {\n  margin-top: 2.5rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-6 {\n  margin-top: 1.5rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.mt-\\[1px\\] {\n  margin-top: 1px;\n}\n.block {\n  display: block;\n}\n.inline-block {\n  display: inline-block;\n}\n.inline {\n  display: inline;\n}\n.flex {\n  display: flex;\n}\n.inline-flex {\n  display: inline-flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.h-1 {\n  height: 0.25rem;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-12 {\n  height: 3rem;\n}\n.h-16 {\n  height: 4rem;\n}\n.h-2 {\n  height: 0.5rem;\n}\n.h-2\\.5 {\n  height: 0.625rem;\n}\n.h-20 {\n  height: 5rem;\n}\n.h-24 {\n  height: 6rem;\n}\n.h-28 {\n  height: 7rem;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-32 {\n  height: 8rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-48 {\n  height: 12rem;\n}\n.h-5 {\n  height: 1.25rem;\n}\n.h-6 {\n  height: 1.5rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-\\[1\\.0rem\\] {\n  height: 1.0rem;\n}\n.h-\\[400px\\] {\n  height: 400px;\n}\n.h-\\[calc\\(100vh-12rem\\)\\] {\n  height: calc(100vh - 12rem);\n}\n.h-full {\n  height: 100%;\n}\n.h-px {\n  height: 1px;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-40 {\n  max-height: 10rem;\n}\n.max-h-48 {\n  max-height: 12rem;\n}\n.max-h-60 {\n  max-height: 15rem;\n}\n.max-h-64 {\n  max-height: 16rem;\n}\n.max-h-80 {\n  max-height: 20rem;\n}\n.max-h-96 {\n  max-height: 24rem;\n}\n.max-h-\\[21rem\\] {\n  max-height: 21rem;\n}\n.max-h-\\[25rem\\] {\n  max-height: 25rem;\n}\n.max-h-\\[25vh\\] {\n  max-height: 25vh;\n}\n.max-h-\\[30rem\\] {\n  max-height: 30rem;\n}\n.max-h-\\[35rem\\] {\n  max-height: 35rem;\n}\n.max-h-\\[400px\\] {\n  max-height: 400px;\n}\n.max-h-\\[80vh\\] {\n  max-height: 80vh;\n}\n.max-h-\\[90vh\\] {\n  max-height: 90vh;\n}\n.max-h-full {\n  max-height: 100%;\n}\n.min-h-0 {\n  min-height: 0px;\n}\n.min-h-\\[3\\.5rem\\] {\n  min-height: 3.5rem;\n}\n.min-h-\\[4rem\\] {\n  min-height: 4rem;\n}\n.w-1 {\n  width: 0.25rem;\n}\n.w-1\\/2 {\n  width: 50%;\n}\n.w-1\\/3 {\n  width: 33.333333%;\n}\n.w-10 {\n  width: 2.5rem;\n}\n.w-12 {\n  width: 3rem;\n}\n.w-14 {\n  width: 3.5rem;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-2 {\n  width: 0.5rem;\n}\n.w-2\\/3 {\n  width: 66.666667%;\n}\n.w-20 {\n  width: 5rem;\n}\n.w-24 {\n  width: 6rem;\n}\n.w-28 {\n  width: 7rem;\n}\n.w-3 {\n  width: 0.75rem;\n}\n.w-3\\/4 {\n  width: 75%;\n}\n.w-32 {\n  width: 8rem;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-40 {\n  width: 10rem;\n}\n.w-48 {\n  width: 12rem;\n}\n.w-5 {\n  width: 1.25rem;\n}\n.w-6 {\n  width: 1.5rem;\n}\n.w-64 {\n  width: 16rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-96 {\n  width: 24rem;\n}\n.w-\\[13rem\\] {\n  width: 13rem;\n}\n.w-\\[16rem\\] {\n  width: 16rem;\n}\n.w-\\[25rem\\] {\n  width: 25rem;\n}\n.w-\\[400px\\] {\n  width: 400px;\n}\n.w-\\[40rem\\] {\n  width: 40rem;\n}\n.w-\\[500px\\] {\n  width: 500px;\n}\n.w-\\[50rem\\] {\n  width: 50rem;\n}\n.w-\\[90\\%\\] {\n  width: 90%;\n}\n.w-\\[calc\\(50\\%-0\\.5rem\\)\\] {\n  width: calc(50% - 0.5rem);\n}\n.w-full {\n  width: 100%;\n}\n.w-screen {\n  width: 100vw;\n}\n.min-w-0 {\n  min-width: 0px;\n}\n.min-w-full {\n  min-width: 100%;\n}\n.max-w-2xl {\n  max-width: 42rem;\n}\n.max-w-3xl {\n  max-width: 48rem;\n}\n.max-w-4xl {\n  max-width: 56rem;\n}\n.max-w-\\[75\\%\\] {\n  max-width: 75%;\n}\n.max-w-full {\n  max-width: 100%;\n}\n.max-w-lg {\n  max-width: 32rem;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.max-w-sm {\n  max-width: 24rem;\n}\n.max-w-xs {\n  max-width: 20rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n.flex-grow {\n  flex-grow: 1;\n}\n.grow {\n  flex-grow: 1;\n}\n.border-collapse {\n  border-collapse: collapse;\n}\n.origin-bottom-right {\n  transform-origin: bottom right;\n}\n.-translate-x-1\\/2 {\n  --tw-translate-x: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.-translate-x-full {\n  --tw-translate-x: -100%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.translate-x-0 {\n  --tw-translate-x: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.translate-x-\\[100\\%\\] {\n  --tw-translate-x: 100%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.rotate-45 {\n  --tw-rotate: 45deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-0 {\n  --tw-scale-x: 0;\n  --tw-scale-y: 0;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-100 {\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-95 {\n  --tw-scale-x: .95;\n  --tw-scale-y: .95;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes pulse {\n\n  50% {\n    opacity: .5;\n  }\n}\n.animate-pulse {\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n.cursor-help {\n  cursor: help;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.resize {\n  resize: both;\n}\n.list-inside {\n  list-style-position: inside;\n}\n.list-disc {\n  list-style-type: disc;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.grid-cols-3 {\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.flex-row {\n  flex-direction: row;\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-end {\n  align-items: flex-end;\n}\n.items-center {\n  align-items: center;\n}\n.items-stretch {\n  align-items: stretch;\n}\n.justify-start {\n  justify-content: flex-start;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-3 {\n  gap: 0.75rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.75rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(1rem * var(--tw-space-x-reverse));\n  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));\n}\n.divide-y > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-y-reverse: 0;\n  border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n  border-bottom-width: calc(1px * var(--tw-divide-y-reverse));\n}\n.divide-gray-200 > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-divide-opacity, 1));\n}\n.self-start {\n  align-self: flex-start;\n}\n.self-end {\n  align-self: flex-end;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-x-auto {\n  overflow-x: auto;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n.whitespace-pre-wrap {\n  white-space: pre-wrap;\n}\n.break-all {\n  word-break: break-all;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.rounded-md {\n  border-radius: 0.375rem;\n}\n.rounded-l {\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.rounded-l-md {\n  border-top-left-radius: 0.375rem;\n  border-bottom-left-radius: 0.375rem;\n}\n.rounded-l-none {\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n}\n.rounded-r {\n  border-top-right-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\n.rounded-r-md {\n  border-top-right-radius: 0.375rem;\n  border-bottom-right-radius: 0.375rem;\n}\n.rounded-r-none {\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n}\n.rounded-t-md {\n  border-top-left-radius: 0.375rem;\n  border-top-right-radius: 0.375rem;\n}\n.rounded-bl-\\[14px\\] {\n  border-bottom-left-radius: 14px;\n}\n.rounded-br-\\[14px\\] {\n  border-bottom-right-radius: 14px;\n}\n.border {\n  border-width: 1px;\n}\n.border-2 {\n  border-width: 2px;\n}\n.border-4 {\n  border-width: 4px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-width: 2px;\n}\n.border-l-0 {\n  border-left-width: 0px;\n}\n.border-l-4 {\n  border-left-width: 4px;\n}\n.border-r-0 {\n  border-right-width: 0px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-dashed {\n  border-style: dashed;\n}\n.border-blue-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(191 219 254 / var(--tw-border-opacity, 1));\n}\n.border-blue-400 {\n  --tw-border-opacity: 1;\n  border-color: rgb(96 165 250 / var(--tw-border-opacity, 1));\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n}\n.border-blue-600 {\n  --tw-border-opacity: 1;\n  border-color: rgb(37 99 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.border-gray-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(107 114 128 / var(--tw-border-opacity, 1));\n}\n.border-gray-600 {\n  --tw-border-opacity: 1;\n  border-color: rgb(75 85 99 / var(--tw-border-opacity, 1));\n}\n.border-green-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(187 247 208 / var(--tw-border-opacity, 1));\n}\n.border-green-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(34 197 94 / var(--tw-border-opacity, 1));\n}\n.border-red-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(254 202 202 / var(--tw-border-opacity, 1));\n}\n.border-red-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(239 68 68 / var(--tw-border-opacity, 1));\n}\n.border-transparent {\n  border-color: transparent;\n}\n.border-white {\n  --tw-border-opacity: 1;\n  border-color: rgb(255 255 255 / var(--tw-border-opacity, 1));\n}\n.border-yellow-400 {\n  --tw-border-opacity: 1;\n  border-color: rgb(250 204 21 / var(--tw-border-opacity, 1));\n}\n.border-yellow-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(234 179 8 / var(--tw-border-opacity, 1));\n}\n.bg-\\[\\#386c6f\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(56 108 111 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#f0f0f0\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(240 240 240 / var(--tw-bg-opacity, 1));\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(191 219 254 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(107 114 128 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-700 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-900 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(17 24 39 / var(--tw-bg-opacity, 1));\n}\n.bg-green-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1));\n}\n.bg-green-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(187 247 208 / var(--tw-bg-opacity, 1));\n}\n.bg-green-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(240 253 244 / var(--tw-bg-opacity, 1));\n}\n.bg-green-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1));\n}\n.bg-indigo-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(224 231 255 / var(--tw-bg-opacity, 1));\n}\n.bg-indigo-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(199 210 254 / var(--tw-bg-opacity, 1));\n}\n.bg-orange-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 237 213 / var(--tw-bg-opacity, 1));\n}\n.bg-orange-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 215 170 / var(--tw-bg-opacity, 1));\n}\n.bg-pink-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(251 207 232 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 232 255 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(233 213 255 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(168 85 247 / var(--tw-bg-opacity, 1));\n}\n.bg-red-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));\n}\n.bg-red-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 202 202 / var(--tw-bg-opacity, 1));\n}\n.bg-red-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 242 242 / var(--tw-bg-opacity, 1));\n}\n.bg-red-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));\n}\n.bg-red-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n.bg-teal-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(204 251 241 / var(--tw-bg-opacity, 1));\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 249 195 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 240 138 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 252 232 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(234 179 8 / var(--tw-bg-opacity, 1));\n}\n.bg-opacity-50 {\n  --tw-bg-opacity: 0.5;\n}\n.bg-opacity-75 {\n  --tw-bg-opacity: 0.75;\n}\n.object-contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.object-cover {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-1\\.5 {\n  padding: 0.375rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.px-1 {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.px-6 {\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n}\n.py-0\\.5 {\n  padding-top: 0.125rem;\n  padding-bottom: 0.125rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-1\\.5 {\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-3 {\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.py-5 {\n  padding-top: 1.25rem;\n  padding-bottom: 1.25rem;\n}\n.py-6 {\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n.pb-0 {\n  padding-bottom: 0px;\n}\n.pb-1 {\n  padding-bottom: 0.25rem;\n}\n.pb-2 {\n  padding-bottom: 0.5rem;\n}\n.pb-20 {\n  padding-bottom: 5rem;\n}\n.pb-4 {\n  padding-bottom: 1rem;\n}\n.pb-5 {\n  padding-bottom: 1.25rem;\n}\n.pb-6 {\n  padding-bottom: 1.5rem;\n}\n.pl-0 {\n  padding-left: 0px;\n}\n.pl-2 {\n  padding-left: 0.5rem;\n}\n.pl-4 {\n  padding-left: 1rem;\n}\n.pl-5 {\n  padding-left: 1.25rem;\n}\n.pr-0 {\n  padding-right: 0px;\n}\n.pr-1 {\n  padding-right: 0.25rem;\n}\n.pr-10 {\n  padding-right: 2.5rem;\n}\n.pr-11 {\n  padding-right: 2.75rem;\n}\n.pr-12 {\n  padding-right: 3rem;\n}\n.pr-2 {\n  padding-right: 0.5rem;\n}\n.pr-3 {\n  padding-right: 0.75rem;\n}\n.pr-4 {\n  padding-right: 1rem;\n}\n.pr-5 {\n  padding-right: 1.25rem;\n}\n.pr-6 {\n  padding-right: 1.5rem;\n}\n.pt-1 {\n  padding-top: 0.25rem;\n}\n.pt-16 {\n  padding-top: 4rem;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-3 {\n  padding-top: 0.75rem;\n}\n.pt-4 {\n  padding-top: 1rem;\n}\n.pt-5 {\n  padding-top: 1.25rem;\n}\n.pt-\\[5\\.5rem\\] {\n  padding-top: 5.5rem;\n}\n.text-left {\n  text-align: left;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.align-middle {\n  vertical-align: middle;\n}\n.font-mono {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-3xl {\n  font-size: 1.875rem;\n  line-height: 2.25rem;\n}\n.text-4xl {\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n}\n.text-6xl {\n  font-size: 3.75rem;\n  line-height: 1;\n}\n.text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.capitalize {\n  text-transform: capitalize;\n}\n.italic {\n  font-style: italic;\n}\n.leading-none {\n  line-height: 1;\n}\n.tracking-wider {\n  letter-spacing: 0.05em;\n}\n.text-\\[\\#348D79\\] {\n  --tw-text-opacity: 1;\n  color: rgb(52 141 121 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#386c6f\\] {\n  --tw-text-opacity: 1;\n  color: rgb(56 108 111 / var(--tw-text-opacity, 1));\n}\n.text-black {\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity, 1));\n}\n.text-blue-500 {\n  --tw-text-opacity: 1;\n  color: rgb(59 130 246 / var(--tw-text-opacity, 1));\n}\n.text-blue-600 {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n.text-blue-700 {\n  --tw-text-opacity: 1;\n  color: rgb(29 78 216 / var(--tw-text-opacity, 1));\n}\n.text-blue-800 {\n  --tw-text-opacity: 1;\n  color: rgb(30 64 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-300 {\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.text-gray-800 {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.text-gray-900 {\n  --tw-text-opacity: 1;\n  color: rgb(17 24 39 / var(--tw-text-opacity, 1));\n}\n.text-green-500 {\n  --tw-text-opacity: 1;\n  color: rgb(34 197 94 / var(--tw-text-opacity, 1));\n}\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n.text-green-700 {\n  --tw-text-opacity: 1;\n  color: rgb(21 128 61 / var(--tw-text-opacity, 1));\n}\n.text-green-800 {\n  --tw-text-opacity: 1;\n  color: rgb(22 101 52 / var(--tw-text-opacity, 1));\n}\n.text-indigo-800 {\n  --tw-text-opacity: 1;\n  color: rgb(55 48 163 / var(--tw-text-opacity, 1));\n}\n.text-orange-800 {\n  --tw-text-opacity: 1;\n  color: rgb(154 52 18 / var(--tw-text-opacity, 1));\n}\n.text-purple-800 {\n  --tw-text-opacity: 1;\n  color: rgb(107 33 168 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.text-red-700 {\n  --tw-text-opacity: 1;\n  color: rgb(185 28 28 / var(--tw-text-opacity, 1));\n}\n.text-red-800 {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n.text-teal-800 {\n  --tw-text-opacity: 1;\n  color: rgb(17 94 89 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.text-yellow-500 {\n  --tw-text-opacity: 1;\n  color: rgb(234 179 8 / var(--tw-text-opacity, 1));\n}\n.text-yellow-600 {\n  --tw-text-opacity: 1;\n  color: rgb(202 138 4 / var(--tw-text-opacity, 1));\n}\n.text-yellow-700 {\n  --tw-text-opacity: 1;\n  color: rgb(161 98 7 / var(--tw-text-opacity, 1));\n}\n.text-yellow-800 {\n  --tw-text-opacity: 1;\n  color: rgb(133 77 14 / var(--tw-text-opacity, 1));\n}\n.underline {\n  text-decoration-line: underline;\n}\n.overline {\n  text-decoration-line: overline;\n}\n.line-through {\n  text-decoration-line: line-through;\n}\n.accent-\\[\\#386c6f\\] {\n  accent-color: #386c6f;\n}\n.opacity-0 {\n  opacity: 0;\n}\n.opacity-100 {\n  opacity: 1;\n}\n.opacity-50 {\n  opacity: 0.5;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-2xl {\n  --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n  --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-md {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.outline {\n  outline-style: solid;\n}\n.ring {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-inset {\n  --tw-ring-inset: inset;\n}\n.ring-gray-500\\/10 {\n  --tw-ring-color: rgb(107 114 128 / 0.1);\n}\n.blur {\n  --tw-blur: blur(8px);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.grayscale {\n  --tw-grayscale: grayscale(100%);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-opacity {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-shadow {\n  transition-property: box-shadow;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-transform {\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-200 {\n  transition-duration: 200ms;\n}\n.duration-300 {\n  transition-duration: 300ms;\n}\n.duration-500 {\n  transition-duration: 500ms;\n}\n.ease-out {\n  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.last\\:border-0:last-child {\n  border-width: 0px;\n}\n.focus-within\\:ring-2:focus-within {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.focus-within\\:ring-\\[\\#386c6f\\]:focus-within {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(56 108 111 / var(--tw-ring-opacity, 1));\n}\n.hover\\:scale-105:hover {\n  --tw-scale-x: 1.05;\n  --tw-scale-y: 1.05;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.hover\\:bg-\\[\\#264a4c\\]:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(38 74 76 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-\\[\\#386c6f\\]:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(56 108 111 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-blue-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-blue-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-300:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-400:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-500:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(107 114 128 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(75 85 99 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-green-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(22 163 74 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-purple-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(147 51 234 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-red-400:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(248 113 113 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-red-500:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-red-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-yellow-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(202 138 4 / var(--tw-bg-opacity, 1));\n}\n.hover\\:text-\\[\\#264a4c\\]:hover {\n  --tw-text-opacity: 1;\n  color: rgb(38 74 76 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-\\[\\#F5CA56\\]:hover {\n  --tw-text-opacity: 1;\n  color: rgb(245 202 86 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-gray-300:hover {\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-gray-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-green-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-red-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(185 28 28 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-red-800:hover {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-white:hover {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.hover\\:underline:hover {\n  text-decoration-line: underline;\n}\n.hover\\:opacity-80:hover {\n  opacity: 0.8;\n}\n.hover\\:opacity-90:hover {\n  opacity: 0.9;\n}\n.hover\\:shadow-lg:hover {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.focus\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.disabled\\:cursor-not-allowed:disabled {\n  cursor: not-allowed;\n}\n.disabled\\:bg-gray-300:disabled {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.group:hover .group-hover\\:opacity-100 {\n  opacity: 1;\n}\n.peer:checked ~ .peer-checked\\:bg-\\[\\#386c6f\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(56 108 111 / var(--tw-bg-opacity, 1));\n}\n.peer:-moz-placeholder-shown ~ .peer-placeholder-shown\\:top-2 {\n  top: 0.5rem;\n}\n.peer:placeholder-shown ~ .peer-placeholder-shown\\:top-2 {\n  top: 0.5rem;\n}\n.peer:-moz-placeholder-shown ~ .peer-placeholder-shown\\:top-4 {\n  top: 1rem;\n}\n.peer:placeholder-shown ~ .peer-placeholder-shown\\:top-4 {\n  top: 1rem;\n}\n.peer:-moz-placeholder-shown ~ .peer-placeholder-shown\\:text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.peer:placeholder-shown ~ .peer-placeholder-shown\\:text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.peer:-moz-placeholder-shown ~ .peer-placeholder-shown\\:text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.peer:placeholder-shown ~ .peer-placeholder-shown\\:text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.peer:focus ~ .peer-focus\\:top-1 {\n  top: 0.25rem;\n}\n.peer:focus ~ .peer-focus\\:top-1\\.5 {\n  top: 0.375rem;\n}\n.peer:focus ~ .peer-focus\\:text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.peer:focus ~ .peer-focus\\:text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.peer:focus ~ .peer-focus\\:ring-2 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.peer:focus ~ .peer-focus\\:ring-\\[\\#386c6f\\] {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(56 108 111 / var(--tw-ring-opacity, 1));\n}\n@media (min-width: 640px) {\n\n  .sm\\:inline {\n    display: inline;\n  }\n\n  .sm\\:h-20 {\n    height: 5rem;\n  }\n\n  .sm\\:w-20 {\n    width: 5rem;\n  }\n\n  .sm\\:w-48 {\n    width: 12rem;\n  }\n\n  .sm\\:w-\\[calc\\(20\\%-0\\.5rem\\)\\] {\n    width: calc(20% - 0.5rem);\n  }\n\n  .sm\\:w-auto {\n    width: auto;\n  }\n\n  .sm\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  .sm\\:space-y-4 > :not([hidden]) ~ :not([hidden]) {\n    --tw-space-y-reverse: 0;\n    margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n    margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n  }\n}\n@media (min-width: 768px) {\n\n  .md\\:relative {\n    position: relative;\n  }\n\n  .md\\:bottom-6 {\n    bottom: 1.5rem;\n  }\n\n  .md\\:left-auto {\n    left: auto;\n  }\n\n  .md\\:right-6 {\n    right: 1.5rem;\n  }\n\n  .md\\:top-6 {\n    top: 1.5rem;\n  }\n\n  .md\\:top-auto {\n    top: auto;\n  }\n\n  .md\\:z-0 {\n    z-index: 0;\n  }\n\n  .md\\:z-10 {\n    z-index: 10;\n  }\n\n  .md\\:col-span-1 {\n    grid-column: span 1 / span 1;\n  }\n\n  .md\\:col-span-2 {\n    grid-column: span 2 / span 2;\n  }\n\n  .md\\:col-span-3 {\n    grid-column: span 3 / span 3;\n  }\n\n  .md\\:mb-6 {\n    margin-bottom: 1.5rem;\n  }\n\n  .md\\:block {\n    display: block;\n  }\n\n  .md\\:inline {\n    display: inline;\n  }\n\n  .md\\:flex {\n    display: flex;\n  }\n\n  .md\\:hidden {\n    display: none;\n  }\n\n  .md\\:h-\\[calc\\(100vh-16rem\\)\\] {\n    height: calc(100vh - 16rem);\n  }\n\n  .md\\:h-auto {\n    height: auto;\n  }\n\n  .md\\:h-screen {\n    height: 100vh;\n  }\n\n  .md\\:max-h-\\[20rem\\] {\n    max-height: 20rem;\n  }\n\n  .md\\:max-h-\\[calc\\(100vh-3rem\\)\\] {\n    max-height: calc(100vh - 3rem);\n  }\n\n  .md\\:w-20 {\n    width: 5rem;\n  }\n\n  .md\\:w-32 {\n    width: 8rem;\n  }\n\n  .md\\:w-64 {\n    width: 16rem;\n  }\n\n  .md\\:w-80 {\n    width: 20rem;\n  }\n\n  .md\\:w-\\[32rem\\] {\n    width: 32rem;\n  }\n\n  .md\\:w-auto {\n    width: auto;\n  }\n\n  .md\\:flex-initial {\n    flex: 0 1 auto;\n  }\n\n  .md\\:translate-x-0 {\n    --tw-translate-x: 0px;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  .md\\:grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n\n  .md\\:grid-cols-12 {\n    grid-template-columns: repeat(12, minmax(0, 1fr));\n  }\n\n  .md\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  .md\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n\n  .md\\:grid-cols-4 {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  .md\\:grid-cols-5 {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n\n  .md\\:flex-row {\n    flex-direction: row;\n  }\n\n  .md\\:items-center {\n    align-items: center;\n  }\n\n  .md\\:gap-4 {\n    gap: 1rem;\n  }\n\n  .md\\:gap-6 {\n    gap: 1.5rem;\n  }\n\n  .md\\:space-x-4 > :not([hidden]) ~ :not([hidden]) {\n    --tw-space-x-reverse: 0;\n    margin-right: calc(1rem * var(--tw-space-x-reverse));\n    margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n  }\n\n  .md\\:rounded-none {\n    border-radius: 0px;\n  }\n\n  .md\\:rounded-l-lg {\n    border-top-left-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n  }\n\n  .md\\:rounded-r-lg {\n    border-top-right-radius: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n  }\n\n  .md\\:rounded-r-none {\n    border-top-right-radius: 0px;\n    border-bottom-right-radius: 0px;\n  }\n\n  .md\\:p-10 {\n    padding: 2.5rem;\n  }\n\n  .md\\:p-2 {\n    padding: 0.5rem;\n  }\n\n  .md\\:p-4 {\n    padding: 1rem;\n  }\n\n  .md\\:px-4 {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n\n  .md\\:py-2 {\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n  }\n\n  .md\\:pb-4 {\n    padding-bottom: 1rem;\n  }\n\n  .md\\:pl-0 {\n    padding-left: 0px;\n  }\n\n  .md\\:pl-5 {\n    padding-left: 1.25rem;\n  }\n\n  .md\\:pr-2 {\n    padding-right: 0.5rem;\n  }\n\n  .md\\:pt-0 {\n    padding-top: 0px;\n  }\n\n  .md\\:pt-4 {\n    padding-top: 1rem;\n  }\n\n  .md\\:text-2xl {\n    font-size: 1.5rem;\n    line-height: 2rem;\n  }\n\n  .md\\:text-sm {\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n  }\n}\n@media (min-width: 1024px) {\n\n  .lg\\:mb-0 {\n    margin-bottom: 0px;\n  }\n\n  .lg\\:ml-4 {\n    margin-left: 1rem;\n  }\n\n  .lg\\:ml-auto {\n    margin-left: auto;\n  }\n\n  .lg\\:mr-0 {\n    margin-right: 0px;\n  }\n\n  .lg\\:mr-4 {\n    margin-right: 1rem;\n  }\n\n  .lg\\:mt-0 {\n    margin-top: 0px;\n  }\n\n  .lg\\:inline {\n    display: inline;\n  }\n\n  .lg\\:max-h-\\[20rem\\] {\n    max-height: 20rem;\n  }\n\n  .lg\\:max-h-\\[30rem\\] {\n    max-height: 30rem;\n  }\n\n  .lg\\:w-1\\/2 {\n    width: 50%;\n  }\n\n  .lg\\:w-1\\/3 {\n    width: 33.333333%;\n  }\n\n  .lg\\:w-1\\/5 {\n    width: 20%;\n  }\n\n  .lg\\:w-1\\/6 {\n    width: 16.666667%;\n  }\n\n  .lg\\:w-2\\/4 {\n    width: 50%;\n  }\n\n  .lg\\:grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n\n  .lg\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  .lg\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n\n  .lg\\:grid-cols-4 {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  .lg\\:grid-cols-5 {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n\n  .lg\\:flex-nowrap {\n    flex-wrap: nowrap;\n  }\n\n  .lg\\:px-12 {\n    padding-left: 3rem;\n    padding-right: 3rem;\n  }\n\n  .lg\\:px-4 {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n\n  .lg\\:pl-10 {\n    padding-left: 2.5rem;\n  }\n\n  .lg\\:text-3xl {\n    font-size: 1.875rem;\n    line-height: 2.25rem;\n  }\n\n  .group:hover .lg\\:group-hover\\:flex {\n    display: flex;\n  }\n}\n@media (min-width: 1280px) {\n\n  .xl\\:grid-cols-5 {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n}',""]);const c=i},8466:(e,t,n)=>{"use strict";var r=n(5072),o=n.n(r),a=n(7825),i=n.n(a),c=n(7659),s=n.n(c),d=n(5056),l=n.n(d),u=n(540),p=n.n(u),m=n(1113),f=n.n(m),h=n(283),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=p(),o()(h.A,g),h.A&&h.A.locals&&h.A.locals},1017:(e,t,n)=>{var r={"./AtualizacaoLote.js":2127,"./Cadastro.js":9232,"./Caixa.js":8447,"./Carrinho.js":3709,"./Cliente.js":5457,"./ContaFixa.js":1502,"./ContaParcelada.js":1873,"./Crediario.js":2183,"./Dashboard.js":5345,"./DinheiroCaixa.js":4711,"./Estoque.js":3263,"./EstoqueTable.js":1673,"./FechamentoCaixa.js":3473,"./Fornecedores.js":6172,"./Gasto.js":5387,"./Historico.js":4837,"./Home.js":7972,"./Login.js":7886,"./Logout.js":601,"./Orcamentos.js":7200,"./Pedidos.js":7361,"./Produto.js":1010,"./Usuarios.js":9026};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1017}},e=>{e.O(0,[96],(()=>e(e.s=343))),e.O()}]);